import{_ as ne,a as se}from"./Table.db4db060.js";import{a as pe}from"./common.8d778571.js";import{e as de,n as re}from"./systemManage.169b421f.js";import{d as ce,a as G,r as p,b as c,e as o,f as v,g as d,j as a,k as l,u as V,aG as ie,F as x,h,l as i,s as _e,m as be,q as z,x as f,E as me,aD as A}from"./index.3926de36.js";import"./index.49c99800.js";const fe={class:"flex flex-col w-full p-10px box-border",style:{height:"calc(100% - 40px)"}},ve={class:"flex-1 flex flex-col h-100%",style:{"box-shadow":"0px 1px 10px 0px rgba(153, 153, 153, 0.4)"}},xe=d("div",{class:"h-50px lh-50px pl-10px pr-40px bg-[#F8F8F8]"},[d("span",{class:"text-[#333] text-16px font-bold"},"\u56ED\u533A\u80FD\u6548\u6307\u6807\u914D\u7F6E")],-1),ye={class:"w-full",style:{height:"calc(100% - 50px)"}},he={class:"mt-2px float-right"},Fe=f("\u67E5\u8BE2"),ge=f("\u91CD\u7F6E"),ze={class:"text-right pr-20px pb-10px"},De=f("\u65B0\u589E"),Ee={class:"flex justify-center"},Ce=f("\u67E5\u770B"),we=f("\u7F16\u8F91"),ke=f("\u5220\u9664"),Be=d("hr",null,null,-1),Ve={class:"text-right"},Ae=f("\u53D6\u6D88"),qe=f("\u4FDD\u5B58"),Te=ce({__name:"index",setup(Le){const I=G({user:"",region:""}),q=p(1),L=p(10);let M=p(0);const H=p(""),D=p(""),J=p(["",""]),K=()=>{H.value="",D.value="",J.value=["",""],y()},U=p([]);function P(){pe({zdxdm:"zbmc"}).then(u=>{U.value=u})}P();const Q=[{type:"index",label:"\u5E8F\u53F7",width:"80"},{prop:"zbmczd",label:"\u6307\u6807\u540D\u79F0"},{prop:"zbz",label:"\u6307\u6807\u503C",width:240},{prop:"zbdw",label:"\u6307\u6807\u5355\u4F4D",width:160},{prop:"gxsj",label:"\u66F4\u65B0\u65F6\u95F4"},{prop:"gxr",label:"\u66F4\u65B0\u4EBA"},{label:"\u64CD\u4F5C",width:"140",slotName:"actionColumn",type:"slot",align:"center"}],T=p([]);function y(){const u={zbmc:D.value,pageNo:q.value,pageSize:L.value};de(u).then(t=>{T.value=t.records,q.value=t.current,L.value=t.size,M.value=t.total})}y();const R=u=>{console.log(`\u6BCF\u9875 ${u} \u6761`),L.value=u,y()},X=u=>{console.log(`\u5F53\u524D\u9875: ${u}`),q.value=u,y()},N=p(!1),E=p(!0),C=[{formLabelText:"\u57FA\u672C\u4FE1\u606F",formLabelWidth:"160px",formList:[{prop:"zbmc",label:"\u6307\u6807\u540D\u79F0",type:"input",value:""},{prop:"zbz",label:"\u6307\u6807\u503C",type:"input",value:""},{prop:"zbdw",label:"\u6307\u6807\u5355\u4F4D",type:"input",value:""},{prop:"gxr",label:"\u66F4\u65B0\u4EBA",type:"input",value:""},{prop:"gxsj",label:"\u66F4\u65B0\u65F6\u95F4",type:"input",value:""}]}],ee=G({zbmc:[{required:!0,message:"\u6307\u6807\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],zbz:[{required:!0,message:"\u6307\u6807\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),_=p({}),le=u=>{_.value=u,E.value=!0,N.value=!0},$=()=>{me.confirm("\u6682\u65E0\u6743\u9650\u64CD\u4F5C!","\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",type:"warning",showCancelButton:!1}).then(()=>{})},W=()=>{C[0].formList.forEach(u=>{u.value=""}),b.value={},w.value=!1},w=p(!1),b=p({}),ue=()=>{C[0].formList.forEach(u=>{u.value=""}),b.value={},w.value=!0},ae=()=>{let u=b.value;if(u.zbmc==null||u.zbmc===""){A({message:"\u65B0\u589E\u5931\u8D25\uFF01\u6307\u6807\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(u.zbz==null||u.zbz===""){A({message:"\u65B0\u589E\u5931\u8D25\uFF01\u6307\u6807\u503C\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}u.zbz=Number(u.zbz),re(u).then(t=>{t!=null&&(w.value=!1,y(),A({message:"\u65B0\u589E\u6210\u529F\uFF01",type:"success"}))}).catch(t=>{var F,g,r;A({message:"\u65B0\u589E\u5931\u8D25! "+((r=(g=(F=t==null?void 0:t.response)==null?void 0:F.data)==null?void 0:g.result)==null?void 0:r.resultMessage),type:"error"})})};return(u,t)=>{const F=c("el-option"),g=c("el-select"),r=c("el-form-item"),m=c("el-button"),S=c("el-form"),te=ne,oe=c("el-pagination"),k=c("el-input"),O=c("el-col"),Y=c("el-row"),Z=se;return o(),v(x,null,[d("div",fe,[d("div",ve,[xe,d("div",ye,[a(S,{inline:!0,model:I,class:"m-20px pl-30px border-0 border-b border-solid border-#E0E0E0"},{default:l(()=>[a(r,{label:"\u6307\u6807\u540D\u79F0"},{default:l(()=>[a(g,{modelValue:D.value,"onUpdate:modelValue":t[0]||(t[0]=n=>D.value=n),placeholder:"\u8BF7\u9009\u62E9\u6307\u6807\u540D\u79F0"},{default:l(()=>[(o(!0),v(x,null,h(U.value,n=>(o(),i(F,{key:n.id,label:n.mc,value:n.dm},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d("div",he,[a(m,{type:"primary",class:"w-80px rounded-15px",icon:V(_e),onClick:y},{default:l(()=>[Fe]),_:1},8,["icon"]),a(m,{class:"w-80px bg-[#dceeff] rounded-15px",icon:V(be),onClick:K},{default:l(()=>[ge]),_:1},8,["icon"])])]),_:1},8,["model"]),d("div",ze,[a(m,{type:"primary",class:"w-80px rounded-15px",icon:V(ie),onClick:ue},{default:l(()=>[De]),_:1},8,["icon"])]),a(te,{class:"mt-20px",style:{height:"calc(100% - 200px)"},"table-columns":Q,"table-data":T.value},{actionColumn:l(({row:n})=>[d("div",Ee,[a(m,{link:"",type:"primary",onClick:B=>le(n)},{default:l(()=>[Ce]),_:2},1032,["onClick"]),a(m,{link:"",type:"primary",onClick:$},{default:l(()=>[we]),_:1}),a(m,{link:"",type:"danger",onClick:$},{default:l(()=>[ke]),_:1})])]),_:1},8,["table-data"]),a(oe,{onSizeChange:R,onCurrentChange:X,class:"justify-end m-10px mt-15px",layout:"total, sizes, prev, pager, next",total:V(M),background:""},null,8,["total"])])])]),a(Z,{visible:N.value,title:"\u4F01\u4E1A\u80FD\u6548\u6307\u6807\u914D\u7F6E\u8BE6\u60C5\u67E5\u770B",width:"1000px",onClose:t[3]||(t[3]=n=>N.value=!1)},{default:l(()=>[(o(),v(x,null,h(C,(n,B)=>a(S,{key:B,"label-width":n.formLabelWidth,model:_.value},{default:l(()=>[a(Y,{gutter:0},{default:l(()=>[(o(!0),v(x,null,h(n.formList,(e,j)=>(o(),i(O,{key:j,span:e.span||12},{default:l(()=>[a(r,{label:e.label},{default:l(()=>[e.prop!="qymc"&&e.prop!="zbmc"?(o(),i(k,{key:0,modelValue:_.value[e.prop],"onUpdate:modelValue":s=>_.value[e.prop]=s,type:e.type,disabled:E.value},null,8,["modelValue","onUpdate:modelValue","type","disabled"])):z("",!0)]),_:2},1032,["label"]),e.prop=="qymc"?(o(),i(r,{key:0,label:e.label},{default:l(()=>[a(k,{modelValue:_.value.qyMc,"onUpdate:modelValue":t[1]||(t[1]=s=>_.value.qyMc=s),type:e.type,disabled:E.value},null,8,["modelValue","type","disabled"])]),_:2},1032,["label"])):z("",!0),e.prop=="zbmc"?(o(),i(r,{key:1,label:e.label},{default:l(()=>[a(k,{modelValue:_.value.zbmczd,"onUpdate:modelValue":t[2]||(t[2]=s=>_.value.zbmczd=s),type:e.type,disabled:E.value},null,8,["modelValue","type","disabled"])]),_:2},1032,["label"])):z("",!0)]),_:2},1032,["span"]))),128))]),_:2},1024),Be]),_:2},1032,["label-width","model"])),64))]),_:1},8,["visible"]),a(Z,{visible:w.value,title:"\u4F01\u4E1A\u80FD\u6548\u6307\u6807\u914D\u7F6E\u65B0\u589E",width:"1000px",onClose:W},{default:l(()=>[(o(),v(x,null,h(C,(n,B)=>a(S,{key:B,"label-width":n.formLabelWidth,model:b.value,rules:ee},{default:l(()=>[a(Y,{gutter:0},{default:l(()=>[(o(!0),v(x,null,h(n.formList,(e,j)=>(o(),i(O,{key:j,span:e.span||12},{default:l(()=>[e.prop!="qymc"&&e.prop!="zbmc"&&e.prop!="gxsj"?(o(),i(r,{key:0,label:e.label,prop:e.prop},{default:l(()=>[a(k,{modelValue:b.value[e.prop],"onUpdate:modelValue":s=>b.value[e.prop]=s,name:e.prop,type:e.type},null,8,["modelValue","onUpdate:modelValue","name","type"])]),_:2},1032,["label","prop"])):z("",!0),e.prop=="zbmc"?(o(),i(r,{key:1,label:"\u6307\u6807\u540D\u79F0",prop:"zbmc"},{default:l(()=>[a(g,{modelValue:b.value[e.prop],"onUpdate:modelValue":s=>b.value[e.prop]=s,placeholder:"\u8BF7\u9009\u62E9\u6307\u6807\u540D\u79F0"},{default:l(()=>[(o(!0),v(x,null,h(U.value,s=>(o(),i(F,{key:s.id,label:s.mc,value:s.dm},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):z("",!0)]),_:2},1032,["span"]))),128))]),_:2},1024)]),_:2},1032,["label-width","model","rules"])),64)),d("div",Ve,[a(m,{class:"w-80px h-40px",onClick:W},{default:l(()=>[Ae]),_:1}),a(m,{type:"primary",class:"w-80px h-40px",onClick:ae},{default:l(()=>[qe]),_:1})])]),_:1},8,["visible"])],64)}}});export{Te as default};
