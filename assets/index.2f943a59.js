import{_ as L}from"./EnterpriseList.1db47293.js";import{_ as C,d as A,r as h,a as F,aA as E,e as f,f as y,g as e,t as r,q as T,u as B,aB as x,C as k,D as M,x as c,o as q,j as b,F as I,aC as S}from"./index.3926de36.js";import{q as G}from"./common.8d778571.js";import{e as N}from"./energyMonitor.b1799313.js";import"./index.49c99800.js";class g{constructor(){window.GTileLayerArray=[]}add(n){const{name:t,parentName:s,option:o}=n,d={url:o.url,layer:o.layer,text:o.text,level:o.level,maxVisLevel:o.maxVisLevel,minVisLevel:o.minVisLevel,visible:o.visible||!0,isAddToLayerTree:o.isAddToLayerTree||!0,tileMatrixLabels:o.tileMatrixLabels,pId:o.pId,type:o.type,proxy:o.proxy||!1},u=new CgsTileLayer(d),_={name:t,parentName:s,tileLayer:u};window.map.addLayer(u),window.GTileLayerArray.push(_)}removeByName(n){window.GTileLayerArray.forEach((t,s)=>{t.name==n&&(window.map.removeLayer(t.tileLayer),window.GTileLayerArray.splice(s,1))})}removeByPatName(n){const t=window.GTileLayerArray.length;for(let s=t-1;s>=0;s--)window.GTileLayerArray[s].parentName==n&&(window.map.removeLayer(window.GTileLayerArray[s].tileLayer),window.GTileLayerArray.splice(s,1))}removeAll(){window.GTileLayerArray.forEach(n=>{window.map.removeLayer(n.tileLayer)}),window.GTileLayerArray=[]}setVisibleByName(n,t){window.GTileLayerArray.forEach(s=>{s.name==n&&s.tileLayer.setVisible(t)})}setVisibleByPatName(n,t){window.GTileLayerArray.forEach(s=>{s.parentName==n&&s.tileLayer.setVisible(t)})}}function D(){const i=new CgsMap({target:"mapContainer",projection:"EPSG:102113",center:[118.804,32.864],zoom:11,mode:"3D",threeFlag:!0});window.map=i,i.loadConfig(),i.setStarVisible(!0),i.setFogVisible(!1),document.querySelector(".toolbar_container").style.display="none",V(),z()}function V(){const i={url:"http://49.77.124.50:32010/earthview/services/Globe/RasterService/WMTS",layer:"Globe",text:"\u5168\u7403\u5F71\u50CF",level:11,visible:!0,isAddToLayerTree:!0,tileMatrixLabels:[1,2,3,4,5,6,7,8,9,10,11,12],pId:"level1_1",type:"wmts",proxy:!1};new g().add({name:"qqyx",parentName:"qqyx",option:i});const n={url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS",layer:"World_Imagery",text:"\u5728\u7EBF\u4E16\u754C\u5F71\u50CF\u5730\u56FE",level:19,visible:!0,isAddToLayerTree:!0,tileMatrixLabels:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],pId:"level1_1",type:"wmts",proxy:!1};new g().add({name:"qqyx",parentName:"qqyx",option:n})}function z(){Cesium.Ion.defaultAccessToken="eyJqdGkiOiJiNDEzM2I4OS1hMDU2LTRjYzEtYjVhMy0zMWJjZmQyMTk4N2MiLCJpZCI6NTkxOTcsImlhdCI6MTYzMDAzMzM2OH0"}const l=i=>(k("data-v-22cc2532"),i=i(),M(),i),O={class:"flex flex-col items-center"},Q={key:0,class:"position-absolute top--260px w-620px h-260px rounded-4px",style:{"background-color":"rgba(16, 16, 52, 0.7)"}},j={class:"h-50px lh-50px text-18px font-bold text-center text-[#fff]"},W=l(()=>e("hr",{class:"ml-20px mr-20px bg-[rgba(248,248,248,0.24)]"},null,-1)),$={class:"flex"},Y={class:"flex-1 ml-20px"},J={class:"flex items-center mb-8px text-[#fff]"},P=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),R={class:"w-180px"},Z=c(" \u5B9E\u65F6\u529F\u7387(\u7535): "),H=l(()=>e("span",null,"kW",-1)),U={class:"flex items-center mb-8px text-[#fff]"},K=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),X={class:"w-180px"},ee=c(" \u77AC\u65F6\u6D41\u91CF(\u6C34): "),te=l(()=>e("span",null,"t/h",-1)),se={class:"flex items-center mb-8px text-[#fff]"},le=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),ne={class:"w-180px"},oe=c(" \u77AC\u65F6\u6D41\u91CF(\u84B8\u6C7D): "),ie=l(()=>e("span",null,"t/h",-1)),ae={class:"flex items-center mb-8px text-[#fff]"},re=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),ce={class:"w-180px"},de=c(" \u5F53\u65E5\u7528\u7535\u91CF: "),pe=l(()=>e("span",null,"\u4E07kWh",-1)),ue={class:"flex items-center mb-8px text-[#fff]"},_e=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),xe={class:"w-180px"},me=c(" \u5F53\u65E5\u7528\u6C34\u91CF: "),he=l(()=>e("span",null,"\u4E07t",-1)),fe={class:"flex items-center text-[#fff]"},ye=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),ve={class:"w-180px"},we=c(" \u5F53\u65E5\u7EFC\u5408\u80FD\u8017\u603B\u91CF: "),be=l(()=>e("span",null,"\u4E07tce",-1)),ge=l(()=>e("div",{class:"w-1px bg-[rgba(248,248,248,0.24)]"},null,-1)),Ae={class:"flex-1 ml-20px"},Le={class:"flex items-center mb-8px text-[#fff]"},Ce=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),Fe={class:"w-180px"},Ee=c(" \u5F53\u65E5\u78B3\u6392\u653E\u603B\u91CF: "),Te=l(()=>e("span",null,"\u4E07t",-1)),Be={class:"flex items-center mb-8px text-[#fff]"},ke=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),Me={class:"w-180px"},qe=c(" \u5E74\u5EA6\u78B3\u6392\u653E\u603B\u91CF: "),Ie=l(()=>e("span",null,"\u4E07t",-1)),Se={class:"flex items-center mb-8px text-[#fff]"},Ge=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),Ne={class:"w-180px"},De=c(" \u78B3\u6392\u5F3A\u5EA6: "),Ve=l(()=>e("span",null,"t/\u4E07\u5143",-1)),ze={class:"flex items-center mb-8px text-[#fff]"},Oe=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),Qe={class:"w-180px"},je=c(" \u78B3\u51CF\u6392\u91CF: "),We=l(()=>e("span",null,"\u4E07t",-1)),$e={class:"flex items-center mb-8px text-[#fff]"},Ye=l(()=>e("i",{class:"inline-block w-8px h-8px mr-8px rounded-4px bg-[#3AB779]"},null,-1)),Je={class:"w-180px"},Pe=c(" \u78B3\u4F59\u989D: "),Re=l(()=>e("span",null,"\u4E07t",-1)),Ze=A({__name:"MapSign",setup(i){const n=h(!1),t=F({qymc:"",ssgl:"",ssllSw:"",ssllZq:"",drYdl:"",drysl:"",nnhmzl:"",drtpfzl:"",ndtpfzl:"",tpfqd:"",tjpl:"",tye:""});return E(n,s=>{s&&N({qyId:x().mapActiveQyId}).then(o=>{for(const d in t)t[d]=o[d]!==null?o[d]:"--"})}),(s,o)=>(f(),y("div",O,[n.value?(f(),y("div",Q,[e("div",j,r(t.qymc),1),W,e("div",$,[e("div",Y,[e("div",J,[P,e("div",R,[Z,e("span",null,r(t.ssgl),1)]),H]),e("div",U,[K,e("div",X,[ee,e("span",null,r(t.ssllSw),1)]),te]),e("div",se,[le,e("div",ne,[oe,e("span",null,r(t.ssllZq),1)]),ie]),e("div",ae,[re,e("div",ce,[de,e("span",null,r(t.drYdl),1)]),pe]),e("div",ue,[_e,e("div",xe,[me,e("span",null,r(t.drysl),1)]),he]),e("div",fe,[ye,e("div",ve,[we,e("span",null,r(t.nnhmzl),1)]),be])]),ge,e("div",Ae,[e("div",Le,[Ce,e("div",Fe,[Ee,e("span",null,r(t.drtpfzl),1)]),Te]),e("div",Be,[ke,e("div",Me,[qe,e("span",null,r(t.ndtpfzl),1)]),Ie]),e("div",Se,[Ge,e("div",Ne,[De,e("span",null,r(t.tpfqd),1)]),Ve]),e("div",ze,[Oe,e("div",Qe,[je,e("span",null,r(t.tjpl),1)]),We]),e("div",$e,[Ye,e("div",Je,[Pe,e("span",null,r(t.tye),1)]),Re])])])])):T("",!0),e("div",{class:"sign-containter",onClick:o[0]||(o[0]=d=>n.value=!n.value)},[e("span",null,r(B(x)().mapActiveQyMc),1)])]))}});var He=C(Ze,[["__scopeId","data-v-22cc2532"]]),Ue="/assets/qylx.d124fb4e.png";const Ke=e("div",{class:"h-60px lh-60px bg-[#f8f8f8]"},[e("h1",{class:"m-0 text-center text-36px font-bold text-[#333]"},"\u5F90\u5729\u65B0\u533A\u77F3\u5316\u57FA\u5730\u80FD\u6E90\u76D1\u6D4B\u5730\u56FE")],-1),Xe={class:"position-relative flex flex-row p-10px box-border",style:{height:"calc(100% - 100px)"}},et={class:"w-330px box-border",style:{"box-shadow":"0px 1px 10px 0px rgba(153, 153, 153, 0.4)"}},tt=e("div",{id:"mapContainer"},null,-1),at=A({__name:"index",setup(i){const n=h(null),t={label:"mc"},s=h([]);q(()=>{D(),map.setCameraInfo({position:{lon:119.59198244360422,lat:34.53251784411287,height:15e3},rotation:{heading:10,pitch:-90,roll:0}})});function o(){G({nylx:"1"}).then(a=>{s.value=a==null?void 0:a.map(p=>({...p,mc:p.qymc})),s.value.length>0&&(n.value.defaultActive(s.value[0].id),x().mapActiveQyId=s.value[0].id,x().mapActiveQyMc=s.value[0].qymc,v(s.value[0].jd,s.value[0].wd))})}o();const d=(a,p)=>{x().mapActiveQyId=a.id,x().mapActiveQyMc=a.qymc,v(a.jd,a.wd)};let u=null,_=null;function v(a,p){map.setCameraInfo({position:{lon:a,lat:p,height:15e3},rotation:{heading:10,pitch:-90,roll:0}}),u&&_&&(map.removeOverlay(u),map.removeFeature(_)),_=new CgsMark({position:[a,p],url:Ue,scale:1,labeloffset:[20,0]}),map.addFeature(_);const m=b(He),w=document.createElement("div");S(m,w),u=new CgsOverlay({position:[a,p,20],positioning:"center-center",element:w,offset:[0,-50],draggable:!1,showLine:!1,lineStyle:{width:2,color:"rgba(255,255,255,0.9)"}}),map.addOverlay(u)}return(a,p)=>{const m=L;return f(),y(I,null,[Ke,e("div",Xe,[e("div",et,[b(m,{ref_key:"treeRef",ref:n,"tree-data":s.value,"default-props":t,onTreeClick:d},null,8,["tree-data"])]),tt])],64)}}});export{at as default};
