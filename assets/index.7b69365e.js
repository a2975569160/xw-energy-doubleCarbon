import{_ as ae,a as oe}from"./Table.db4db060.js";import{a as ne}from"./common.8d778571.js";import{h as se,i as pe}from"./systemManage.169b421f.js";import{d as re,a as I,r as p,b as d,e as o,f,g as r,j as l,k as u,u as A,aG as de,F as y,h,l as b,s as ie,m as ce,q as w,x,E as _e,aD as v}from"./index.3926de36.js";import"./index.49c99800.js";const be={class:"flex flex-col w-full p-10px box-border",style:{height:"calc(100% - 40px)"}},xe={class:"flex-1 flex flex-col h-100%",style:{"box-shadow":"0px 1px 10px 0px rgba(153, 153, 153, 0.4)"}},me=r("div",{class:"h-50px lh-50px pl-10px pr-40px bg-[#F8F8F8]"},[r("span",{class:"text-[#333] text-16px font-bold"},"\u80FD\u6E90\u6298\u6807\u7CFB\u6570\u914D\u7F6E")],-1),fe={class:"w-full",style:{height:"calc(100% - 50px)"}},ye={class:"mt-2px float-right"},ve=x("\u67E5\u8BE2"),Fe=x("\u91CD\u7F6E"),ge={class:"text-right pr-20px pb-10px"},he=x("\u65B0\u589E"),Ee={class:"flex justify-center"},Ce=x("\u67E5\u770B"),De=x("\u7F16\u8F91"),Be=x("\u5220\u9664"),ze=r("hr",null,null,-1),Ae={class:"text-right"},we=x("\u53D6\u6D88"),ke=x("\u4FDD\u5B58"),je=re({__name:"index",setup(Ve){const Q=I({user:"",region:""}),S=p(1),j=p(20);let Z=p(0);const C=p(""),H=()=>{C.value="",F()},k=p([]);function J(){ne({zdxdm:"nylx"}).then(e=>{k.value=e})}J();const K=[{type:"index",label:"\u5E8F\u53F7",width:"80"},{prop:"nylxMc",label:"\u80FD\u6E90\u7C7B\u578B",width:200},{prop:"zbxs",label:"\u6298\u6807\u7CFB\u6570"},{prop:"zbz",label:"\u6307\u6807\u503C",width:160},{prop:"szbz",label:"\u6570\u503C\u6807\u51C6",width:160},{prop:"gxsj",label:"\u66F4\u65B0\u65F6\u95F4"},{prop:"gxr",label:"\u66F4\u65B0\u4EBA"},{label:"\u64CD\u4F5C",width:"140",slotName:"actionColumn",type:"slot",align:"center"}],T=p([]);function F(){const e={nylx:C.value,pageNo:S.value,pageSize:j.value};se(e).then(a=>{T.value=a})}F();const P=e=>{console.log(`\u6BCF\u9875 ${e} \u6761`),j.value=e,F()},R=e=>{console.log(`\u5F53\u524D\u9875: ${e}`),S.value=e,F()},V=p(!1),L=p(!0),D=[{formLabelText:"\u57FA\u672C\u4FE1\u606F",formLabelWidth:"160px",formList:[{prop:"nylx",label:"\u80FD\u6E90\u7C7B\u578B",type:"input",value:""},{prop:"zbxs",label:"\u6298\u6807\u7CFB\u6570",type:"input",value:""},{prop:"zbz",label:"\u6307\u6807\u503C",type:"input",value:""},{prop:"szbz",label:"\u6570\u503C\u6807\u51C6",type:"input",value:""},{prop:"gxr",label:"\u66F4\u65B0\u4EBA",type:"input",value:""},{prop:"gxsj",label:"\u66F4\u65B0\u65F6\u95F4",type:"input",value:""}]}],X=I({nylx:[{required:!0,message:"\u6307\u6807\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],zbxs:[{required:!0,message:"\u6298\u6807\u7CFB\u6570\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],zbz:[{required:!0,message:"\u6307\u6807\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],szbz:[{required:!0,message:"\u6570\u503C\u6807\u51C6\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),g=p({}),Y=e=>{g.value=e,L.value=!0,V.value=!0},$=()=>{_e.confirm("\u6682\u65E0\u6743\u9650\u64CD\u4F5C!","\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",type:"warning",showCancelButton:!1}).then(()=>{})},M=()=>{D[0].formList.forEach(e=>{e.value=""}),i.value={},B.value=!1},B=p(!1),i=p({}),ee=()=>{D[0].formList.forEach(e=>{e.value=""}),i.value={},B.value=!0},ue=()=>{let e=i.value;if(e.nylx==null||e.nylx===""){v({message:"\u65B0\u589E\u5931\u8D25\uFF01\u80FD\u6E90\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(e.zbxs==null||e.zbxs===""){v({message:"\u65B0\u589E\u5931\u8D25\uFF01\u6298\u6807\u7CFB\u6570\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(e.zbz==null||e.zbz===""){v({message:"\u65B0\u589E\u5931\u8D25\uFF01\u6307\u6807\u503C\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(e.szbz==null||e.szbz===""){v({message:"\u65B0\u589E\u5931\u8D25\uFF01\u6570\u503C\u6807\u51C6\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}pe(e).then(a=>{var c;a!=null&&((c=a==null?void 0:a.result)==null?void 0:c.resultCode)=="000000"?(B.value=!1,F(),v({message:"\u65B0\u589E\u6210\u529F\uFF01",type:"success"})):v({message:"\u65B0\u589E\u5931\u8D25! "+(a==null?void 0:a.data),type:"error"})}).catch(a=>{var c,E,m;v({message:"\u65B0\u589E\u5931\u8D25! "+((m=(E=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:E.result)==null?void 0:m.resultMessage),type:"error"})})};return(e,a)=>{const c=d("el-option"),E=d("el-select"),m=d("el-form-item"),_=d("el-button"),U=d("el-form"),le=ae,te=d("el-pagination"),q=d("el-input"),W=d("el-col"),O=d("el-row"),G=oe;return o(),f(y,null,[r("div",be,[r("div",xe,[me,r("div",fe,[l(U,{inline:!0,model:Q,class:"m-20px pl-30px border-0 border-b border-solid border-#E0E0E0"},{default:u(()=>[l(m,{label:"\u80FD\u6E90\u7C7B\u578B"},{default:u(()=>[l(E,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=n=>C.value=n),placeholder:"\u8BF7\u9009\u62E9\u80FD\u6E90\u7C7B\u578B"},{default:u(()=>[(o(!0),f(y,null,h(k.value,n=>(o(),b(c,{key:n.id,label:n.mc,value:n.dm},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r("div",ye,[l(_,{type:"primary",class:"w-80px rounded-15px",icon:A(ie),onClick:F},{default:u(()=>[ve]),_:1},8,["icon"]),l(_,{class:"w-80px bg-[#dceeff] rounded-15px",icon:A(ce),onClick:H},{default:u(()=>[Fe]),_:1},8,["icon"])])]),_:1},8,["model"]),r("div",ge,[l(_,{type:"primary",class:"w-80px rounded-15px",icon:A(de),onClick:ee},{default:u(()=>[he]),_:1},8,["icon"])]),l(le,{class:"mt-20px",style:{height:"calc(100% - 200px)"},"table-columns":K,"table-data":T.value},{actionColumn:u(({row:n})=>[r("div",Ee,[l(_,{link:"",type:"primary",onClick:z=>Y(n)},{default:u(()=>[Ce]),_:2},1032,["onClick"]),l(_,{link:"",type:"primary",onClick:$},{default:u(()=>[De]),_:1}),l(_,{link:"",type:"danger",onClick:$},{default:u(()=>[Be]),_:1})])]),_:1},8,["table-data"]),l(te,{onSizeChange:P,onCurrentChange:R,class:"justify-end m-10px mt-15px",layout:"total, sizes, prev, pager, next",total:A(Z),background:""},null,8,["total"])])])]),l(G,{visible:V.value,title:"\u4F01\u4E1A\u80FD\u6548\u6307\u6807\u914D\u7F6E\u8BE6\u60C5\u67E5\u770B",width:"1000px",onClose:a[2]||(a[2]=n=>V.value=!1)},{default:u(()=>[(o(),f(y,null,h(D,(n,z)=>l(U,{key:z,"label-width":n.formLabelWidth,model:g.value},{default:u(()=>[l(O,{gutter:0},{default:u(()=>[(o(!0),f(y,null,h(n.formList,(t,N)=>(o(),b(W,{key:N,span:t.span||12},{default:u(()=>[l(m,{label:t.label},{default:u(()=>[t.prop!="nylx"?(o(),b(q,{key:0,modelValue:g.value[t.prop],"onUpdate:modelValue":s=>g.value[t.prop]=s,type:t.type,disabled:L.value},null,8,["modelValue","onUpdate:modelValue","type","disabled"])):w("",!0),t.prop=="nylx"?(o(),b(q,{key:1,modelValue:g.value.nylx,"onUpdate:modelValue":a[1]||(a[1]=s=>g.value.nylx=s),type:t.type,disabled:L.value},null,8,["modelValue","type","disabled"])):w("",!0)]),_:2},1032,["label"])]),_:2},1032,["span"]))),128))]),_:2},1024),ze]),_:2},1032,["label-width","model"])),64))]),_:1},8,["visible"]),l(G,{visible:B.value,title:"\u4F01\u4E1A\u80FD\u6548\u6307\u6807\u914D\u7F6E\u65B0\u589E",width:"1000px",onClose:M},{default:u(()=>[(o(),f(y,null,h(D,(n,z)=>l(U,{key:z,"label-width":n.formLabelWidth,model:i.value,rules:X},{default:u(()=>[l(O,{gutter:0},{default:u(()=>[(o(!0),f(y,null,h(n.formList,(t,N)=>(o(),b(W,{key:N,span:t.span||12},{default:u(()=>[t.prop!="nylx"&&t.prop!="gxsj"?(o(),b(m,{key:0,label:t.label,prop:t.prop},{default:u(()=>[l(q,{modelValue:i.value[t.prop],"onUpdate:modelValue":s=>i.value[t.prop]=s,name:t.prop,type:t.type},null,8,["modelValue","onUpdate:modelValue","name","type"])]),_:2},1032,["label","prop"])):w("",!0),t.prop=="nylx"?(o(),b(m,{key:1,label:"\u80FD\u6E90\u7C7B\u578B",prop:"nylx"},{default:u(()=>[l(E,{modelValue:i.value[t.prop],"onUpdate:modelValue":s=>i.value[t.prop]=s,placeholder:"\u8BF7\u9009\u62E9\u80FD\u6E90\u7C7B\u578B"},{default:u(()=>[(o(!0),f(y,null,h(k.value,s=>(o(),b(c,{key:s.id,label:s.mc,value:s.dm},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)):w("",!0)]),_:2},1032,["span"]))),128))]),_:2},1024)]),_:2},1032,["label-width","model","rules"])),64)),r("div",Ae,[l(_,{class:"w-80px h-40px",onClick:M},{default:u(()=>[we]),_:1}),l(_,{type:"primary",class:"w-80px h-40px",onClick:ue},{default:u(()=>[ke]),_:1})])]),_:1},8,["visible"])],64)}}});export{je as default};
