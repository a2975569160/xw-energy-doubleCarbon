(function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function i(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function o(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function u(t,e){return!!(null==t?0:t.length)&&y(t,e,0)>-1}function l(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function h(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function d(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function f(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function p(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function A(t){return t.split("")}function g(t){return t.match(Le)||[]}function v(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function m(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function y(t,e,n){return e===e?j(t,e,n):m(t,_,n)}function b(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _(t){return t!==t}function w(t,e){var n=null==t?0:t.length;return n?N(t,e)/n:Ft}function x(t){return function(e){return null==e?Z:e[t]}}function C(t){return function(e){return null==t?Z:t[e]}}function E(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function B(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function N(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==Z&&(n=n===Z?o:n+o)}return n}function T(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function I(t,e){return c(e,function(e){return[e,t[e]]})}function F(t){return function(e){return t(e)}}function S(t,e){return c(e,function(e){return t[e]})}function M(t,e){return t.has(e)}function U(t,e){for(var n=-1,r=t.length;++n<r&&y(e,t[n],0)>-1;);return n}function Q(t,e){for(var n=t.length;n--&&y(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function R(t){return"\\"+wn[t]}function k(t,e){return null==t?Z:t[e]}function O(t){return fn.test(t)}function P(t){return pn.test(t)}function D(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t,e){return function(n){return t(e(n))}}function K(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ot||(t[n]=ot,o[i++]=n)}return o}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function j(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function G(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function q(t){return O(t)?W(t):Pn(t)}function X(t){return O(t)?Y(t):A(t)}function W(t){for(var e=hn.lastIndex=0;hn.test(t);)++e;return e}function Y(t){return t.match(hn)||[]}function J(t){return t.match(dn)||[]}var Z,tt=200,et="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nt="Expected a function",rt="__lodash_hash_undefined__",it=500,ot="__lodash_placeholder__",at=1,st=2,ut=4,lt=1,ct=2,ht=1,dt=2,ft=4,pt=8,At=16,gt=32,vt=64,mt=128,yt=256,bt=512,_t=30,wt="...",xt=800,Ct=16,Et=1,Bt=2,Nt=1/0,Tt=9007199254740991,It=1.7976931348623157e308,Ft=NaN,St=4294967295,Mt=St-1,Ut=St>>>1,Qt=[["ary",mt],["bind",ht],["bindKey",dt],["curry",pt],["curryRight",At],["flip",bt],["partial",gt],["partialRight",vt],["rearg",yt]],Lt="[object Arguments]",Rt="[object Array]",kt="[object AsyncFunction]",Ot="[object Boolean]",Pt="[object Date]",Dt="[object DOMException]",Ht="[object Error]",zt="[object Function]",Kt="[object GeneratorFunction]",$t="[object Map]",Vt="[object Number]",jt="[object Null]",Gt="[object Object]",qt="[object Proxy]",Xt="[object RegExp]",Wt="[object Set]",Yt="[object String]",Jt="[object Symbol]",Zt="[object Undefined]",te="[object WeakMap]",ee="[object WeakSet]",ne="[object ArrayBuffer]",re="[object DataView]",ie="[object Float32Array]",oe="[object Float64Array]",ae="[object Int8Array]",se="[object Int16Array]",ue="[object Int32Array]",le="[object Uint8Array]",ce="[object Uint8ClampedArray]",he="[object Uint16Array]",de="[object Uint32Array]",fe=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,ve=/[&<>"']/g,me=RegExp(ge.source),ye=RegExp(ve.source),be=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Ee=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(Ne.source),Ie=/^\s+|\s+$/g,Fe=/^\s+/,Se=/\s+$/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Qe=/,? & /,Le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Re=/\\(\\)?/g,ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Pe=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,je=/['\n\r\u2028\u2029\\]/g,Ge="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xe="["+qe+"]",We="["+Ge+"]",Ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",Je="[^\\ud800-\\udfff"+qe+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ze="\\ud83c[\\udffb-\\udfff]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",en="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rn="(?:"+Ye+"|"+Je+")",on="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",an="[\\ufe0e\\ufe0f]?"+on+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tn,en].join("|")+")[\\ufe0e\\ufe0f]?"+on+")*"),sn="(?:"+["[\\u2700-\\u27bf]",tn,en].join("|")+")"+an,un="(?:"+["[^\\ud800-\\udfff]"+We+"?",We,tn,en,"[\\ud800-\\udfff]"].join("|")+")",ln=RegExp("['’]","g"),cn=RegExp(We,"g"),hn=RegExp(Ze+"(?="+Ze+")|"+un+an,"g"),dn=RegExp([nn+"?"+Ye+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xe,nn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xe,nn+rn,"$"].join("|")+")",nn+"?"+rn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",nn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",sn].join("|"),"g"),fn=RegExp("[\\u200d\\ud800-\\udfff"+Ge+"\\ufe0e\\ufe0f]"),pn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gn=-1,vn={};vn[ie]=vn[oe]=vn[ae]=vn[se]=vn[ue]=vn[le]=vn[ce]=vn[he]=vn[de]=!0,vn[Lt]=vn[Rt]=vn[ne]=vn[Ot]=vn[re]=vn[Pt]=vn[Ht]=vn[zt]=vn[$t]=vn[Vt]=vn[Gt]=vn[Xt]=vn[Wt]=vn[Yt]=vn[te]=!1;var mn={};mn[Lt]=mn[Rt]=mn[ne]=mn[re]=mn[Ot]=mn[Pt]=mn[ie]=mn[oe]=mn[ae]=mn[se]=mn[ue]=mn[$t]=mn[Vt]=mn[Gt]=mn[Xt]=mn[Wt]=mn[Yt]=mn[Jt]=mn[le]=mn[ce]=mn[he]=mn[de]=!0,mn[Ht]=mn[zt]=mn[te]=!1;var yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xn=parseFloat,Cn=parseInt,En="object"==typeof global&&global&&global.Object===Object&&global,Bn="object"==typeof self&&self&&self.Object===Object&&self,Nn=En||Bn||Function("return this")(),Tn="object"==typeof exports&&exports&&!exports.nodeType&&exports,In=Tn&&"object"==typeof module&&module&&!module.nodeType&&module,Fn=In&&In.exports===Tn,Sn=Fn&&En.process,Mn=function(){try{return Sn&&Sn.binding&&Sn.binding("util")}catch(t){}}(),Un=Mn&&Mn.isArrayBuffer,Qn=Mn&&Mn.isDate,Ln=Mn&&Mn.isMap,Rn=Mn&&Mn.isRegExp,kn=Mn&&Mn.isSet,On=Mn&&Mn.isTypedArray,Pn=x("length"),Dn=C(yn),Hn=C(bn),zn=C(_n),Kn=function A(C){function j(t){if(ea(t)&&!$u(t)&&!(t instanceof Le)){if(t instanceof Y)return t;if($a.call(t,"__wrapped__"))return Eo(t)}return new Y(t)}function W(){}function Y(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function Le(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function Ge(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function We(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Xe;++e<n;)this.add(t[e])}function Ye(t){var e=this.__data__=new qe(t);this.size=e.size}function Je(t,e){var n=$u(t),r=!n&&Ku(t),i=!n&&!r&&ju(t),o=!n&&!r&&!i&&Yu(t),a=n||r||i||o,s=a?T(t.length,ka):[],u=s.length;for(var l in t)!e&&!$a.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ro(l,u))||s.push(l);return s}function Ze(t){var e=t.length;return e?t[wr(0,e-1)]:Z}function tn(t,e){return _o(ai(t),fn(e,0,t.length))}function en(t){return _o(ai(t))}function nn(t,e,n){(n===Z||Go(t[e],n))&&(n!==Z||e in t)||hn(t,e,n)}function rn(t,e,n){var r=t[e];$a.call(t,e)&&Go(r,n)&&(n!==Z||e in t)||hn(t,e,n)}function on(t,e){for(var n=t.length;n--;)if(Go(t[n][0],e))return n;return-1}function an(t,e,n,r){return zs(t,function(t,i,o){e(r,t,n(t),o)}),r}function sn(t,e){return t&&si(e,Aa(e),t)}function un(t,e){return t&&si(e,ga(e),t)}function hn(t,e,n){"__proto__"==e&&us?us(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function dn(t,e){for(var n=-1,r=e.length,i=Fa(r),o=null==t;++n<r;)i[n]=o?Z:fa(t,e[n]);return i}function fn(t,e,n){return t===t&&(n!==Z&&(t=t<=n?t:n),e!==Z&&(t=t>=e?t:e)),t}function pn(t,e,n,r,o,a){var s,u=e&at,l=e&st,c=e&ut;if(n&&(s=o?n(t,r,o,a):n(t)),s!==Z)return s;if(!ta(t))return t;var h=$u(t);if(h){if(s=Ji(t),!u)return ai(t,s)}else{var d=tu(t),f=d==zt||d==Kt;if(ju(t))return qr(t,u);if(d==Gt||d==Lt||f&&!o){if(s=l||f?{}:Zi(t),!u)return l?li(t,un(s,t)):ui(t,sn(s,t))}else{if(!mn[d])return o?t:{};s=to(t,d,pn,u)}}a||(a=new Ye);var p=a.get(t);if(p)return p;a.set(t,s);var A=c?l?Hi:Di:l?ga:Aa,g=h?Z:A(t);return i(g||t,function(r,i){g&&(r=t[i=r]),rn(s,i,pn(r,e,n,i,t,a))}),s}function yn(t){var e=Aa(t);return function(n){return bn(n,t,e)}}function bn(t,e,n){var r=n.length;if(null==t)return!r;for(t=La(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===Z&&!(i in t)||!o(a))return!1}return!0}function _n(t,e,n){if("function"!=typeof t)throw new Oa(nt);return ru(function(){t.apply(Z,n)},e)}function wn(t,e,n,r){var i=-1,o=u,a=!0,s=t.length,h=[],d=e.length;if(!s)return h;n&&(e=c(e,F(n))),r?(o=l,a=!1):e.length>=tt&&(o=M,a=!1,e=new We(e));t:for(;++i<s;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p===p){for(var A=d;A--;)if(e[A]===p)continue t;h.push(f)}else o(e,p,r)||h.push(f)}return h}function En(t,e){var n=!0;return zs(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Bn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===Z?a===a&&!oa(a):n(a,s)))var s=a,u=o}return u}function Tn(t,e,n,r){var i=t.length;for((n=ua(n))<0&&(n=-n>i?0:i+n),(r=r===Z||r>i?i:ua(r))<0&&(r+=i),r=n>r?0:la(r);n<r;)t[n++]=e;return t}function In(t,e){var n=[];return zs(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Sn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=no),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Sn(s,e-1,n,r,i):h(i,s):r||(i[i.length]=s)}return i}function Mn(t,e){return t&&$s(t,e,Aa)}function Pn(t,e){return t&&Vs(t,e,Aa)}function $n(t,e){return s(e,function(e){return Yo(t[e])})}function Vn(t,e){for(var n=0,r=(e=jr(e,t)).length;null!=t&&n<r;)t=t[wo(e[n++])];return n&&n==r?t:Z}function jn(t,e,n){var r=e(t);return $u(t)?r:h(r,n(t))}function Gn(t){return null==t?t===Z?Zt:jt:ss&&ss in La(t)?qi(t):Ao(t)}function qn(t,e){return t>e}function Xn(t,e){return null!=t&&$a.call(t,e)}function Wn(t,e){return null!=t&&e in La(t)}function Yn(t,e,n){return t>=bs(e,n)&&t<ys(e,n)}function Jn(t,e,n){for(var r=n?l:u,i=t[0].length,o=t.length,a=o,s=Fa(o),h=1/0,d=[];a--;){var f=t[a];a&&e&&(f=c(f,F(e))),h=bs(f.length,h),s[a]=!n&&(e||i>=120&&f.length>=120)?new We(a&&f):Z}f=t[0];var p=-1,A=s[0];t:for(;++p<i&&d.length<h;){var g=f[p],v=e?e(g):g;if(g=n||0!==g?g:0,!(A?M(A,v):r(d,v,n))){for(a=o;--a;){var m=s[a];if(!(m?M(m,v):r(t[a],v,n)))continue t}A&&A.push(v),d.push(g)}}return d}function Zn(t,e,n,r){return Mn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,r){var i=null==(t=vo(t,e=jr(e,t)))?t:t[wo(Fo(e))];return null==i?Z:n(i,t,r)}function er(t){return ea(t)&&Gn(t)==Lt}function nr(t,e,n,r,i){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:rr(t,e,n,r,nr,i))}function rr(t,e,n,r,i,o){var a=$u(t),s=$u(e),u=a?Rt:tu(t),l=s?Rt:tu(e),c=(u=u==Lt?Gt:u)==Gt,h=(l=l==Lt?Gt:l)==Gt,d=u==l;if(d&&ju(t)){if(!ju(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Ye),a||Yu(t)?Ri(t,e,n,r,i,o):ki(t,e,u,n,r,i,o);if(!(n&lt)){var f=c&&$a.call(t,"__wrapped__"),p=h&&$a.call(e,"__wrapped__");if(f||p){var A=f?t.value():t,g=p?e.value():e;return o||(o=new Ye),i(A,g,n,r,o)}}return!!d&&(o||(o=new Ye),Oi(t,e,n,r,i,o))}function ir(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=La(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(l===Z&&!(u in t))return!1}else{var h=new Ye;if(r)var d=r(l,c,u,t,e,h);if(!(d===Z?nr(c,l,lt|ct,r,h):d))return!1}}return!0}function or(t){return!(!ta(t)||uo(t))&&(Yo(t)?Wa:He).test(xo(t))}function ar(t){return"function"==typeof t?t:null==t?xa:"object"==typeof t?$u(t)?dr(t[0],t[1]):hr(t):Na(t)}function sr(t){if(!lo(t))return ms(t);var e=[];for(var n in La(t))$a.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ur(t){if(!ta(t))return po(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&$a.call(t,r))&&n.push(r);return n}function lr(t,e){return t<e}function cr(t,e){var n=-1,r=qo(t)?Fa(t.length):[];return zs(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function hr(t){var e=ji(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||ir(n,t,e)}}function dr(t,e){return oo(t)&&co(e)?ho(wo(t),e):function(n){var r=fa(n,t);return r===Z&&r===e?pa(n,t):nr(e,r,lt|ct)}}function fr(t,e,n,r,i){t!==e&&$s(e,function(o,a){if(ta(o))i||(i=new Ye),pr(t,e,a,n,fr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):Z;s===Z&&(s=o),nn(t,a,s)}},ga)}function pr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)nn(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):Z,h=c===Z;if(h){var d=$u(u),f=!d&&ju(u),p=!d&&!f&&Yu(u);c=u,d||f||p?$u(s)?c=s:Xo(s)?c=ai(s):f?(h=!1,c=qr(u,!0)):p?(h=!1,c=ei(u,!0)):c=[]:ra(u)||Ku(u)?(c=s,Ku(s)?c=ha(s):(!ta(s)||r&&Yo(s))&&(c=Zi(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),nn(t,n,c)}}function Ar(t,e){var n=t.length;if(n)return e+=e<0?n:0,ro(e,n)?t[e]:Z}function gr(t,e,n){var r=-1;return e=c(e.length?e:[xa],F($i())),B(cr(t,function(t,n,i){return{criteria:c(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return ri(t,e,n)})}function vr(t,e){return mr(t,e,function(e,n){return pa(t,n)})}function mr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Vn(t,a);n(s,a)&&Tr(o,jr(a,t),s)}return o}function yr(t){return function(e){return Vn(e,t)}}function br(t,e,n,r){var i=r?b:y,o=-1,a=e.length,s=t;for(t===e&&(e=ai(e)),n&&(s=c(t,F(n)));++o<a;)for(var u=0,l=e[o],h=n?n(l):l;(u=i(s,h,u,r))>-1;)s!==t&&is.call(s,u,1),is.call(t,u,1);return t}function _r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ro(i)?is.call(t,i,1):Or(t,i)}}return t}function wr(t,e){return t+fs(xs()*(e-t+1))}function xr(t,e,n,r){for(var i=-1,o=ys(ds((e-t)/(n||1)),0),a=Fa(o);o--;)a[r?o:++i]=t,t+=n;return a}function Cr(t,e){var n="";if(!t||e<1||e>Tt)return n;do{e%2&&(n+=t),(e=fs(e/2))&&(t+=t)}while(e);return n}function Er(t,e){return iu(go(t,e,xa),t+"")}function Br(t){return Ze(ma(t))}function Nr(t,e){var n=ma(t);return _o(n,fn(e,0,n.length))}function Tr(t,e,n,r){if(!ta(t))return t;for(var i=-1,o=(e=jr(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=wo(e[i]),l=n;if(i!=a){var c=s[u];(l=r?r(c,u,s):Z)===Z&&(l=ta(c)?c:ro(e[i+1])?[]:{})}rn(s,u,l),s=s[u]}return t}function Ir(t){return _o(ma(t))}function Fr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Fa(i);++r<i;)o[r]=t[r+e];return o}function Sr(t,e){var n;return zs(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Mr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Ut){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!oa(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ur(t,e,xa,n)}function Ur(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=oa(e),l=e===Z;i<o;){var c=fs((i+o)/2),h=n(t[c]),d=h!==Z,f=null===h,p=h===h,A=oa(h);if(a)var g=r||p;else g=l?p&&(r||d):s?p&&d&&(r||!f):u?p&&d&&!f&&(r||!A):!f&&!A&&(r?h<=e:h<e);g?i=c+1:o=c}return bs(o,Mt)}function Qr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Go(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Lr(t){return"number"==typeof t?t:oa(t)?Ft:+t}function Rr(t){if("string"==typeof t)return t;if($u(t))return c(t,Rr)+"";if(oa(t))return Ds?Ds.call(t):"";var e=t+"";return"0"==e&&1/t==-Nt?"-0":e}function kr(t,e,n){var r=-1,i=u,o=t.length,a=!0,s=[],c=s;if(n)a=!1,i=l;else if(o>=tt){var h=e?null:Ws(t);if(h)return $(h);a=!1,i=M,c=new We}else c=e?[]:s;t:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||0!==d?d:0,a&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),s.push(d)}else i(c,f,n)||(c!==s&&c.push(f),s.push(d))}return s}function Or(t,e){return e=jr(e,t),null==(t=vo(t,e))||delete t[wo(Fo(e))]}function Pr(t,e,n,r){return Tr(t,e,n(Vn(t,e)),r)}function Dr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Fr(t,r?0:o,r?o+1:i):Fr(t,r?o+1:0,r?i:o)}function Hr(t,e){var n=t;return n instanceof Le&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function zr(t,e,n){var r=t.length;if(r<2)return r?kr(t[0]):[];for(var i=-1,o=Fa(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=wn(o[i]||a,t[s],e,n));return kr(Sn(o,1),e,n)}function Kr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:Z;n(a,t[r],s)}return a}function $r(t){return Xo(t)?t:[]}function Vr(t){return"function"==typeof t?t:xa}function jr(t,e){return $u(t)?t:oo(t,e)?[t]:ou(da(t))}function Gr(t,e,n){var r=t.length;return n=n===Z?r:n,!e&&n>=r?t:Fr(t,e,n)}function qr(t,e){if(e)return t.slice();var n=t.length,r=ts?ts(n):new t.constructor(n);return t.copy(r),r}function Xr(t){var e=new t.constructor(t.byteLength);return new Za(e).set(new Za(t)),e}function Wr(t,e){var n=e?Xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Yr(e,n,r){return d(n?r(H(e),at):H(e),t,new e.constructor)}function Jr(t){var e=new t.constructor(t.source,Oe.exec(t));return e.lastIndex=t.lastIndex,e}function Zr(t,n,r){return d(n?r($(t),at):$(t),e,new t.constructor)}function ti(t){return Ps?La(Ps.call(t)):{}}function ei(t,e){var n=e?Xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ni(t,e){if(t!==e){var n=t!==Z,r=null===t,i=t===t,o=oa(t),a=e!==Z,s=null===e,u=e===e,l=oa(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function ri(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=ni(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}function ii(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=ys(o-a,0),c=Fa(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function oi(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=ys(o-s,0),h=Fa(c+l),d=!r;++i<c;)h[i]=t[i];for(var f=i;++u<l;)h[f+u]=e[u];for(;++a<s;)(d||i<o)&&(h[f+n[a]]=t[i++]);return h}function ai(t,e){var n=-1,r=t.length;for(e||(e=Fa(r));++n<r;)e[n]=t[n];return e}function si(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):Z;u===Z&&(u=t[s]),i?hn(n,s,u):rn(n,s,u)}return n}function ui(t,e){return si(t,Js(t),e)}function li(t,e){return si(t,Zs(t),e)}function ci(t,e){return function(n,i){var o=$u(n)?r:an,a=e?e():{};return o(n,t,$i(i,2),a)}}function hi(t){return Er(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:Z,a=i>2?n[2]:Z;for(o=t.length>3&&"function"==typeof o?(i--,o):Z,a&&io(n[0],n[1],a)&&(o=i<3?Z:o,i=1),e=La(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function di(t,e){return function(n,r){if(null==n)return n;if(!qo(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=La(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function fi(t){return function(e,n,r){for(var i=-1,o=La(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function pi(t,e,n){function r(){return(this&&this!==Nn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&ht,o=vi(t);return r}function Ai(t){return function(e){var n=O(e=da(e))?X(e):Z,r=n?n[0]:e.charAt(0),i=n?Gr(n,1).join(""):e.slice(1);return r[t]()+i}}function gi(t){return function(e){return d(_a(ba(e).replace(ln,"")),t,"")}}function vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hs(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function mi(t,e,r){function i(){for(var a=arguments.length,s=Fa(a),u=a,l=Ki(i);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:K(s,l);return(a-=c.length)<r?Ii(t,e,_i,i.placeholder,Z,s,c,Z,Z,r-a):n(this&&this!==Nn&&this instanceof i?o:t,this,s)}var o=vi(t);return i}function yi(t){return function(e,n,r){var i=La(e);if(!qo(e)){var o=$i(n,3);e=Aa(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:Z}}function bi(t){return Pi(function(e){var n=e.length,r=n,i=Y.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Oa(nt);if(i&&!a&&"wrapper"==zi(o))var a=new Y([],!0)}for(r=a?r:n;++r<n;){var s=zi(o=e[r]),u="wrapper"==s?Ys(o):Z;a=u&&so(u[0])&&u[1]==(mt|pt|gt|yt)&&!u[4].length&&1==u[9]?a[zi(u[0])].apply(a,u[3]):1==o.length&&so(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&$u(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function _i(t,e,n,r,i,o,a,s,u,l){function c(){for(var v=arguments.length,m=Fa(v),y=v;y--;)m[y]=arguments[y];if(p)var b=Ki(c),_=L(m,b);if(r&&(m=ii(m,r,i,p)),o&&(m=oi(m,o,a,p)),v-=_,p&&v<l){var w=K(m,b);return Ii(t,e,_i,c.placeholder,n,m,w,s,u,l-v)}var x=d?n:this,C=f?x[t]:t;return v=m.length,s?m=mo(m,s):A&&v>1&&m.reverse(),h&&u<v&&(m.length=u),this&&this!==Nn&&this instanceof c&&(C=g||vi(C)),C.apply(x,m)}var h=e&mt,d=e&ht,f=e&dt,p=e&(pt|At),A=e&bt,g=f?Z:vi(t);return c}function wi(t,e){return function(n,r){return Zn(n,t,e(r),{})}}function xi(t,e){return function(n,r){var i;if(n===Z&&r===Z)return e;if(n!==Z&&(i=n),r!==Z){if(i===Z)return r;"string"==typeof n||"string"==typeof r?(n=Rr(n),r=Rr(r)):(n=Lr(n),r=Lr(r)),i=t(n,r)}return i}}function Ci(t){return Pi(function(e){return e=c(e,F($i())),Er(function(r){var i=this;return t(e,function(t){return n(t,i,r)})})})}function Ei(t,e){var n=(e=e===Z?" ":Rr(e)).length;if(n<2)return n?Cr(e,t):e;var r=Cr(e,ds(t/q(e)));return O(e)?Gr(X(r),0,t).join(""):r.slice(0,t)}function Bi(t,e,r,i){function o(){for(var e=-1,u=arguments.length,l=-1,c=i.length,h=Fa(c+u),d=this&&this!==Nn&&this instanceof o?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++e];return n(d,a?r:this,h)}var a=e&ht,s=vi(t);return o}function Ni(t){return function(e,n,r){return r&&"number"!=typeof r&&io(e,n,r)&&(n=r=Z),e=sa(e),n===Z?(n=e,e=0):n=sa(n),r=r===Z?e<n?1:-1:sa(r),xr(e,n,r,t)}}function Ti(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ca(e),n=ca(n)),t(e,n)}}function Ii(t,e,n,r,i,o,a,s,u,l){var c=e&pt,h=c?a:Z,d=c?Z:a,f=c?o:Z,p=c?Z:o;e|=c?gt:vt,(e&=~(c?vt:gt))&ft||(e&=~(ht|dt));var A=[t,e,i,f,h,p,d,s,u,l],g=n.apply(Z,A);return so(t)&&nu(g,A),g.placeholder=r,yo(g,t,e)}function Fi(t){var e=Qa[t];return function(t,n){if(t=ca(t),n=null==n?0:bs(ua(n),292)){var r=(da(t)+"e").split("e");return+((r=(da(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function Si(t){return function(e){var n=tu(e);return n==$t?H(e):n==Wt?V(e):I(e,t(e))}}function Mi(t,e,n,r,i,o,a,s){var u=e&dt;if(!u&&"function"!=typeof t)throw new Oa(nt);var l=r?r.length:0;if(l||(e&=~(gt|vt),r=i=Z),a=a===Z?a:ys(ua(a),0),s=s===Z?s:ua(s),l-=i?i.length:0,e&vt){var c=r,h=i;r=i=Z}var d=u?Z:Ys(t),f=[t,e,n,r,i,c,h,o,a,s];if(d&&fo(f,d),t=f[0],e=f[1],n=f[2],r=f[3],i=f[4],!(s=f[9]=f[9]===Z?u?0:t.length:ys(f[9]-l,0))&&e&(pt|At)&&(e&=~(pt|At)),e&&e!=ht)p=e==pt||e==At?mi(t,e,s):e!=gt&&e!=(ht|gt)||i.length?_i.apply(Z,f):Bi(t,e,n,r);else var p=pi(t,e,n);return yo((d?js:nu)(p,f),t,e)}function Ui(t,e,n,r){return t===Z||Go(t,Ha[n])&&!$a.call(r,n)?e:t}function Qi(t,e,n,r,i,o){return ta(t)&&ta(e)&&(o.set(e,t),fr(t,e,Z,Qi,o),o.delete(e)),t}function Li(t){return ra(t)?Z:t}function Ri(t,e,n,r,i,o){var a=n&lt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,d=n&ct?new We:Z;for(o.set(t,e),o.set(e,t);++c<s;){var f=t[c],A=e[c];if(r)var g=a?r(A,f,c,e,t,o):r(f,A,c,t,e,o);if(g!==Z){if(g)continue;h=!1;break}if(d){if(!p(e,function(t,e){if(!M(d,e)&&(f===t||i(f,t,n,r,o)))return d.push(e)})){h=!1;break}}else if(f!==A&&!i(f,A,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function ki(t,e,n,r,i,o,a){switch(n){case re:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ne:return!(t.byteLength!=e.byteLength||!o(new Za(t),new Za(e)));case Ot:case Pt:case Vt:return Go(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Xt:case Yt:return t==e+"";case $t:var s=H;case Wt:var u=r&lt;if(s||(s=$),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=ct,a.set(t,e);var c=Ri(s(t),s(e),r,i,o,a);return a.delete(t),c;case Jt:if(Ps)return Ps.call(t)==Ps.call(e)}return!1}function Oi(t,e,n,r,i,o){var a=n&lt,s=Di(t),u=s.length;if(u!=Di(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:$a.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=a;++l<u;){var p=t[c=s[l]],A=e[c];if(r)var g=a?r(A,p,c,e,t,o):r(p,A,c,t,e,o);if(!(g===Z?p===A||i(p,A,n,r,o):g)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var v=t.constructor,m=e.constructor;v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(d=!1)}return o.delete(t),o.delete(e),d}function Pi(t){return iu(go(t,Z,To),t+"")}function Di(t){return jn(t,Aa,Js)}function Hi(t){return jn(t,ga,Zs)}function zi(t){for(var e=t.name+"",n=Ms[e],r=$a.call(Ms,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ki(t){return($a.call(j,"placeholder")?j:t).placeholder}function $i(){var t=j.iteratee||Ca;return t=t===Ca?ar:t,arguments.length?t(arguments[0],arguments[1]):t}function Vi(t,e){var n=t.__data__;return ao(e)?n["string"==typeof e?"string":"hash"]:n.map}function ji(t){for(var e=Aa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,co(i)]}return e}function Gi(t,e){var n=k(t,e);return or(n)?n:Z}function qi(t){var e=$a.call(t,ss),n=t[ss];try{t[ss]=Z;var r=!0}catch(t){}var i=Ga.call(t);return r&&(e?t[ss]=n:delete t[ss]),i}function Xi(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bs(e,t+a);break;case"takeRight":t=ys(t,e-a)}}return{start:t,end:e}}function Wi(t){var e=t.match(Ue);return e?e[1].split(Qe):[]}function Yi(t,e,n){for(var r=-1,i=(e=jr(e,t)).length,o=!1;++r<i;){var a=wo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Zo(i)&&ro(a,i)&&($u(t)||Ku(t))}function Ji(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&$a.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Zi(t){return"function"!=typeof t.constructor||lo(t)?{}:Hs(es(t))}function to(t,e,n,r){var i=t.constructor;switch(e){case ne:return Xr(t);case Ot:case Pt:return new i(+t);case re:return Wr(t,r);case ie:case oe:case ae:case se:case ue:case le:case ce:case he:case de:return ei(t,r);case $t:return Yr(t,r,n);case Vt:case Yt:return new i(t);case Xt:return Jr(t);case Wt:return Zr(t,r,n);case Jt:return ti(t)}}function eo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Me,"{\n/* [wrapped with "+e+"] */\n")}function no(t){return $u(t)||Ku(t)||!!(os&&t&&t[os])}function ro(t,e){return!!(e=null==e?Tt:e)&&("number"==typeof t||Ke.test(t))&&t>-1&&t%1==0&&t<e}function io(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?qo(n)&&ro(e,n.length):"string"==r&&e in n)&&Go(n[e],t)}function oo(t,e){if($u(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oa(t))||Ce.test(t)||!xe.test(t)||null!=e&&t in La(e)}function ao(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function so(t){var e=zi(t),n=j[e];if("function"!=typeof n||!(e in Le.prototype))return!1;if(t===n)return!0;var r=Ys(n);return!!r&&t===r[0]}function uo(t){return!!ja&&ja in t}function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ha)}function co(t){return t===t&&!ta(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(e!==Z||t in La(n))}}function fo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(ht|dt|mt),a=r==mt&&n==pt||r==mt&&n==yt&&t[7].length<=e[8]||r==(mt|yt)&&e[7].length<=e[8]&&n==pt;if(!o&&!a)return t;r&ht&&(t[2]=e[2],i|=n&ht?0:ft);var s=e[3];if(s){var u=t[3];t[3]=u?ii(u,s,e[4]):s,t[4]=u?K(t[3],ot):e[4]}return(s=e[5])&&(u=t[5],t[5]=u?oi(u,s,e[6]):s,t[6]=u?K(t[5],ot):e[6]),(s=e[7])&&(t[7]=s),r&mt&&(t[8]=null==t[8]?e[8]:bs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function po(t){var e=[];if(null!=t)for(var n in La(t))e.push(n);return e}function Ao(t){return Ga.call(t)}function go(t,e,r){return e=ys(e===Z?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=ys(i.length-e,0),s=Fa(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=Fa(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),n(t,this,u)}}function vo(t,e){return e.length<2?t:Vn(t,Fr(e,0,-1))}function mo(t,e){for(var n=t.length,r=bs(e.length,n),i=ai(t);r--;){var o=e[r];t[r]=ro(o,n)?i[o]:Z}return t}function yo(t,e,n){var r=e+"";return iu(t,eo(r,Co(Wi(r),n)))}function bo(t){var e=0,n=0;return function(){var r=_s(),i=Ct-(r-n);if(n=r,i>0){if(++e>=xt)return arguments[0]}else e=0;return t.apply(Z,arguments)}}function _o(t,e){var n=-1,r=t.length,i=r-1;for(e=e===Z?r:e;++n<e;){var o=wr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function wo(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-Nt?"-0":e}function xo(t){if(null!=t){try{return Ka.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Co(t,e){return i(Qt,function(n){var r="_."+n[0];e&n[1]&&!u(t,r)&&t.push(r)}),t.sort()}function Eo(t){if(t instanceof Le)return t.clone();var e=new Y(t.__wrapped__,t.__chain__);return e.__actions__=ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Bo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ua(n);return i<0&&(i=ys(r+i,0)),m(t,$i(e,3),i)}function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==Z&&(i=ua(n),i=n<0?ys(r+i,0):bs(i,r-1)),m(t,$i(e,3),i,!0)}function To(t){return(null==t?0:t.length)?Sn(t,1):[]}function Io(t){return t&&t.length?t[0]:Z}function Fo(t){var e=null==t?0:t.length;return e?t[e-1]:Z}function So(t,e){return t&&t.length&&e&&e.length?br(t,e):t}function Mo(t){return null==t?t:Cs.call(t)}function Uo(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){if(Xo(t))return e=ys(t.length,e),!0}),T(e,function(e){return c(t,x(e))})}function Qo(t,e){if(!t||!t.length)return[];var r=Uo(t);return null==e?r:c(r,function(t){return n(e,Z,t)})}function Lo(t){var e=j(t);return e.__chain__=!0,e}function Ro(t,e){return e(t)}function ko(t,e){return($u(t)?i:zs)(t,$i(e,3))}function Oo(t,e){return($u(t)?o:Ks)(t,$i(e,3))}function Po(t,e){return($u(t)?c:cr)(t,$i(e,3))}function Do(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,Mi(t,mt,Z,Z,Z,Z,e)}function Ho(t,e){var n;if("function"!=typeof e)throw new Oa(nt);return t=ua(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=Z),n}}function zo(t,e,n){var r=Mi(t,pt,Z,Z,Z,Z,Z,e=n?Z:e);return r.placeholder=zo.placeholder,r}function Ko(t,e,n){var r=Mi(t,At,Z,Z,Z,Z,Z,e=n?Z:e);return r.placeholder=Ko.placeholder,r}function $o(t,e,n){function r(e){var n=c,r=h;return c=h=Z,g=e,f=t.apply(r,n)}function i(t){return g=t,p=ru(s,e),v?r(t):f}function o(t){var n=t-g,r=e-(t-A);return m?bs(r,d-n):r}function a(t){var n=t-A,r=t-g;return A===Z||n>=e||n<0||m&&r>=d}function s(){var t=Mu();if(a(t))return u(t);p=ru(s,o(t))}function u(t){return p=Z,y&&c?r(t):(c=h=Z,f)}function l(){var t=Mu(),n=a(t);if(c=arguments,h=this,A=t,n){if(p===Z)return i(A);if(m)return p=ru(s,e),r(A)}return p===Z&&(p=ru(s,e)),f}var c,h,d,f,p,A,g=0,v=!1,m=!1,y=!0;if("function"!=typeof t)throw new Oa(nt);return e=ca(e)||0,ta(n)&&(v=!!n.leading,d=(m="maxWait"in n)?ys(ca(n.maxWait)||0,e):d,y="trailing"in n?!!n.trailing:y),l.cancel=function(){p!==Z&&Xs(p),g=0,c=A=h=p=Z},l.flush=function(){return p===Z?f:u(Mu())},l}function Vo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Oa(nt);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Vo.Cache||Xe),n}function jo(t){if("function"!=typeof t)throw new Oa(nt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Go(t,e){return t===e||t!==t&&e!==e}function qo(t){return null!=t&&Zo(t.length)&&!Yo(t)}function Xo(t){return ea(t)&&qo(t)}function Wo(t){if(!ea(t))return!1;var e=Gn(t);return e==Ht||e==Dt||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Yo(t){if(!ta(t))return!1;var e=Gn(t);return e==zt||e==Kt||e==kt||e==qt}function Jo(t){return"number"==typeof t&&t==ua(t)}function Zo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Tt}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}function na(t){return"number"==typeof t||ea(t)&&Gn(t)==Vt}function ra(t){if(!ea(t)||Gn(t)!=Gt)return!1;var e=es(t);if(null===e)return!0;var n=$a.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ka.call(n)==qa}function ia(t){return"string"==typeof t||!$u(t)&&ea(t)&&Gn(t)==Yt}function oa(t){return"symbol"==typeof t||ea(t)&&Gn(t)==Jt}function aa(t){if(!t)return[];if(qo(t))return ia(t)?X(t):ai(t);if(as&&t[as])return D(t[as]());var e=tu(t);return(e==$t?H:e==Wt?$:ma)(t)}function sa(t){return t?(t=ca(t))===Nt||t===-Nt?(t<0?-1:1)*It:t===t?t:0:0===t?t:0}function ua(t){var e=sa(t),n=e%1;return e===e?n?e-n:e:0}function la(t){return t?fn(ua(t),0,St):0}function ca(t){if("number"==typeof t)return t;if(oa(t))return Ft;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=De.test(t);return n||ze.test(t)?Cn(t.slice(2),n?2:8):Pe.test(t)?Ft:+t}function ha(t){return si(t,ga(t))}function da(t){return null==t?"":Rr(t)}function fa(t,e,n){var r=null==t?Z:Vn(t,e);return r===Z?n:r}function pa(t,e){return null!=t&&Yi(t,e,Wn)}function Aa(t){return qo(t)?Je(t):sr(t)}function ga(t){return qo(t)?Je(t,!0):ur(t)}function va(t,e){if(null==t)return{};var n=c(Hi(t),function(t){return[t]});return e=$i(e),mr(t,n,function(t,n){return e(t,n[0])})}function ma(t){return null==t?[]:S(t,Aa(t))}function ya(t){return xl(da(t).toLowerCase())}function ba(t){return(t=da(t))&&t.replace($e,Dn).replace(cn,"")}function _a(t,e,n){return t=da(t),(e=n?Z:e)===Z?P(t)?J(t):g(t):t.match(e)||[]}function wa(t){return function(){return t}}function xa(t){return t}function Ca(t){return ar("function"==typeof t?t:pn(t,at))}function Ea(t,e,n){var r=Aa(e),o=$n(e,r);null!=n||ta(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=$n(e,Aa(e)));var a=!(ta(n)&&"chain"in n&&!n.chain),s=Yo(t);return i(o,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=ai(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,h([this.value()],arguments))})}),t}function Ba(){}function Na(t){return oo(t)?x(wo(t)):yr(t)}function Ta(){return[]}function Ia(){return!1}var Fa=(C=null==C?Nn:Kn.defaults(Nn.Object(),C,Kn.pick(Nn,An))).Array,Sa=C.Date,Ma=C.Error,Ua=C.Function,Qa=C.Math,La=C.Object,Ra=C.RegExp,ka=C.String,Oa=C.TypeError,Pa=Fa.prototype,Da=Ua.prototype,Ha=La.prototype,za=C["__core-js_shared__"],Ka=Da.toString,$a=Ha.hasOwnProperty,Va=0,ja=function(){var t=/[^.]+$/.exec(za&&za.keys&&za.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ga=Ha.toString,qa=Ka.call(La),Xa=Nn._,Wa=Ra("^"+Ka.call($a).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ya=Fn?C.Buffer:Z,Ja=C.Symbol,Za=C.Uint8Array,ts=Ya?Ya.allocUnsafe:Z,es=z(La.getPrototypeOf,La),ns=La.create,rs=Ha.propertyIsEnumerable,is=Pa.splice,os=Ja?Ja.isConcatSpreadable:Z,as=Ja?Ja.iterator:Z,ss=Ja?Ja.toStringTag:Z,us=function(){try{var t=Gi(La,"defineProperty");return t({},"",{}),t}catch(t){}}(),ls=C.clearTimeout!==Nn.clearTimeout&&C.clearTimeout,cs=Sa&&Sa.now!==Nn.Date.now&&Sa.now,hs=C.setTimeout!==Nn.setTimeout&&C.setTimeout,ds=Qa.ceil,fs=Qa.floor,ps=La.getOwnPropertySymbols,As=Ya?Ya.isBuffer:Z,gs=C.isFinite,vs=Pa.join,ms=z(La.keys,La),ys=Qa.max,bs=Qa.min,_s=Sa.now,ws=C.parseInt,xs=Qa.random,Cs=Pa.reverse,Es=Gi(C,"DataView"),Bs=Gi(C,"Map"),Ns=Gi(C,"Promise"),Ts=Gi(C,"Set"),Is=Gi(C,"WeakMap"),Fs=Gi(La,"create"),Ss=Is&&new Is,Ms={},Us=xo(Es),Qs=xo(Bs),Ls=xo(Ns),Rs=xo(Ts),ks=xo(Is),Os=Ja?Ja.prototype:Z,Ps=Os?Os.valueOf:Z,Ds=Os?Os.toString:Z,Hs=function(){function t(){}return function(e){if(!ta(e))return{};if(ns)return ns(e);t.prototype=e;var n=new t;return t.prototype=Z,n}}();j.templateSettings={escape:be,evaluate:_e,interpolate:we,variable:"",imports:{_:j}},j.prototype=W.prototype,j.prototype.constructor=j,Y.prototype=Hs(W.prototype),Y.prototype.constructor=Y,Le.prototype=Hs(W.prototype),Le.prototype.constructor=Le,Ge.prototype.clear=function(){this.__data__=Fs?Fs(null):{},this.size=0},Ge.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ge.prototype.get=function(t){var e=this.__data__;if(Fs){var n=e[t];return n===rt?Z:n}return $a.call(e,t)?e[t]:Z},Ge.prototype.has=function(t){var e=this.__data__;return Fs?e[t]!==Z:$a.call(e,t)},Ge.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fs&&e===Z?rt:e,this},qe.prototype.clear=function(){this.__data__=[],this.size=0},qe.prototype.delete=function(t){var e=this.__data__,n=on(e,t);return!(n<0||(n==e.length-1?e.pop():is.call(e,n,1),--this.size,0))},qe.prototype.get=function(t){var e=this.__data__,n=on(e,t);return n<0?Z:e[n][1]},qe.prototype.has=function(t){return on(this.__data__,t)>-1},qe.prototype.set=function(t,e){var n=this.__data__,r=on(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Xe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ge,map:new(Bs||qe),string:new Ge}},Xe.prototype.delete=function(t){var e=Vi(this,t).delete(t);return this.size-=e?1:0,e},Xe.prototype.get=function(t){return Vi(this,t).get(t)},Xe.prototype.has=function(t){return Vi(this,t).has(t)},Xe.prototype.set=function(t,e){var n=Vi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},We.prototype.add=We.prototype.push=function(t){return this.__data__.set(t,rt),this},We.prototype.has=function(t){return this.__data__.has(t)},Ye.prototype.clear=function(){this.__data__=new qe,this.size=0},Ye.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ye.prototype.get=function(t){return this.__data__.get(t)},Ye.prototype.has=function(t){return this.__data__.has(t)},Ye.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qe){var r=n.__data__;if(!Bs||r.length<tt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xe(r)}return n.set(t,e),this.size=n.size,this};var zs=di(Mn),Ks=di(Pn,!0),$s=fi(),Vs=fi(!0),js=Ss?function(t,e){return Ss.set(t,e),t}:xa,Gs=us?function(t,e){return us(t,"toString",{configurable:!0,enumerable:!1,value:wa(e),writable:!0})}:xa,qs=Er,Xs=ls||function(t){return Nn.clearTimeout(t)},Ws=Ts&&1/$(new Ts([,-0]))[1]==Nt?function(t){return new Ts(t)}:Ba,Ys=Ss?function(t){return Ss.get(t)}:Ba,Js=ps?function(t){return null==t?[]:(t=La(t),s(ps(t),function(e){return rs.call(t,e)}))}:Ta,Zs=ps?function(t){for(var e=[];t;)h(e,Js(t)),t=es(t);return e}:Ta,tu=Gn;(Es&&tu(new Es(new ArrayBuffer(1)))!=re||Bs&&tu(new Bs)!=$t||Ns&&"[object Promise]"!=tu(Ns.resolve())||Ts&&tu(new Ts)!=Wt||Is&&tu(new Is)!=te)&&(tu=function(t){var e=Gn(t),n=e==Gt?t.constructor:Z,r=n?xo(n):"";if(r)switch(r){case Us:return re;case Qs:return $t;case Ls:return"[object Promise]";case Rs:return Wt;case ks:return te}return e});var eu=za?Yo:Ia,nu=bo(js),ru=hs||function(t,e){return Nn.setTimeout(t,e)},iu=bo(Gs),ou=function(t){var e=Vo(t,function(t){return n.size===it&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ee.test(t)&&e.push(""),t.replace(Be,function(t,n,r,i){e.push(r?i.replace(Re,"$1"):n||t)}),e}),au=Er(function(t,e){return Xo(t)?wn(t,Sn(e,1,Xo,!0)):[]}),su=Er(function(t,e){var n=Fo(e);return Xo(n)&&(n=Z),Xo(t)?wn(t,Sn(e,1,Xo,!0),$i(n,2)):[]}),uu=Er(function(t,e){var n=Fo(e);return Xo(n)&&(n=Z),Xo(t)?wn(t,Sn(e,1,Xo,!0),Z,n):[]}),lu=Er(function(t){var e=c(t,$r);return e.length&&e[0]===t[0]?Jn(e):[]}),cu=Er(function(t){var e=Fo(t),n=c(t,$r);return e===Fo(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?Jn(n,$i(e,2)):[]}),hu=Er(function(t){var e=Fo(t),n=c(t,$r);return(e="function"==typeof e?e:Z)&&n.pop(),n.length&&n[0]===t[0]?Jn(n,Z,e):[]}),du=Er(So),fu=Pi(function(t,e){var n=null==t?0:t.length,r=dn(t,e);return _r(t,c(e,function(t){return ro(t,n)?+t:t}).sort(ni)),r}),pu=Er(function(t){return kr(Sn(t,1,Xo,!0))}),Au=Er(function(t){var e=Fo(t);return Xo(e)&&(e=Z),kr(Sn(t,1,Xo,!0),$i(e,2))}),gu=Er(function(t){var e=Fo(t);return e="function"==typeof e?e:Z,kr(Sn(t,1,Xo,!0),Z,e)}),vu=Er(function(t,e){return Xo(t)?wn(t,e):[]}),mu=Er(function(t){return zr(s(t,Xo))}),yu=Er(function(t){var e=Fo(t);return Xo(e)&&(e=Z),zr(s(t,Xo),$i(e,2))}),bu=Er(function(t){var e=Fo(t);return e="function"==typeof e?e:Z,zr(s(t,Xo),Z,e)}),_u=Er(Uo),wu=Er(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,Qo(t,n)}),xu=Pi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return dn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Le&&ro(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ro,args:[i],thisArg:Z}),new Y(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(i)}),Cu=ci(function(t,e,n){$a.call(t,n)?++t[n]:hn(t,n,1)}),Eu=yi(Bo),Bu=yi(No),Nu=ci(function(t,e,n){$a.call(t,n)?t[n].push(e):hn(t,n,[e])}),Tu=Er(function(t,e,r){var i=-1,o="function"==typeof e,a=qo(t)?Fa(t.length):[];return zs(t,function(t){a[++i]=o?n(e,t,r):tr(t,e,r)}),a}),Iu=ci(function(t,e,n){hn(t,n,e)}),Fu=ci(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Su=Er(function(t,e){if(null==t)return[];var n=e.length;return n>1&&io(t,e[0],e[1])?e=[]:n>2&&io(e[0],e[1],e[2])&&(e=[e[0]]),gr(t,Sn(e,1),[])}),Mu=cs||function(){return Nn.Date.now()},Uu=Er(function(t,e,n){var r=ht;if(n.length){var i=K(n,Ki(Uu));r|=gt}return Mi(t,r,e,n,i)}),Qu=Er(function(t,e,n){var r=ht|dt;if(n.length){var i=K(n,Ki(Qu));r|=gt}return Mi(e,r,t,n,i)}),Lu=Er(function(t,e){return _n(t,1,e)}),Ru=Er(function(t,e,n){return _n(t,ca(e)||0,n)});Vo.Cache=Xe;var ku=qs(function(t,e){var r=(e=1==e.length&&$u(e[0])?c(e[0],F($i())):c(Sn(e,1),F($i()))).length;return Er(function(i){for(var o=-1,a=bs(i.length,r);++o<a;)i[o]=e[o].call(this,i[o]);return n(t,this,i)})}),Ou=Er(function(t,e){var n=K(e,Ki(Ou));return Mi(t,gt,Z,e,n)}),Pu=Er(function(t,e){var n=K(e,Ki(Pu));return Mi(t,vt,Z,e,n)}),Du=Pi(function(t,e){return Mi(t,yt,Z,Z,Z,e)}),Hu=Ti(qn),zu=Ti(function(t,e){return t>=e}),Ku=er(function(){return arguments}())?er:function(t){return ea(t)&&$a.call(t,"callee")&&!rs.call(t,"callee")},$u=Fa.isArray,Vu=Un?F(Un):function(t){return ea(t)&&Gn(t)==ne},ju=As||Ia,Gu=Qn?F(Qn):function(t){return ea(t)&&Gn(t)==Pt},qu=Ln?F(Ln):function(t){return ea(t)&&tu(t)==$t},Xu=Rn?F(Rn):function(t){return ea(t)&&Gn(t)==Xt},Wu=kn?F(kn):function(t){return ea(t)&&tu(t)==Wt},Yu=On?F(On):function(t){return ea(t)&&Zo(t.length)&&!!vn[Gn(t)]},Ju=Ti(lr),Zu=Ti(function(t,e){return t<=e}),tl=hi(function(t,e){if(lo(e)||qo(e))si(e,Aa(e),t);else for(var n in e)$a.call(e,n)&&rn(t,n,e[n])}),el=hi(function(t,e){si(e,ga(e),t)}),nl=hi(function(t,e,n,r){si(e,ga(e),t,r)}),rl=hi(function(t,e,n,r){si(e,Aa(e),t,r)}),il=Pi(dn),ol=Er(function(t){return t.push(Z,Ui),n(nl,Z,t)}),al=Er(function(t){return t.push(Z,Qi),n(hl,Z,t)}),sl=wi(function(t,e,n){t[e]=n},wa(xa)),ul=wi(function(t,e,n){$a.call(t,e)?t[e].push(n):t[e]=[n]},$i),ll=Er(tr),cl=hi(function(t,e,n){fr(t,e,n)}),hl=hi(function(t,e,n,r){fr(t,e,n,r)}),dl=Pi(function(t,e){var n={};if(null==t)return n;var r=!1;e=c(e,function(e){return e=jr(e,t),r||(r=e.length>1),e}),si(t,Hi(t),n),r&&(n=pn(n,at|st|ut,Li));for(var i=e.length;i--;)Or(n,e[i]);return n}),fl=Pi(function(t,e){return null==t?{}:vr(t,e)}),pl=Si(Aa),Al=Si(ga),gl=gi(function(t,e,n){return e=e.toLowerCase(),t+(n?ya(e):e)}),vl=gi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ml=gi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),yl=Ai("toLowerCase"),bl=gi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),_l=gi(function(t,e,n){return t+(n?" ":"")+xl(e)}),wl=gi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),xl=Ai("toUpperCase"),Cl=Er(function(t,e){try{return n(t,Z,e)}catch(t){return Wo(t)?t:new Ma(t)}}),El=Pi(function(t,e){return i(e,function(e){e=wo(e),hn(t,e,Uu(t[e],t))}),t}),Bl=bi(),Nl=bi(!0),Tl=Er(function(t,e){return function(n){return tr(n,t,e)}}),Il=Er(function(t,e){return function(n){return tr(t,n,e)}}),Fl=Ci(c),Sl=Ci(a),Ml=Ci(p),Ul=Ni(),Ql=Ni(!0),Ll=xi(function(t,e){return t+e},0),Rl=Fi("ceil"),kl=xi(function(t,e){return t/e},1),Ol=Fi("floor"),Pl=xi(function(t,e){return t*e},1),Dl=Fi("round"),Hl=xi(function(t,e){return t-e},0);return j.after=function(t,e){if("function"!=typeof e)throw new Oa(nt);return t=ua(t),function(){if(--t<1)return e.apply(this,arguments)}},j.ary=Do,j.assign=tl,j.assignIn=el,j.assignInWith=nl,j.assignWith=rl,j.at=il,j.before=Ho,j.bind=Uu,j.bindAll=El,j.bindKey=Qu,j.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $u(t)?t:[t]},j.chain=Lo,j.chunk=function(t,e,n){e=(n?io(t,e,n):e===Z)?1:ys(ua(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Fa(ds(r/e));i<r;)a[o++]=Fr(t,i,i+=e);return a},j.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},j.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Fa(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return h($u(n)?ai(n):[n],Sn(e,1))},j.cond=function(t){var e=null==t?0:t.length,r=$i();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new Oa(nt);return[r(t[0]),t[1]]}):[],Er(function(r){for(var i=-1;++i<e;){var o=t[i];if(n(o[0],this,r))return n(o[1],this,r)}})},j.conforms=function(t){return yn(pn(t,at))},j.constant=wa,j.countBy=Cu,j.create=function(t,e){var n=Hs(t);return null==e?n:sn(n,e)},j.curry=zo,j.curryRight=Ko,j.debounce=$o,j.defaults=ol,j.defaultsDeep=al,j.defer=Lu,j.delay=Ru,j.difference=au,j.differenceBy=su,j.differenceWith=uu,j.drop=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Z?1:ua(e),Fr(t,e<0?0:e,r)):[]},j.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Z?1:ua(e),e=r-e,Fr(t,0,e<0?0:e)):[]},j.dropRightWhile=function(t,e){return t&&t.length?Dr(t,$i(e,3),!0,!0):[]},j.dropWhile=function(t,e){return t&&t.length?Dr(t,$i(e,3),!0):[]},j.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&io(t,e,n)&&(n=0,r=i),Tn(t,e,n,r)):[]},j.filter=function(t,e){return($u(t)?s:In)(t,$i(e,3))},j.flatMap=function(t,e){return Sn(Po(t,e),1)},j.flatMapDeep=function(t,e){return Sn(Po(t,e),Nt)},j.flatMapDepth=function(t,e,n){return n=n===Z?1:ua(n),Sn(Po(t,e),n)},j.flatten=To,j.flattenDeep=function(t){return(null==t?0:t.length)?Sn(t,Nt):[]},j.flattenDepth=function(t,e){return(null==t?0:t.length)?(e=e===Z?1:ua(e),Sn(t,e)):[]},j.flip=function(t){return Mi(t,bt)},j.flow=Bl,j.flowRight=Nl,j.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},j.functions=function(t){return null==t?[]:$n(t,Aa(t))},j.functionsIn=function(t){return null==t?[]:$n(t,ga(t))},j.groupBy=Nu,j.initial=function(t){return(null==t?0:t.length)?Fr(t,0,-1):[]},j.intersection=lu,j.intersectionBy=cu,j.intersectionWith=hu,j.invert=sl,j.invertBy=ul,j.invokeMap=Tu,j.iteratee=Ca,j.keyBy=Iu,j.keys=Aa,j.keysIn=ga,j.map=Po,j.mapKeys=function(t,e){var n={};return e=$i(e,3),Mn(t,function(t,r,i){hn(n,e(t,r,i),t)}),n},j.mapValues=function(t,e){var n={};return e=$i(e,3),Mn(t,function(t,r,i){hn(n,r,e(t,r,i))}),n},j.matches=function(t){return hr(pn(t,at))},j.matchesProperty=function(t,e){return dr(t,pn(e,at))},j.memoize=Vo,j.merge=cl,j.mergeWith=hl,j.method=Tl,j.methodOf=Il,j.mixin=Ea,j.negate=jo,j.nthArg=function(t){return t=ua(t),Er(function(e){return Ar(e,t)})},j.omit=dl,j.omitBy=function(t,e){return va(t,jo($i(e)))},j.once=function(t){return Ho(2,t)},j.orderBy=function(t,e,n,r){return null==t?[]:($u(e)||(e=null==e?[]:[e]),n=r?Z:n,$u(n)||(n=null==n?[]:[n]),gr(t,e,n))},j.over=Fl,j.overArgs=ku,j.overEvery=Sl,j.overSome=Ml,j.partial=Ou,j.partialRight=Pu,j.partition=Fu,j.pick=fl,j.pickBy=va,j.property=Na,j.propertyOf=function(t){return function(e){return null==t?Z:Vn(t,e)}},j.pull=du,j.pullAll=So,j.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,$i(n,2)):t},j.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,Z,n):t},j.pullAt=fu,j.range=Ul,j.rangeRight=Ql,j.rearg=Du,j.reject=function(t,e){return($u(t)?s:In)(t,jo($i(e,3)))},j.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=$i(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return _r(t,i),n},j.rest=function(t,e){if("function"!=typeof t)throw new Oa(nt);return e=e===Z?e:ua(e),Er(t,e)},j.reverse=Mo,j.sampleSize=function(t,e,n){return e=(n?io(t,e,n):e===Z)?1:ua(e),($u(t)?tn:Nr)(t,e)},j.set=function(t,e,n){return null==t?t:Tr(t,e,n)},j.setWith=function(t,e,n,r){return r="function"==typeof r?r:Z,null==t?t:Tr(t,e,n,r)},j.shuffle=function(t){return($u(t)?en:Ir)(t)},j.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&io(t,e,n)?(e=0,n=r):(e=null==e?0:ua(e),n=n===Z?r:ua(n)),Fr(t,e,n)):[]},j.sortBy=Su,j.sortedUniq=function(t){return t&&t.length?Qr(t):[]},j.sortedUniqBy=function(t,e){return t&&t.length?Qr(t,$i(e,2)):[]},j.split=function(t,e,n){return n&&"number"!=typeof n&&io(t,e,n)&&(e=n=Z),(n=n===Z?St:n>>>0)?(t=da(t))&&("string"==typeof e||null!=e&&!Xu(e))&&!(e=Rr(e))&&O(t)?Gr(X(t),0,n):t.split(e,n):[]},j.spread=function(t,e){if("function"!=typeof t)throw new Oa(nt);return e=null==e?0:ys(ua(e),0),Er(function(r){var i=r[e],o=Gr(r,0,e);return i&&h(o,i),n(t,this,o)})},j.tail=function(t){var e=null==t?0:t.length;return e?Fr(t,1,e):[]},j.take=function(t,e,n){return t&&t.length?(e=n||e===Z?1:ua(e),Fr(t,0,e<0?0:e)):[]},j.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Z?1:ua(e),e=r-e,Fr(t,e<0?0:e,r)):[]},j.takeRightWhile=function(t,e){return t&&t.length?Dr(t,$i(e,3),!1,!0):[]},j.takeWhile=function(t,e){return t&&t.length?Dr(t,$i(e,3)):[]},j.tap=function(t,e){return e(t),t},j.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Oa(nt);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$o(t,e,{leading:r,maxWait:e,trailing:i})},j.thru=Ro,j.toArray=aa,j.toPairs=pl,j.toPairsIn=Al,j.toPath=function(t){return $u(t)?c(t,wo):oa(t)?[t]:ai(ou(da(t)))},j.toPlainObject=ha,j.transform=function(t,e,n){var r=$u(t),o=r||ju(t)||Yu(t);if(e=$i(e,4),null==n){var a=t&&t.constructor;n=o?r?new a:[]:ta(t)&&Yo(a)?Hs(es(t)):{}}return(o?i:Mn)(t,function(t,r,i){return e(n,t,r,i)}),n},j.unary=function(t){return Do(t,1)},j.union=pu,j.unionBy=Au,j.unionWith=gu,j.uniq=function(t){return t&&t.length?kr(t):[]},j.uniqBy=function(t,e){return t&&t.length?kr(t,$i(e,2)):[]},j.uniqWith=function(t,e){return e="function"==typeof e?e:Z,t&&t.length?kr(t,Z,e):[]},j.unset=function(t,e){return null==t||Or(t,e)},j.unzip=Uo,j.unzipWith=Qo,j.update=function(t,e,n){return null==t?t:Pr(t,e,Vr(n))},j.updateWith=function(t,e,n,r){return r="function"==typeof r?r:Z,null==t?t:Pr(t,e,Vr(n),r)},j.values=ma,j.valuesIn=function(t){return null==t?[]:S(t,ga(t))},j.without=vu,j.words=_a,j.wrap=function(t,e){return Ou(Vr(e),t)},j.xor=mu,j.xorBy=yu,j.xorWith=bu,j.zip=_u,j.zipObject=function(t,e){return Kr(t||[],e||[],rn)},j.zipObjectDeep=function(t,e){return Kr(t||[],e||[],Tr)},j.zipWith=wu,j.entries=pl,j.entriesIn=Al,j.extend=el,j.extendWith=nl,Ea(j,j),j.add=Ll,j.attempt=Cl,j.camelCase=gl,j.capitalize=ya,j.ceil=Rl,j.clamp=function(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=(n=ca(n))===n?n:0),e!==Z&&(e=(e=ca(e))===e?e:0),fn(ca(t),e,n)},j.clone=function(t){return pn(t,ut)},j.cloneDeep=function(t){return pn(t,at|ut)},j.cloneDeepWith=function(t,e){return e="function"==typeof e?e:Z,pn(t,at|ut,e)},j.cloneWith=function(t,e){return e="function"==typeof e?e:Z,pn(t,ut,e)},j.conformsTo=function(t,e){return null==e||bn(t,e,Aa(e))},j.deburr=ba,j.defaultTo=function(t,e){return null==t||t!==t?e:t},j.divide=kl,j.endsWith=function(t,e,n){t=da(t),e=Rr(e);var r=t.length,i=n=n===Z?r:fn(ua(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},j.eq=Go,j.escape=function(t){return(t=da(t))&&ye.test(t)?t.replace(ve,Hn):t},j.escapeRegExp=function(t){return(t=da(t))&&Te.test(t)?t.replace(Ne,"\\$&"):t},j.every=function(t,e,n){var r=$u(t)?a:En;return n&&io(t,e,n)&&(e=Z),r(t,$i(e,3))},j.find=Eu,j.findIndex=Bo,j.findKey=function(t,e){return v(t,$i(e,3),Mn)},j.findLast=Bu,j.findLastIndex=No,j.findLastKey=function(t,e){return v(t,$i(e,3),Pn)},j.floor=Ol,j.forEach=ko,j.forEachRight=Oo,j.forIn=function(t,e){return null==t?t:$s(t,$i(e,3),ga)},j.forInRight=function(t,e){return null==t?t:Vs(t,$i(e,3),ga)},j.forOwn=function(t,e){return t&&Mn(t,$i(e,3))},j.forOwnRight=function(t,e){return t&&Pn(t,$i(e,3))},j.get=fa,j.gt=Hu,j.gte=zu,j.has=function(t,e){return null!=t&&Yi(t,e,Xn)},j.hasIn=pa,j.head=Io,j.identity=xa,j.includes=function(t,e,n,r){t=qo(t)?t:ma(t),n=n&&!r?ua(n):0;var i=t.length;return n<0&&(n=ys(i+n,0)),ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&y(t,e,n)>-1},j.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ua(n);return i<0&&(i=ys(r+i,0)),y(t,e,i)},j.inRange=function(t,e,n){return e=sa(e),n===Z?(n=e,e=0):n=sa(n),t=ca(t),Yn(t,e,n)},j.invoke=ll,j.isArguments=Ku,j.isArray=$u,j.isArrayBuffer=Vu,j.isArrayLike=qo,j.isArrayLikeObject=Xo,j.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Gn(t)==Ot},j.isBuffer=ju,j.isDate=Gu,j.isElement=function(t){return ea(t)&&1===t.nodeType&&!ra(t)},j.isEmpty=function(t){if(null==t)return!0;if(qo(t)&&($u(t)||"string"==typeof t||"function"==typeof t.splice||ju(t)||Yu(t)||Ku(t)))return!t.length;var e=tu(t);if(e==$t||e==Wt)return!t.size;if(lo(t))return!sr(t).length;for(var n in t)if($a.call(t,n))return!1;return!0},j.isEqual=function(t,e){return nr(t,e)},j.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:Z)?n(t,e):Z;return r===Z?nr(t,e,Z,n):!!r},j.isError=Wo,j.isFinite=function(t){return"number"==typeof t&&gs(t)},j.isFunction=Yo,j.isInteger=Jo,j.isLength=Zo,j.isMap=qu,j.isMatch=function(t,e){return t===e||ir(t,e,ji(e))},j.isMatchWith=function(t,e,n){return n="function"==typeof n?n:Z,ir(t,e,ji(e),n)},j.isNaN=function(t){return na(t)&&t!=+t},j.isNative=function(t){if(eu(t))throw new Ma(et);return or(t)},j.isNil=function(t){return null==t},j.isNull=function(t){return null===t},j.isNumber=na,j.isObject=ta,j.isObjectLike=ea,j.isPlainObject=ra,j.isRegExp=Xu,j.isSafeInteger=function(t){return Jo(t)&&t>=-Tt&&t<=Tt},j.isSet=Wu,j.isString=ia,j.isSymbol=oa,j.isTypedArray=Yu,j.isUndefined=function(t){return t===Z},j.isWeakMap=function(t){return ea(t)&&tu(t)==te},j.isWeakSet=function(t){return ea(t)&&Gn(t)==ee},j.join=function(t,e){return null==t?"":vs.call(t,e)},j.kebabCase=vl,j.last=Fo,j.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==Z&&(i=(i=ua(n))<0?ys(r+i,0):bs(i,r-1)),e===e?G(t,e,i):m(t,_,i,!0)},j.lowerCase=ml,j.lowerFirst=yl,j.lt=Ju,j.lte=Zu,j.max=function(t){return t&&t.length?Bn(t,xa,qn):Z},j.maxBy=function(t,e){return t&&t.length?Bn(t,$i(e,2),qn):Z},j.mean=function(t){return w(t,xa)},j.meanBy=function(t,e){return w(t,$i(e,2))},j.min=function(t){return t&&t.length?Bn(t,xa,lr):Z},j.minBy=function(t,e){return t&&t.length?Bn(t,$i(e,2),lr):Z},j.stubArray=Ta,j.stubFalse=Ia,j.stubObject=function(){return{}},j.stubString=function(){return""},j.stubTrue=function(){return!0},j.multiply=Pl,j.nth=function(t,e){return t&&t.length?Ar(t,ua(e)):Z},j.noConflict=function(){return Nn._===this&&(Nn._=Xa),this},j.noop=Ba,j.now=Mu,j.pad=function(t,e,n){t=da(t);var r=(e=ua(e))?q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ei(fs(i),n)+t+Ei(ds(i),n)},j.padEnd=function(t,e,n){t=da(t);var r=(e=ua(e))?q(t):0;return e&&r<e?t+Ei(e-r,n):t},j.padStart=function(t,e,n){t=da(t);var r=(e=ua(e))?q(t):0;return e&&r<e?Ei(e-r,n)+t:t},j.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ws(da(t).replace(Fe,""),e||0)},j.random=function(t,e,n){if(n&&"boolean"!=typeof n&&io(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=sa(t),e===Z?(e=t,t=0):e=sa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=xs();return bs(t+i*(e-t+xn("1e-"+((i+"").length-1))),e)}return wr(t,e)},j.reduce=function(t,e,n){var r=$u(t)?d:E,i=arguments.length<3;return r(t,$i(e,4),n,i,zs)},j.reduceRight=function(t,e,n){var r=$u(t)?f:E,i=arguments.length<3;return r(t,$i(e,4),n,i,Ks)},j.repeat=function(t,e,n){return e=(n?io(t,e,n):e===Z)?1:ua(e),Cr(da(t),e)},j.replace=function(){var t=arguments,e=da(t[0]);return t.length<3?e:e.replace(t[1],t[2])},j.result=function(t,e,n){var r=-1,i=(e=jr(e,t)).length;for(i||(i=1,t=Z);++r<i;){var o=null==t?Z:t[wo(e[r])];o===Z&&(r=i,o=n),t=Yo(o)?o.call(t):o}return t},j.round=Dl,j.runInContext=A,j.sample=function(t){return($u(t)?Ze:Br)(t)},j.size=function(t){if(null==t)return 0;if(qo(t))return ia(t)?q(t):t.length;var e=tu(t);return e==$t||e==Wt?t.size:sr(t).length},j.snakeCase=bl,j.some=function(t,e,n){var r=$u(t)?p:Sr;return n&&io(t,e,n)&&(e=Z),r(t,$i(e,3))},j.sortedIndex=function(t,e){return Mr(t,e)},j.sortedIndexBy=function(t,e,n){return Ur(t,e,$i(n,2))},j.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Mr(t,e);if(r<n&&Go(t[r],e))return r}return-1},j.sortedLastIndex=function(t,e){return Mr(t,e,!0)},j.sortedLastIndexBy=function(t,e,n){return Ur(t,e,$i(n,2),!0)},j.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Mr(t,e,!0)-1;if(Go(t[n],e))return n}return-1},j.startCase=_l,j.startsWith=function(t,e,n){return t=da(t),n=null==n?0:fn(ua(n),0,t.length),e=Rr(e),t.slice(n,n+e.length)==e},j.subtract=Hl,j.sum=function(t){return t&&t.length?N(t,xa):0},j.sumBy=function(t,e){return t&&t.length?N(t,$i(e,2)):0},j.template=function(t,e,n){var r=j.templateSettings;n&&io(t,e,n)&&(e=Z),t=da(t),e=nl({},e,r,Ui);var i,o,a=nl({},e.imports,r.imports,Ui),s=Aa(a),u=S(a,s),l=0,c=e.interpolate||Ve,h="__p += '",d=Ra((e.escape||Ve).source+"|"+c.source+"|"+(c===we?ke:Ve).source+"|"+(e.evaluate||Ve).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++gn+"]")+"\n";t.replace(d,function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(l,u).replace(je,R),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var p=e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(fe,""):h).replace(pe,"$1").replace(Ae,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var A=Cl(function(){return Ua(s,f+"return "+h).apply(Z,u)});if(A.source=h,Wo(A))throw A;return A},j.times=function(t,e){if((t=ua(t))<1||t>Tt)return[];var n=St,r=bs(t,St);e=$i(e),t-=St;for(var i=T(r,e);++n<t;)e(n);return i},j.toFinite=sa,j.toInteger=ua,j.toLength=la,j.toLower=function(t){return da(t).toLowerCase()},j.toNumber=ca,j.toSafeInteger=function(t){return t?fn(ua(t),-Tt,Tt):0===t?t:0},j.toString=da,j.toUpper=function(t){return da(t).toUpperCase()},j.trim=function(t,e,n){if((t=da(t))&&(n||e===Z))return t.replace(Ie,"");if(!t||!(e=Rr(e)))return t;var r=X(t),i=X(e);return Gr(r,U(r,i),Q(r,i)+1).join("")},j.trimEnd=function(t,e,n){if((t=da(t))&&(n||e===Z))return t.replace(Se,"");if(!t||!(e=Rr(e)))return t;var r=X(t);return Gr(r,0,Q(r,X(e))+1).join("")},j.trimStart=function(t,e,n){if((t=da(t))&&(n||e===Z))return t.replace(Fe,"");if(!t||!(e=Rr(e)))return t;var r=X(t);return Gr(r,U(r,X(e))).join("")},j.truncate=function(t,e){var n=_t,r=wt;if(ta(e)){var i="separator"in e?e.separator:i;n="length"in e?ua(e.length):n,r="omission"in e?Rr(e.omission):r}var o=(t=da(t)).length;if(O(t)){var a=X(t);o=a.length}if(n>=o)return t;var s=n-q(r);if(s<1)return r;var u=a?Gr(a,0,s).join(""):t.slice(0,s);if(i===Z)return u+r;if(a&&(s+=u.length-s),Xu(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=Ra(i.source,da(Oe.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===Z?s:h)}}else if(t.indexOf(Rr(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},j.unescape=function(t){return(t=da(t))&&me.test(t)?t.replace(ge,zn):t},j.uniqueId=function(t){var e=++Va;return da(t)+e},j.upperCase=wl,j.upperFirst=xl,j.each=ko,j.eachRight=Oo,j.first=Io,Ea(j,function(){var t={};return Mn(j,function(e,n){$a.call(j.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),j.VERSION="4.17.4",i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){j[t].placeholder=j}),i(["drop","take"],function(t,e){Le.prototype[t]=function(n){n=n===Z?1:ys(ua(n),0);var r=this.__filtered__&&!e?new Le(this):this.clone();return r.__filtered__?r.__takeCount__=bs(n,r.__takeCount__):r.__views__.push({size:bs(n,St),type:t+(r.__dir__<0?"Right":"")}),r},Le.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),i(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Et||3==n;Le.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$i(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),i(["head","last"],function(t,e){var n="take"+(e?"Right":"");Le.prototype[t]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Le.prototype[t]=function(){return this.__filtered__?new Le(this):this[n](1)}}),Le.prototype.compact=function(){return this.filter(xa)},Le.prototype.find=function(t){return this.filter(t).head()},Le.prototype.findLast=function(t){return this.reverse().find(t)},Le.prototype.invokeMap=Er(function(t,e){return"function"==typeof t?new Le(this):this.map(function(n){return tr(n,t,e)})}),Le.prototype.reject=function(t){return this.filter(jo($i(t)))},Le.prototype.slice=function(t,e){t=ua(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Le(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(n=(e=ua(e))<0?n.dropRight(-e):n.take(e-t)),n)},Le.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Le.prototype.toArray=function(){return this.take(St)},Mn(Le.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=j[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(j.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Le,u=a[0],l=s||$u(e),c=function(t){var e=i.apply(j,h([t],a));return r&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,A=s&&!f;if(!o&&l){e=A?e:new Le(this);var g=t.apply(e,a);return g.__actions__.push({func:Ro,args:[c],thisArg:Z}),new Y(g,d)}return p&&A?t.apply(this,a):(g=this.thru(c),p?r?g.value()[0]:g.value():g)})}),i(["pop","push","shift","sort","splice","unshift"],function(t){var e=Pa[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);j.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply($u(i)?i:[],t)}return this[n](function(n){return e.apply($u(n)?n:[],t)})}}),Mn(Le.prototype,function(t,e){var n=j[e];if(n){var r=n.name+"";(Ms[r]||(Ms[r]=[])).push({name:e,func:n})}}),Ms[_i(Z,dt).name]=[{name:"wrapper",func:Z}],Le.prototype.clone=function(){var t=new Le(this.__wrapped__);return t.__actions__=ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ai(this.__views__),t},Le.prototype.reverse=function(){if(this.__filtered__){var t=new Le(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Le.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$u(t),r=e<0,i=n?t.length:0,o=Xi(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=bs(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return Hr(t,this.__actions__);var p=[];t:for(;u--&&d<f;){for(var A=-1,g=t[l+=e];++A<h;){var v=c[A],m=v.iteratee,y=v.type,b=m(g);if(y==Bt)g=b;else if(!b){if(y==Et)continue t;break t}}p[d++]=g}return p},j.prototype.at=xu,j.prototype.chain=function(){return Lo(this)},j.prototype.commit=function(){return new Y(this.value(),this.__chain__)},j.prototype.next=function(){this.__values__===Z&&(this.__values__=aa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Z:this.__values__[this.__index__++]}},j.prototype.plant=function(t){for(var e,n=this;n instanceof W;){var r=Eo(n);r.__index__=0,r.__values__=Z,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},j.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Le){var e=t;return this.__actions__.length&&(e=new Le(this)),(e=e.reverse()).__actions__.push({func:Ro,args:[Mo],thisArg:Z}),new Y(e,this.__chain__)}return this.thru(Mo)},j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=function(){return Hr(this.__wrapped__,this.__actions__)},j.prototype.first=j.prototype.head,as&&(j.prototype[as]=function(){return this}),j}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Nn._=Kn,define(function(){return Kn})):In?((In.exports=Kn)._=Kn,Tn._=Kn):Nn._=Kn}).call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=nt.type(t);return"function"!==n&&!nt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function r(t,e,n){if(nt.isFunction(e))return nt.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return nt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ct.test(e))return nt.filter(e,t,n);e=nt.filter(e,t)}return nt.grep(t,function(t){return nt.inArray(t,e)>=0!==n})}function i(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e=vt[t]={};return nt.each(t.match(gt)||[],function(t,n){e[n]=!0}),e}function a(){dt.addEventListener?(dt.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(dt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(dt.addEventListener||"load"===event.type||"complete"===dt.readyState)&&(a(),nt.ready())}function u(t,e,n){if(void 0===n&&1===t.nodeType){var r="data-"+e.replace(wt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_t.test(n)?nt.parseJSON(n):n)}catch(t){}nt.data(t,e,n)}else n=void 0}return n}function l(t){var e;for(e in t)if(("data"!==e||!nt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,r){if(nt.acceptData(t)){var i,o,a=nt.expando,s=t.nodeType,u=s?nt.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof e)return l||(l=s?t[a]=G.pop()||nt.guid++:a),u[l]||(u[l]=s?{}:{toJSON:nt.noop}),"object"!=typeof e&&"function"!=typeof e||(r?u[l]=nt.extend(u[l],e):u[l].data=nt.extend(u[l].data,e)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[nt.camelCase(e)]=n),"string"==typeof e?null==(i=o[e])&&(i=o[nt.camelCase(e)]):i=o,i}}function h(t,e,n){if(nt.acceptData(t)){var r,i,o=t.nodeType,a=o?nt.cache:t,s=o?t[nt.expando]:nt.expando;if(a[s]){if(e&&(r=n?a[s]:a[s].data)){i=(e=nt.isArray(e)?e.concat(nt.map(e,nt.camelCase)):e in r?[e]:(e=nt.camelCase(e))in r?[e]:e.split(" ")).length;for(;i--;)delete r[e[i]];if(n?!l(r):!nt.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?nt.cleanData([t],!0):et.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return dt.activeElement}catch(t){}}function A(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function g(t,e){var n,r,i=0,o=typeof t.getElementsByTagName!==bt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==bt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||nt.nodeName(r,e)?o.push(r):nt.merge(o,g(r,e));return void 0===e||e&&nt.nodeName(t,e)?nt.merge([t],o):o}function v(t){Nt.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e){return nt.nodeName(t,"table")&&nt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==nt.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=$t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){for(var n,r=0;null!=(n=t[r]);r++)nt._data(n,"globalEval",!e||nt._data(e[r],"globalEval"))}function w(t,e){if(1===e.nodeType&&nt.hasData(t)){var n,r,i,o=nt._data(t),a=nt._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)nt.event.add(e,n,s[n][r])}a.data&&(a.data=nt.extend({},a.data))}}function x(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!et.noCloneEvent&&e[nt.expando]){i=nt._data(e);for(r in i.events)nt.removeEvent(e,r,i.handle);e.removeAttribute(nt.expando)}"script"===n&&e.text!==t.text?(y(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),et.html5Clone&&t.innerHTML&&!nt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Nt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function C(e,n){var r,i=nt(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:nt.css(i[0],"display");return i.detach(),o}function E(t){var e=dt,n=Xt[t];return n||("none"!==(n=C(t,e))&&n||((e=((qt=(qt||nt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||qt[0].contentDocument).document).write(),e.close(),n=C(t,e),qt.detach()),Xt[t]=n),n}function B(t,e){return{get:function(){var n=t();if(null!=n){if(!n)return(this.get=e).apply(this,arguments);delete this.get}}}}function N(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=ue.length;i--;)if((e=ue[i]+n)in t)return e;return r}function T(t,e){for(var n,r,i,o=[],a=0,s=t.length;a<s;a++)(r=t[a]).style&&(o[a]=nt._data(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Et(r)&&(o[a]=nt._data(r,"olddisplay",E(r.nodeName)))):(i=Et(r),(n&&"none"!==n||!i)&&nt._data(r,"olddisplay",i?n:nt.css(r,"display"))));for(a=0;a<s;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function I(t,e,n){var r=ie.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function F(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=nt.css(t,n+Ct[o],!0,i)),r?("content"===n&&(a-=nt.css(t,"padding"+Ct[o],!0,i)),"margin"!==n&&(a-=nt.css(t,"border"+Ct[o]+"Width",!0,i))):(a+=nt.css(t,"padding"+Ct[o],!0,i),"padding"!==n&&(a+=nt.css(t,"border"+Ct[o]+"Width",!0,i)));return a}function S(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Wt(t),a=et.boxSizing&&"border-box"===nt.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Yt(t,e,o))<0||null==i)&&(i=t.style[e]),Zt.test(i))return i;r=a&&(et.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+F(t,e,n||(a?"border":"content"),r,o)+"px"}function M(t,e,n,r,i){return new M.prototype.init(t,e,n,r,i)}function U(){return setTimeout(function(){le=void 0}),le=nt.now()}function Q(t,e){var n,r={height:t},i=0;for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Ct[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function L(t,e,n){for(var r,i=(Ae[e]||[]).concat(Ae["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function R(t,e){var n,r,i,o,a;for(n in t)if(r=nt.camelCase(n),i=e[r],o=t[n],nt.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=nt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function k(t,e,n){var r,i,o=0,a=pe.length,s=nt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=le||U(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:nt.extend({},e),opts:nt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:le||U(),duration:n.duration,tweens:[],createTween:function(e,n){var r=nt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(R(c,l.opts.specialEasing);o<a;o++)if(r=pe[o].call(l,t,c,l.opts))return r;return nt.map(c,L,l),nt.isFunction(l.opts.start)&&l.opts.start.call(t,l),nt.fx.timer(nt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(gt)||[];if(nt.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function P(t,e,n,r){function i(s){var u;return o[s]=!0,nt.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===Pe;return i(e.dataTypes[0])||!o["*"]&&i("*")}function D(t,e){var n,r,i=nt.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&nt.extend(!0,t,n),t}function H(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function z(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function K(t,e,n,r){var i;if(nt.isArray(e))nt.each(e,function(e,i){n||ze.test(t)?r(t,i):K(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==nt.type(e))r(t,e);else for(i in e)K(t+"["+i+"]",e[i],n,r)}function $(){try{return new t.XMLHttpRequest}catch(t){}}function V(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(t){return nt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var G=[],q=G.slice,X=G.concat,W=G.push,Y=G.indexOf,J={},Z=J.toString,tt=J.hasOwnProperty,et={},nt=function(t,e){return new nt.fn.init(t,e)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^-ms-/,ot=/-([\da-z])/gi,at=function(t,e){return e.toUpperCase()};nt.fn=nt.prototype={jquery:"1.11.3",constructor:nt,selector:"",length:0,toArray:function(){return q.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:q.call(this)},pushStack:function(t){var e=nt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return nt.each(this,t,e)},map:function(t){return this.pushStack(nt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:G.sort,splice:G.splice},nt.extend=nt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||nt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)t=a[r],a!==(n=i[r])&&(l&&n&&(nt.isPlainObject(n)||(e=nt.isArray(n)))?(e?(e=!1,o=t&&nt.isArray(t)?t:[]):o=t&&nt.isPlainObject(t)?t:{},a[r]=nt.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},nt.extend({expando:"jQuery"+("1.11.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===nt.type(t)},isArray:Array.isArray||function(t){return"array"===nt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!nt.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==nt.type(t)||t.nodeType||nt.isWindow(t))return!1;try{if(t.constructor&&!tt.call(t,"constructor")&&!tt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(et.ownLast)for(e in t)return tt.call(t,e);for(e in t);return void 0===e||tt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[Z.call(t)]||"object":typeof t},globalEval:function(e){e&&nt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(it,"ms-").replace(ot,at)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i=0,o=t.length,a=n(t);if(r){if(a)for(;i<o&&!1!==e.apply(t[i],r);i++);else for(i in t)if(!1===e.apply(t[i],r))break}else if(a)for(;i<o&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(rt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?nt.merge(r,"string"==typeof t?[t]:t):W.call(r,t)),r},inArray:function(t,e,n){var r;if(e){if(Y)return Y.call(e,t,n);for(r=e.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;)t[i++]=e[r++];if(n!==n)for(;void 0!==e[r];)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,r){var i,o=0,a=t.length,s=[];if(n(t))for(;o<a;o++)null!=(i=e(t[o],o,r))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&s.push(i);return X.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(i=t[e],e=t,t=i),nt.isFunction(t))return n=q.call(arguments,2),r=function(){return t.apply(e||this,n.concat(q.call(arguments)))},r.guid=t.guid=t.guid||nt.guid++,r},now:function(){return+new Date},support:et}),nt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var st=function(t){function e(t,e,n,r){var i,o,a,s,l,h,d,f,p,A;if((e?e.ownerDocument||e:O)!==F&&I(e),e=e||F,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&M){if(11!==s&&(i=gt.exec(t)))if(a=i[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&R(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return W.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&y.getElementsByClassName)return W.apply(n,e.getElementsByClassName(a)),n}if(y.qsa&&(!U||!U.test(t))){if(f=d=k,p=e,A=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(h=x(t),(d=e.getAttribute("id"))?f=d.replace(mt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=h.length;l--;)h[l]=f+c(h[l]);p=vt.test(t)&&u(e.parentNode)||e,A=h.join(",")}if(A)try{return W.apply(n,p.querySelectorAll(A)),n}catch(t){}finally{d||e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[k]=!0,t}function i(t){var e=F.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)b.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function c(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=D++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,l=[P,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[k]||(e[k]={}),(s=u[r])&&s[0]===P&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function f(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function p(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function A(t,e,n,i,o,a){return i&&!i[k]&&(i=A(i)),o&&!o[k]&&(o=A(o,a)),r(function(r,a,s,u){var l,c,h,d=[],A=[],g=a.length,v=r||f(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?v:p(v,d,t,s,u),y=n?o||(r?t:g||i)?[]:a:m;if(n&&n(m,y,s,u),i)for(l=p(y,A),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(y[A[c]]=!(m[A[c]]=h));if(r){if(o||t){if(o){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(m[c]=h);o(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=o?J(r,h):d[c])>-1&&(r[l]=!(a[l]=h))}}else y=p(y===a?y.splice(g,y.length):y),o?o(null,a,y,u):W.apply(a,y)})}function g(t){for(var e,n,r,i=t.length,o=b.relative[t[0].type],a=o||b.relative[" "],s=o?1:0,u=h(function(t){return t===e},a,!0),l=h(function(t){return J(e,t)>-1},a,!0),f=[function(t,n,r){var i=!o&&(r||n!==B)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=b.relative[t[s].type])f=[h(d(f),n)];else{if((n=b.filter[t[s].type].apply(null,t[s].matches))[k]){for(r=++s;r<i&&!b.relative[t[r].type];r++);return A(s>1&&d(f),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),n,s<r&&g(t.slice(s,r)),r<i&&g(t=t.slice(r)),r<i&&c(t))}f.push(n)}return d(f)}function v(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,d,f=0,A="0",g=r&&[],v=[],m=B,y=r||o&&b.find.TAG("*",l),_=P+=null==m?1:Math.random()||.1,w=y.length;for(l&&(B=a!==F&&a);A!==w&&null!=(c=y[A]);A++){if(o&&c){for(h=0;d=t[h++];)if(d(c,a,s)){u.push(c);break}l&&(P=_)}i&&((c=!d&&c)&&f--,r&&g.push(c))}if(f+=A,i&&A!==f){for(h=0;d=n[h++];)d(g,v,a,s);if(r){if(f>0)for(;A--;)g[A]||v[A]||(v[A]=q.call(u));v=p(v)}W.apply(u,v),l&&!r&&v.length>0&&f+n.length>1&&e.uniqueSort(u)}return l&&(P=_,B=m),g};return i?r(a):a}var m,y,b,_,w,x,C,E,B,N,T,I,F,S,M,U,Q,L,R,k="sizzle"+1*new Date,O=t.document,P=0,D=0,H=n(),z=n(),K=n(),$=function(t,e){return t===e&&(T=!0),0},V=1<<31,j={}.hasOwnProperty,G=[],q=G.pop,X=G.push,W=G.push,Y=G.slice,J=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),rt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),ut=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(it),ht=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,At=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,mt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_t=function(){I()};try{W.apply(G=Y.call(O.childNodes),O.childNodes),G[O.childNodes.length].nodeType}catch(t){W={apply:G.length?function(t,e){X.apply(t,Y.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}y=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:O;return r!==F&&9===r.nodeType&&r.documentElement?(F=r,S=r.documentElement,(n=r.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),M=!w(r),y.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=At.test(r.getElementsByClassName),y.getById=i(function(t){return S.appendChild(t).id=k,!r.getElementsByName||!r.getElementsByName(k).length}),y.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),b.find.TAG=y.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=y.getElementsByClassName&&function(t,e){if(M)return e.getElementsByClassName(t)},Q=[],U=[],(y.qsa=At.test(r.querySelectorAll))&&(i(function(t){S.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&U.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||U.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+k+"-]").length||U.push("~="),t.querySelectorAll(":checked").length||U.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||U.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&U.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||U.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),U.push(",.*:")})),(y.matchesSelector=At.test(L=S.matches||S.webkitMatchesSelector||S.mozMatchesSelector||S.oMatchesSelector||S.msMatchesSelector))&&i(function(t){y.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),Q.push("!=",it)}),U=U.length&&new RegExp(U.join("|")),Q=Q.length&&new RegExp(Q.join("|")),e=At.test(S.compareDocumentPosition),R=e||At.test(S.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return T=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===O&&R(O,t)?-1:e===r||e.ownerDocument===O&&R(O,e)?1:N?J(N,t)-J(N,e):0:4&n?-1:1)}:function(t,e){if(t===e)return T=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:N?J(N,t)-J(N,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===O?-1:l[i]===O?1:0},r):F},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==F&&I(t),n=n.replace(lt,"='$1']"),y.matchesSelector&&M&&(!Q||!Q.test(n))&&(!U||!U.test(n)))try{var r=L.call(t,n);if(r||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&I(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&I(t);var n=b.attrHandle[e.toLowerCase()],r=n&&j.call(b.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==r?r:y.attributes||!M?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(T=!y.detectDuplicates,N=!y.sortStable&&t.slice(0),t.sort($),T){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return N=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},(b=e.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=x(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ot," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,d,f,p,A=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),m=!u&&!s;if(g){if(o){for(;A;){for(h=e;h=h[A];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=A="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&m){for(f=(l=(c=g[k]||(g[k]={}))[t]||[])[0]===P&&l[1],d=l[0]===P&&l[2],h=f&&g.childNodes[f];h=++f&&h&&h[A]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[P,f,d];break}}else if(m&&(l=(e[k]||(e[k]={}))[t])&&l[0]===P)d=l[1];else for(;(h=++f&&h&&h[A]||(d=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(m&&((h[k]||(h[k]={}))[t]=[P,d]),h!==e)););return(d-=i)===r||d%r==0&&d/r>=0}}},PSEUDO:function(t,n){var i,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[k]?o(n):o.length>1?(i=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)t[r=J(t,i[a])]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=C(t.replace(at,"$1"));return i[k]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var n;do{if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===S},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:s(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=b.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[m]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(m);for(m in{submit:!0,reset:!0})b.pseudos[m]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(m);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,x=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=z[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=b.preFilter;s;){r&&!(i=st.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),s=s.slice(r.length));for(a in b.filter)!(i=dt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):z(t,u).slice(0)},C=e.compile=function(t,e){var n,r=[],i=[],o=K[t+" "];if(!o){for(e||(e=x(t)),n=e.length;n--;)(o=g(e[n]))[k]?r.push(o):i.push(o);(o=K(t,v(i,r))).selector=t}return o},E=e.select=function(t,e,n,r){var i,o,a,s,l,h="function"==typeof t&&t,d=!r&&x(t=h.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&y.getById&&9===e.nodeType&&M&&b.relative[o[1].type]){if(!(e=(b.find.ID(a.matches[0].replace(yt,bt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=dt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((l=b.find[s])&&(r=l(a.matches[0].replace(yt,bt),vt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&c(o)))return W.apply(n,r),n;break}}return(h||C(t,d))(r,e,!M,n,vt.test(t)&&u(e.parentNode)||e),n},y.sortStable=k.split("").sort($).join("")===k,y.detectDuplicates=!!T,I(),y.sortDetached=i(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);nt.find=st,nt.expr=st.selectors,nt.expr[":"]=nt.expr.pseudos,nt.unique=st.uniqueSort,nt.text=st.getText,nt.isXMLDoc=st.isXML,nt.contains=st.contains;var ut=nt.expr.match.needsContext,lt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ct=/^.[^:#\[\.,]*$/;nt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?nt.find.matchesSelector(r,t)?[r]:[]:nt.find.matches(t,nt.grep(e,function(t){return 1===t.nodeType}))},nt.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(nt(t).filter(function(){for(e=0;e<i;e++)if(nt.contains(r[e],this))return!0}));for(e=0;e<i;e++)nt.find(t,r[e],n);return n=this.pushStack(i>1?nt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ut.test(t)?nt(t):t||[],!1).length}});var ht,dt=t.document,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(nt.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ft.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ht).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof nt?e[0]:e,nt.merge(this,nt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:dt,!0)),lt.test(n[1])&&nt.isPlainObject(e))for(n in e)nt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((r=dt.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return ht.find(t);this.length=1,this[0]=r}return this.context=dt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):nt.isFunction(t)?void 0!==ht.ready?ht.ready(t):t(nt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),nt.makeArray(t,this))}).prototype=nt.fn,ht=nt(dt);var pt=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};nt.extend({dir:function(t,e,n){for(var r=[],i=t[e];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!nt(i).is(n));)1===i.nodeType&&r.push(i),i=i[e];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),nt.fn.extend({has:function(t){var e,n=nt(t,this),r=n.length;return this.filter(function(){for(e=0;e<r;e++)if(nt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ut.test(t)||"string"!=typeof t?nt(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&nt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?nt.unique(o):o)},index:function(t){return t?"string"==typeof t?nt.inArray(this[0],nt(t)):nt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(nt.unique(nt.merge(this.get(),nt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),nt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return nt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return nt.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return nt.dir(t,"nextSibling")},prevAll:function(t){return nt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return nt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return nt.dir(t,"previousSibling",n)},siblings:function(t){return nt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return nt.sibling(t.firstChild)},contents:function(t){return nt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:nt.merge([],t.childNodes)}},function(t,e){nt.fn[t]=function(n,r){var i=nt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=nt.filter(r,i)),this.length>1&&(At[t]||(i=nt.unique(i)),pt.test(t)&&(i=i.reverse())),this.pushStack(i)}});var gt=/\S+/g,vt={};nt.Callbacks=function(t){var e,n,r,i,a,s,u=[],l=!(t="string"==typeof t?vt[t]||o(t):nt.extend({},t)).once&&[],c=function(o){for(n=t.memory&&o,r=!0,a=s||0,s=0,i=u.length,e=!0;u&&a<i;a++)if(!1===u[a].apply(o[0],o[1])&&t.stopOnFalse){n=!1;break}e=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:h.disable())},h={add:function(){if(u){var r=u.length;!function e(n){nt.each(n,function(n,r){var i=nt.type(r);"function"===i?t.unique&&h.has(r)||u.push(r):r&&r.length&&"string"!==i&&e(r)})}(arguments),e?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&nt.each(arguments,function(t,n){for(var r;(r=nt.inArray(n,u,r))>-1;)u.splice(r,1),e&&(r<=i&&i--,r<=a&&a--)}),this},has:function(t){return t?nt.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(t,n){return!u||r&&!l||(n=[t,(n=n||[]).slice?n.slice():n],e?l.push(n):c(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},nt.extend({Deferred:function(t){var e=[["resolve","done",nt.Callbacks("once memory"),"resolved"],["reject","fail",nt.Callbacks("once memory"),"rejected"],["notify","progress",nt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return nt.Deferred(function(n){nt.each(e,function(e,o){var a=nt.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&nt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?nt.extend(t,r):r}},i={};return r.pipe=r.then,nt.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||t&&nt.isFunction(t.promise)?a:0,u=1===s?t:nt.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?q.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&nt.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,e)):--s;return s||u.resolveWith(r,o),u.promise()}});var mt;nt.fn.ready=function(t){return nt.ready.promise().done(t),this},nt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?nt.readyWait++:nt.ready(!0)},ready:function(t){if(!0===t?!--nt.readyWait:!nt.isReady){if(!dt.body)return setTimeout(nt.ready);nt.isReady=!0,!0!==t&&--nt.readyWait>0||(mt.resolveWith(dt,[nt]),nt.fn.triggerHandler&&(nt(dt).triggerHandler("ready"),nt(dt).off("ready")))}}}),nt.ready.promise=function(e){if(!mt)if(mt=nt.Deferred(),"complete"===dt.readyState)setTimeout(nt.ready);else if(dt.addEventListener)dt.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{dt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&dt.documentElement}catch(t){}n&&n.doScroll&&function t(){if(!nt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}a(),nt.ready()}}()}return mt.promise(e)};var yt,bt="undefined";for(yt in nt(et))break;et.ownLast="0"!==yt,et.inlineBlockNeedsLayout=!1,nt(function(){var t,e,n,r;(n=dt.getElementsByTagName("body")[0])&&n.style&&(e=dt.createElement("div"),(r=dt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==bt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",et.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(r))}),function(){var t=dt.createElement("div");if(null==et.deleteExpando){et.deleteExpando=!0;try{delete t.test}catch(t){et.deleteExpando=!1}}t=null}(),nt.acceptData=function(t){var e=nt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;nt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?nt.cache[t[nt.expando]]:t[nt.expando])&&!l(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),nt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=nt.data(o),1===o.nodeType&&!nt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&u(o,r=nt.camelCase(r.slice(5)),i[r]);nt._data(o,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){nt.data(this,t)}):arguments.length>1?this.each(function(){nt.data(this,t,e)}):o?u(o,t,nt.data(o,t)):void 0},removeData:function(t){return this.each(function(){nt.removeData(this,t)})}}),nt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=nt._data(t,e),n&&(!r||nt.isArray(n)?r=nt._data(t,e,nt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=nt.queue(t,e),r=n.length,i=n.shift(),o=nt._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){nt.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return nt._data(t,n)||nt._data(t,n,{empty:nt.Callbacks("once memory").add(function(){nt._removeData(t,e+"queue"),nt._removeData(t,n)})})}}),nt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?nt.queue(this[0],t):void 0===e?this:this.each(function(){var n=nt.queue(this,t,e);nt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&nt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){nt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=nt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=nt._data(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===nt.css(t,"display")||!nt.contains(t.ownerDocument,t)},Bt=nt.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===nt.type(n)){i=!0;for(s in n)nt.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,nt.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(nt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},Nt=/^(?:checkbox|radio)$/i;!function(){var t=dt.createElement("input"),e=dt.createElement("div"),n=dt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",et.leadingWhitespace=3===e.firstChild.nodeType,et.tbody=!e.getElementsByTagName("tbody").length,et.htmlSerialize=!!e.getElementsByTagName("link").length,et.html5Clone="<:nav></:nav>"!==dt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),et.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",et.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",et.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,et.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){et.noCloneEvent=!1}),e.cloneNode(!0).click()),null==et.deleteExpando){et.deleteExpando=!0;try{delete e.test}catch(t){et.deleteExpando=!1}}}(),function(){var e,n,r=dt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(et[e+"Bubbles"]=n in t)||(r.setAttribute(n,"t"),et[e+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var Tt=/^(?:input|select|textarea)$/i,It=/^key/,Ft=/^(?:mouse|pointer|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;nt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,d,f,p,A,g=nt._data(t);if(g){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=nt.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||((c=g.handle=function(t){return typeof nt===bt||t&&nt.event.triggered===t.type?void 0:nt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(gt)||[""]).length;s--;)f=A=(o=Mt.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),f&&(l=nt.event.special[f]||{},f=(i?l.delegateType:l.bindType)||f,l=nt.event.special[f]||{},h=nt.extend({type:f,origType:A,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&nt.expr.match.needsContext.test(i),namespace:p.join(".")},u),(d=a[f])||((d=a[f]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,r,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,h):d.push(h),nt.event.global[f]=!0);t=null}},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,d,f,p,A,g=nt.hasData(t)&&nt._data(t);if(g&&(c=g.events)){for(l=(e=(e||"").match(gt)||[""]).length;l--;)if(s=Mt.exec(e[l])||[],f=A=s[1],p=(s[2]||"").split(".").sort(),f){for(h=nt.event.special[f]||{},d=c[f=(r?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&A!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,h.remove&&h.remove.call(t,a));u&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||nt.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)nt.event.remove(t,f+e[l],n,r,!0);nt.isEmptyObject(c)&&(delete g.handle,nt._removeData(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,l,c,h,d=[r||dt],f=tt.call(e,"type")?e.type:e,p=tt.call(e,"namespace")?e.namespace.split("."):[];if(s=c=r=r||dt,3!==r.nodeType&&8!==r.nodeType&&!St.test(f+nt.event.triggered)&&(f.indexOf(".")>=0&&(f=(p=f.split(".")).shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,e=e[nt.expando]?e:new nt.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:nt.makeArray(n,[e]),l=nt.event.special[f]||{},i||!l.trigger||!1!==l.trigger.apply(r,n))){if(!i&&!l.noBubble&&!nt.isWindow(r)){for(u=l.delegateType||f,St.test(u+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||dt)&&d.push(c.defaultView||c.parentWindow||t)}for(h=0;(s=d[h++])&&!e.isPropagationStopped();)e.type=h>1?u:l.bindType||f,(o=(nt._data(s,"events")||{})[e.type]&&nt._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&nt.acceptData(s)&&(e.result=o.apply(s,n),!1===e.result&&e.preventDefault());if(e.type=f,!i&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),n))&&nt.acceptData(r)&&a&&r[f]&&!nt.isWindow(r)){(c=r[a])&&(r[a]=null),nt.event.triggered=f;try{r[f]()}catch(t){}nt.event.triggered=void 0,c&&(r[a]=c)}return e.result}},dispatch:function(t){t=nt.event.fix(t);var e,n,r,i,o,a=[],s=q.call(arguments),u=(nt._data(this,"events")||{})[t.type]||[],l=nt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=nt.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(n=((nt.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(i=[],o=0;o<s;o++)void 0===i[n=(r=e[o]).selector+" "]&&(i[n]=r.needsContext?nt(n,this).index(u)>=0:nt.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[nt.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ft.test(i)?this.mouseHooks:It.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new nt.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=o.srcElement||dt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=(r=t.target.ownerDocument||dt).documentElement,n=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(nt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return nt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=nt.extend(new nt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?nt.event.trigger(i,null,e):nt.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},nt.removeEvent=dt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var r="on"+e;t.detachEvent&&(typeof t[r]===bt&&(t[r]=null),t.detachEvent(r,n))},nt.Event=function(t,e){if(!(this instanceof nt.Event))return new nt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?d:f):this.type=t,e&&nt.extend(this,e),this.timeStamp=t&&t.timeStamp||nt.now(),this[nt.expando]=!0},nt.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},nt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){nt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||nt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),et.submitBubbles||(nt.event.special.submit={setup:function(){if(nt.nodeName(this,"form"))return!1;nt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=nt.nodeName(e,"input")||nt.nodeName(e,"button")?e.form:void 0;n&&!nt._data(n,"submitBubbles")&&(nt.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),nt._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&nt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){if(nt.nodeName(this,"form"))return!1;nt.event.remove(this,"._submit")}}),et.changeBubbles||(nt.event.special.change={setup:function(){if(Tt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(nt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),nt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),nt.event.simulate("change",this,t,!0)})),!1;nt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Tt.test(e.nodeName)&&!nt._data(e,"changeBubbles")&&(nt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||nt.event.simulate("change",this.parentNode,t,!0)}),nt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return nt.event.remove(this,"._change"),!Tt.test(this.nodeName)}}),et.focusinBubbles||nt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){nt.event.simulate(e,t.target,nt.event.fix(t),!0)};nt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=nt._data(r,e);i||r.addEventListener(t,n,!0),nt._data(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=nt._data(r,e)-1;i?nt._data(r,e,i):(r.removeEventListener(t,n,!0),nt._removeData(r,e))}}}),nt.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!1===r)r=f;else if(!r)return this;return 1===i&&(a=r,(r=function(t){return nt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=nt.guid++)),this.each(function(){nt.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,nt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=f),this.each(function(){nt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){nt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return nt.event.trigger(t,e,n,!0)}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qt=/ jQuery\d+="(?:null|\d+)"/g,Lt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Rt=/^\s+/,kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,Pt=/<tbody/i,Dt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:et.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=A(dt).appendChild(dt.createElement("div"));jt.optgroup=jt.option,jt.tbody=jt.tfoot=jt.colgroup=jt.caption=jt.thead,jt.th=jt.td,nt.extend({clone:function(t,e,n){var r,i,o,a,s,u=nt.contains(t.ownerDocument,t);if(et.html5Clone||nt.isXMLDoc(t)||!Lt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Gt.innerHTML=t.outerHTML,Gt.removeChild(o=Gt.firstChild)),!(et.noCloneEvent&&et.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||nt.isXMLDoc(t)))for(r=g(o),s=g(t),a=0;null!=(i=s[a]);++a)r[a]&&x(i,r[a]);if(e)if(n)for(s=s||g(t),r=r||g(o),a=0;null!=(i=s[a]);a++)w(i,r[a]);else w(t,o);return(r=g(o,"script")).length>0&&_(r,!u&&g(t,"script")),r=s=i=null,o},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,l,c,h=t.length,d=A(e),f=[],p=0;p<h;p++)if((o=t[p])||0===o)if("object"===nt.type(o))nt.merge(f,o.nodeType?[o]:o);else if(Dt.test(o)){for(s=s||d.appendChild(e.createElement("div")),u=(Ot.exec(o)||["",""])[1].toLowerCase(),c=jt[u]||jt._default,s.innerHTML=c[1]+o.replace(kt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!et.leadingWhitespace&&Rt.test(o)&&f.push(e.createTextNode(Rt.exec(o)[0])),!et.tbody)for(i=(o="table"!==u||Pt.test(o)?"<table>"!==c[1]||Pt.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)nt.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(nt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(e.createTextNode(o));for(s&&d.removeChild(s),et.appendChecked||nt.grep(g(f,"input"),v),p=0;o=f[p++];)if((!r||-1===nt.inArray(o,r))&&(a=nt.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),a&&_(s),n))for(i=0;o=s[i++];)Kt.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(t,e){for(var n,r,i,o,a=0,s=nt.expando,u=nt.cache,l=et.deleteExpando,c=nt.event.special;null!=(n=t[a]);a++)if((e||nt.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?nt.event.remove(n,r):nt.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==bt?n.removeAttribute(s):n[s]=null,G.push(i))}}}),nt.fn.extend({text:function(t){return Bt(this,function(t){return void 0===t?nt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||dt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||m(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?nt.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||nt.cleanData(g(n)),n.parentNode&&(e&&nt.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&nt.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&nt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return nt.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Qt,""):void 0;if("string"==typeof t&&!Ht.test(t)&&(et.htmlSerialize||!Lt.test(t))&&(et.leadingWhitespace||!Rt.test(t))&&!jt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(kt,"<$1></$2>");try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(nt.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,nt.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=X.apply([],t);var n,r,i,o,a,s,u=0,l=this.length,c=this,h=l-1,d=t[0],f=nt.isFunction(d);if(f||l>1&&"string"==typeof d&&!et.checkClone&&zt.test(d))return this.each(function(n){var r=c.eq(n);f&&(t[0]=d.call(this,n,r.html())),r.domManip(t,e)});if(l&&(s=nt.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(i=(o=nt.map(g(s,"script"),y)).length;u<l;u++)r=s,u!==h&&(r=nt.clone(r,!0,!0),i&&nt.merge(o,g(r,"script"))),e.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,nt.map(o,b),u=0;u<i;u++)r=o[u],Kt.test(r.type||"")&&!nt._data(r,"globalEval")&&nt.contains(a,r)&&(r.src?nt._evalUrl&&nt._evalUrl(r.src):nt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Vt,"")));s=n=null}return this}}),nt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){nt.fn[t]=function(t){for(var n,r=0,i=[],o=nt(t),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),nt(o[r])[e](n),W.apply(i,n.get());return this.pushStack(i)}});var qt,Xt={};!function(){var t;et.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,r;return(n=dt.getElementsByTagName("body")[0])&&n.style?(e=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),typeof e.style.zoom!==bt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(dt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(r),t):void 0}}();var Wt,Yt,Jt=/^margin/,Zt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),te=/^(top|right|bottom|left)$/;t.getComputedStyle?(Wt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},Yt=function(t,e,n){var r,i,o,a,s=t.style;return n=n||Wt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||nt.contains(t.ownerDocument,t)||(a=nt.style(t,e)),Zt.test(a)&&Jt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):dt.documentElement.currentStyle&&(Wt=function(t){return t.currentStyle},Yt=function(t,e,n){var r,i,o,a,s=t.style;return n=n||Wt(t),null==(a=n?n[e]:void 0)&&s&&s[e]&&(a=s[e]),Zt.test(a)&&!te.test(e)&&(r=s.left,(o=(i=t.runtimeStyle)&&i.left)&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function e(){var e,n,r,i;(n=dt.getElementsByTagName("body")[0])&&n.style&&(e=dt.createElement("div"),(r=dt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,(i=e.appendChild(dt.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",e.style.width="1px",u=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight),e.removeChild(i)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;(n=dt.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(r=(i=n.getElementsByTagName("a")[0])&&i.style)&&(r.cssText="float:left;opacity:.5",et.opacity="0.5"===r.opacity,et.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",et.clearCloneStyle="content-box"===n.style.backgroundClip,et.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,nt.extend(et,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==u&&e(),u}}))}(),nt.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var ee=/alpha\([^)]*\)/i,ne=/opacity\s*=\s*([^)]*)/,re=/^(none|table(?!-c[ea]).+)/,ie=new RegExp("^("+xt+")(.*)$","i"),oe=new RegExp("^([+-])=("+xt+")","i"),ae={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"},ue=["Webkit","O","Moz","ms"];nt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:et.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=nt.camelCase(e),u=t.style;if(e=nt.cssProps[s]||(nt.cssProps[s]=N(u,s)),a=nt.cssHooks[e]||nt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e];if("string"==(o=typeof n)&&(i=oe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(nt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||nt.cssNumber[s]||(n+="px"),et.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,r)))))try{u[e]=n}catch(t){}}},css:function(t,e,n,r){var i,o,a,s=nt.camelCase(e);return e=nt.cssProps[s]||(nt.cssProps[s]=N(t.style,s)),(a=nt.cssHooks[e]||nt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Yt(t,e,r)),"normal"===o&&e in se&&(o=se[e]),""===n||n?(i=parseFloat(o),!0===n||nt.isNumeric(i)?i||0:o):o}}),nt.each(["height","width"],function(t,e){nt.cssHooks[e]={get:function(t,n,r){if(n)return re.test(nt.css(t,"display"))&&0===t.offsetWidth?nt.swap(t,ae,function(){return S(t,e,r)}):S(t,e,r)},set:function(t,n,r){var i=r&&Wt(t);return I(0,n,r?F(t,e,r,et.boxSizing&&"border-box"===nt.css(t,"boxSizing",!1,i),i):0)}}}),et.opacity||(nt.cssHooks.opacity={get:function(t,e){return ne.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=nt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===nt.trim(o.replace(ee,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=ee.test(o)?o.replace(ee,i):o+" "+i)}}),nt.cssHooks.marginRight=B(et.reliableMarginRight,function(t,e){if(e)return nt.swap(t,{display:"inline-block"},Yt,[t,"marginRight"])}),nt.each({margin:"",padding:"",border:"Width"},function(t,e){nt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ct[r]+e]=o[r]||o[r-2]||o[0];return i}},Jt.test(t)||(nt.cssHooks[t+e].set=I)}),nt.fn.extend({css:function(t,e){return Bt(this,function(t,e,n){var r,i,o={},a=0;if(nt.isArray(e)){for(r=Wt(t),i=e.length;a<i;a++)o[e[a]]=nt.css(t,e[a],!1,r);return o}return void 0!==n?nt.style(t,e,n):nt.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?nt(this).show():nt(this).hide()})}}),nt.Tween=M,M.prototype={constructor:M,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(nt.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.options.duration?this.pos=e=nt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=nt.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){nt.fx.step[t.prop]?nt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[nt.cssProps[t.prop]]||nt.cssHooks[t.prop])?nt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},nt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},nt.fx=M.prototype.init,nt.fx.step={};var le,ce,he=/^(?:toggle|show|hide)$/,de=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),fe=/queueHooks$/,pe=[function(t,e,n){var r,i,o,a,s,u,l,c=this,h={},d=t.style,f=t.nodeType&&Et(t),p=nt._data(t,"fxshow");n.queue||(null==(s=nt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,nt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=nt.css(t,"display"))?nt._data(t,"olddisplay")||E(t.nodeName):l)&&"none"===nt.css(t,"float")&&(et.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",et.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],he.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!p||void 0===p[r])continue;f=!0}h[r]=p&&p[r]||nt.style(t,r)}else l=void 0;if(nt.isEmptyObject(h))"inline"===("none"===l?E(t.nodeName):l)&&(d.display=l);else{p?"hidden"in p&&(f=p.hidden):p=nt._data(t,"fxshow",{}),o&&(p.hidden=!f),f?nt(t).show():c.done(function(){nt(t).hide()}),c.done(function(){var e;nt._removeData(t,"fxshow");for(e in h)nt.style(t,e,h[e])});for(r in h)a=L(f?p[r]:0,r,c),r in p||(p[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}],Ae={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=de.exec(e),o=i&&i[3]||(nt.cssNumber[t]?"":"px"),a=(nt.cssNumber[t]||"px"!==o&&+r)&&de.exec(nt.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",nt.style(n.elem,t,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};nt.Animation=nt.extend(k,{tweener:function(t,e){nt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;r<i;r++)n=t[r],Ae[n]=Ae[n]||[],Ae[n].unshift(e)},prefilter:function(t,e){e?pe.unshift(t):pe.push(t)}}),nt.speed=function(t,e,n){var r=t&&"object"==typeof t?nt.extend({},t):{complete:n||!n&&e||nt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!nt.isFunction(e)&&e};return r.duration=nt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in nt.fx.speeds?nt.fx.speeds[r.duration]:nt.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){nt.isFunction(r.old)&&r.old.call(this),r.queue&&nt.dequeue(this,r.queue)},r},nt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=nt.isEmptyObject(t),o=nt.speed(e,n,r),a=function(){var e=k(this,nt.extend({},t),o);(i||nt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=nt.timers,a=nt._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&fe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||nt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=nt._data(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=nt.timers,a=r?r.length:0;for(n.finish=!0,nt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),nt.each(["toggle","show","hide"],function(t,e){var n=nt.fn[e];nt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Q(e,!0),t,r,i)}}),nt.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){nt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),nt.timers=[],nt.fx.tick=function(){var t,e=nt.timers,n=0;for(le=nt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||nt.fx.stop(),le=void 0},nt.fx.timer=function(t){nt.timers.push(t),t()?nt.fx.start():nt.timers.pop()},nt.fx.interval=13,nt.fx.start=function(){ce||(ce=setInterval(nt.fx.tick,nt.fx.interval))},nt.fx.stop=function(){clearInterval(ce),ce=null},nt.fx.speeds={slow:600,fast:200,_default:400},nt.fn.delay=function(t,e){return t=nt.fx?nt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t,e,n,r,i;(e=dt.createElement("div")).setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=e.getElementsByTagName("a")[0],i=(n=dt.createElement("select")).appendChild(dt.createElement("option")),t=e.getElementsByTagName("input")[0],r.style.cssText="top:1px",et.getSetAttribute="t"!==e.className,et.style=/top/.test(r.getAttribute("style")),et.hrefNormalized="/a"===r.getAttribute("href"),et.checkOn=!!t.value,et.optSelected=i.selected,et.enctype=!!dt.createElement("form").enctype,n.disabled=!0,et.optDisabled=!i.disabled,(t=dt.createElement("input")).setAttribute("value",""),et.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),et.radioValue="t"===t.value}();var ge=/\r/g;nt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=nt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,nt(this).val()):t)?i="":"number"==typeof i?i+="":nt.isArray(i)&&(i=nt.map(i,function(t){return null==t?"":t+""})),(e=nt.valHooks[this.type]||nt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=nt.valHooks[i.type]||nt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ge,""):null==n?"":n}}}),nt.extend({valHooks:{option:{get:function(t){var e=nt.find.attr(t,"value");return null!=e?e:nt.trim(nt.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(et.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!nt.nodeName(n.parentNode,"optgroup"))){if(e=nt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=nt.makeArray(e),a=i.length;a--;)if(r=i[a],nt.inArray(nt.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(t){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),nt.each(["radio","checkbox"],function(){nt.valHooks[this]={set:function(t,e){if(nt.isArray(e))return t.checked=nt.inArray(nt(t).val(),e)>=0}},et.checkOn||(nt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve,me,ye=nt.expr.attrHandle,be=/^(?:checked|selected)$/i,_e=et.getSetAttribute,we=et.input;nt.fn.extend({attr:function(t,e){return Bt(this,nt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){nt.removeAttr(this,t)})}}),nt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===bt?nt.prop(t,e,n):(1===o&&nt.isXMLDoc(t)||(e=e.toLowerCase(),r=nt.attrHooks[e]||(nt.expr.match.bool.test(e)?me:ve)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=nt.find.attr(t,e))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void nt.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(gt);if(o&&1===t.nodeType)for(;n=o[i++];)r=nt.propFix[n]||n,nt.expr.match.bool.test(n)?we&&_e||!be.test(n)?t[r]=!1:t[nt.camelCase("default-"+n)]=t[r]=!1:nt.attr(t,n,""),t.removeAttribute(_e?n:r)},attrHooks:{type:{set:function(t,e){if(!et.radioValue&&"radio"===e&&nt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),me={set:function(t,e,n){return!1===e?nt.removeAttr(t,n):we&&_e||!be.test(n)?t.setAttribute(!_e&&nt.propFix[n]||n,n):t[nt.camelCase("default-"+n)]=t[n]=!0,n}},nt.each(nt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||nt.find.attr;ye[e]=we&&_e||!be.test(e)?function(t,e,r){var i,o;return r||(o=ye[e],ye[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ye[e]=o),i}:function(t,e,n){if(!n)return t[nt.camelCase("default-"+e)]?e.toLowerCase():null}}),we&&_e||(nt.attrHooks.value={set:function(t,e,n){if(!nt.nodeName(t,"input"))return ve&&ve.set(t,e,n);t.defaultValue=e}}),_e||(ve={set:function(t,e,n){var r=t.getAttributeNode(n);if(r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n))return e}},ye.id=ye.name=ye.coords=function(t,e,n){var r;if(!n)return(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},nt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:ve.set},nt.attrHooks.contenteditable={set:function(t,e,n){ve.set(t,""!==e&&e,n)}},nt.each(["width","height"],function(t,e){nt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),et.style||(nt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var xe=/^(?:input|select|textarea|button|object)$/i,Ce=/^(?:a|area)$/i;nt.fn.extend({prop:function(t,e){return Bt(this,nt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=nt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),nt.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!nt.isXMLDoc(t))&&(e=nt.propFix[e]||e,i=nt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=nt.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}}}),et.hrefNormalized||nt.each(["href","src"],function(t,e){nt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),et.optSelected||(nt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),nt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){nt.propFix[this.toLowerCase()]=this}),et.enctype||(nt.propFix.enctype="encoding");var Ee=/[\t\r\n\f]/g;nt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s=0,u=this.length,l="string"==typeof t&&t;if(nt.isFunction(t))return this.each(function(e){nt(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=nt.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof t&&t;if(nt.isFunction(t))return this.each(function(e){nt(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(gt)||[];s<u;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?nt.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):nt.isFunction(t)?this.each(function(n){nt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=nt(this),o=t.match(gt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else n!==bt&&"boolean"!==n||(this.className&&nt._data(this,"__className__",this.className),this.className=this.className||!1===t?"":nt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ee," ").indexOf(e)>=0)return!0;return!1}}),nt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){nt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),nt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Be=nt.now(),Ne=/\?/,Te=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;nt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,r=null,i=nt.trim(e+"");return i&&!nt.trim(i.replace(Te,function(t,e,i,o){return n&&e&&(r=0),0===r?t:(n=i||e,r+=!o-!i,"")}))?Function("return "+i)():nt.error("Invalid JSON: "+e)},nt.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(e,"text/xml")):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(t){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||nt.error("Invalid XML: "+e),n};var Ie,Fe,Se=/#.*$/,Me=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Le=/^(?:GET|HEAD)$/,Re=/^\/\//,ke=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oe={},Pe={},De="*/".concat("*");try{Fe=location.href}catch(t){(Fe=dt.createElement("a")).href="",Fe=Fe.href}Ie=ke.exec(Fe.toLowerCase())||[],nt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fe,type:"GET",isLocal:Qe.test(Ie[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":De,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":nt.parseJSON,"text xml":nt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?D(D(t,nt.ajaxSettings),e):D(nt.ajaxSettings,t)},ajaxPrefilter:O(Oe),ajaxTransport:O(Pe),ajax:function(t,e){function n(t,e,n,r){var i,c,v,m,b,w=e;2!==y&&(y=2,s&&clearTimeout(s),l=void 0,a=r||"",_.readyState=t>0?4:0,i=t>=200&&t<300||304===t,n&&(m=H(h,_,n)),m=z(h,m,_,i),i?(h.ifModified&&((b=_.getResponseHeader("Last-Modified"))&&(nt.lastModified[o]=b),(b=_.getResponseHeader("etag"))&&(nt.etag[o]=b)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=m.state,c=m.data,i=!(v=m.error))):(v=w,!t&&w||(w="error",t<0&&(t=0))),_.status=t,_.statusText=(e||w)+"",i?p.resolveWith(d,[c,w,_]):p.rejectWith(d,[_,w,v]),_.statusCode(g),g=void 0,u&&f.trigger(i?"ajaxSuccess":"ajaxError",[_,h,i?c:v]),A.fireWith(d,[_,w]),u&&(f.trigger("ajaxComplete",[_,h]),--nt.active||nt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,l,c,h=nt.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?nt(d):nt.event,p=nt.Deferred(),A=nt.Callbacks("once memory"),g=h.statusCode||{},v={},m={},y=0,b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!c)for(c={};e=Ue.exec(a);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=m[n]=m[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(y<2)for(e in t)g[e]=[g[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||b;return l&&l.abort(e),n(0,e),this}};if(p.promise(_).complete=A.add,_.success=_.done,_.error=_.fail,h.url=((t||h.url||Fe)+"").replace(Se,"").replace(Re,Ie[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=nt.trim(h.dataType||"*").toLowerCase().match(gt)||[""],null==h.crossDomain&&(r=ke.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===Ie[1]&&r[2]===Ie[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Ie[3]||("http:"===Ie[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=nt.param(h.data,h.traditional)),P(Oe,h,e,_),2===y)return _;(u=nt.event&&h.global)&&0==nt.active++&&nt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Le.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Ne.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Me.test(o)?o.replace(Me,"$1_="+Be++):o+(Ne.test(o)?"&":"?")+"_="+Be++)),h.ifModified&&(nt.lastModified[o]&&_.setRequestHeader("If-Modified-Since",nt.lastModified[o]),nt.etag[o]&&_.setRequestHeader("If-None-Match",nt.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+De+"; q=0.01":""):h.accepts["*"]);for(i in h.headers)_.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(d,_,h)||2===y))return _.abort();b="abort";for(i in{success:1,error:1,complete:1})_[i](h[i]);if(l=P(Pe,h,e,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},h.timeout));try{y=1,l.send(v,n)}catch(t){if(!(y<2))throw t;n(-1,t)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return nt.get(t,e,n,"json")},getScript:function(t,e){return nt.get(t,void 0,e,"script")}}),nt.each(["get","post"],function(t,e){nt[e]=function(t,n,r,i){return nt.isFunction(n)&&(i=i||r,r=n,n=void 0),nt.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),nt._evalUrl=function(t){return nt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},nt.fn.extend({wrapAll:function(t){if(nt.isFunction(t))return this.each(function(e){nt(this).wrapAll(t.call(this,e))});if(this[0]){var e=nt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return nt.isFunction(t)?this.each(function(e){nt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=nt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=nt.isFunction(t);return this.each(function(n){nt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){nt.nodeName(this,"body")||nt(this).replaceWith(this.childNodes)}).end()}}),nt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!et.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||nt.css(t,"display"))},nt.expr.filters.visible=function(t){return!nt.expr.filters.hidden(t)};var He=/%20/g,ze=/\[\]$/,Ke=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;nt.param=function(t,e){var n,r=[],i=function(t,e){e=nt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=nt.ajaxSettings&&nt.ajaxSettings.traditional),nt.isArray(t)||t.jquery&&!nt.isPlainObject(t))nt.each(t,function(){i(this.name,this.value)});else for(n in t)K(n,t[n],e,i);return r.join("&").replace(He,"+")},nt.fn.extend({serialize:function(){return nt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=nt.prop(this,"elements");return t?nt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!nt(this).is(":disabled")&&Ve.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var n=nt(this).val();return null==n?null:nt.isArray(n)?nt.map(n,function(t){return{name:e.name,value:t.replace(Ke,"\r\n")}}):{name:e.name,value:n.replace(Ke,"\r\n")}}).get()}}),nt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$()||V()}:$;var je=0,Ge={},qe=nt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ge)Ge[t](void 0,!0)}),et.cors=!!qe&&"withCredentials"in qe,(qe=et.ajax=!!qe)&&nt.ajaxTransport(function(t){if(!t.crossDomain||et.cors){var e;return{send:function(n,r){var i,o=t.xhr(),a=++je;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(t.hasContent&&t.data||null),e=function(n,i){var s,u,l;if(e&&(i||4===o.readyState))if(delete Ge[a],e=void 0,o.onreadystatechange=nt.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(t){u=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Ge[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),nt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return nt.globalEval(t),t}}}),nt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),nt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=dt.head||nt("head")[0]||dt.documentElement;return{send:function(r,i){(e=dt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var Xe=[],We=/(=)\?(?=&|$)|\?\?/;nt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||nt.expando+"_"+Be++;return this[t]=!0,t}}),nt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(We.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=nt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(We,"$1"+i):!1!==e.jsonp&&(e.url+=(Ne.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||nt.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Xe.push(i)),a&&nt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),nt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||dt;var r=lt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=nt.buildFragment([t],e,i),i&&i.length&&nt(i).remove(),nt.merge([],r.childNodes))};var Ye=nt.fn.load;nt.fn.load=function(t,e,n){if("string"!=typeof t&&Ye)return Ye.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=nt.trim(t.slice(s,t.length)),t=t.slice(0,s)),nt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&nt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){i=arguments,a.html(r?nt("<div>").append(nt.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,i||[t.responseText,e,t])}),this},nt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){nt.fn[e]=function(t){return this.on(e,t)}}),nt.expr.filters.animated=function(t){return nt.grep(nt.timers,function(e){return t===e.elem}).length};var Je=t.document.documentElement;nt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=nt.css(t,"position"),c=nt(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=nt.css(t,"top"),u=nt.css(t,"left"),("absolute"===l||"fixed"===l)&&nt.inArray("auto",[o,u])>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),nt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):c.css(h)}},nt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){nt.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return e=o.documentElement,nt.contains(e,i)?(typeof i.getBoundingClientRect!==bt&&(r=i.getBoundingClientRect()),n=j(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===nt.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),nt.nodeName(t[0],"html")||(n=t.offset()),n.top+=nt.css(t[0],"borderTopWidth",!0),n.left+=nt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-nt.css(r,"marginTop",!0),left:e.left-n.left-nt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Je;t&&!nt.nodeName(t,"html")&&"static"===nt.css(t,"position");)t=t.offsetParent;return t||Je})}}),nt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);nt.fn[t]=function(r){return Bt(this,function(t,r,i){var o=j(t);if(void 0===i)return o?e in o?o[e]:o.document.documentElement[r]:t[r];o?o.scrollTo(n?nt(o).scrollLeft():i,n?i:nt(o).scrollTop()):t[r]=i},t,r,arguments.length,null)}}),nt.each(["top","left"],function(t,e){nt.cssHooks[e]=B(et.pixelPosition,function(t,n){if(n)return n=Yt(t,e),Zt.test(n)?nt(t).position()[e]+"px":n})}),nt.each({Height:"height",Width:"width"},function(t,e){nt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){nt.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Bt(this,function(e,n,r){var i;return nt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?nt.css(e,n,a):nt.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),nt.fn.size=function(){return this.length},nt.fn.andSelf=nt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return nt});var Ze=t.jQuery,tn=t.$;return nt.noConflict=function(e){return t.$===nt&&(t.$=tn),e&&t.jQuery===nt&&(t.jQuery=Ze),nt},typeof e===bt&&(t.$$=nt),nt}),function(t){t.easyui={indexOfArray:function(t,e,n){for(var r=0,i=t.length;r<i;r++)if(void 0==n){if(t[r]==e)return r}else if(t[r][e]==n)return r;return-1},removeArrayItem:function(t,e,n){if("string"==typeof e){for(var r=0,i=t.length;r<i;r++)if(t[r][e]==n)return void t.splice(r,1)}else{var o=this.indexOfArray(t,e);-1!=o&&t.splice(o,1)}},addArrayItem:function(t,e,n){var r=this.indexOfArray(t,e,n?n[e]:void 0);-1==r?t.push(n||e):t[r]=n||e},getArrayItem:function(t,e,n){var r=this.indexOfArray(t,e,n);return-1==r?null:t[r]},forEach:function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(t[i]);for(;r.length;){var o=r.shift();if(0==n(o))return;if(e&&o.children)for(i=o.children.length-1;i>=0;i--)r.unshift(o.children[i])}}},t.parser={auto:!0,onComplete:function(t){},plugins:["draggable","droppable","resizable","pagination","tooltip","linkbutton","menu","menubutton","splitbutton","switchbutton","progressbar","tree","textbox","passwordbox","filebox","combo","combobox","combotree","combogrid","combotreegrid","tagbox","numberbox","validatebox","searchbox","spinner","numberspinner","timespinner","datetimespinner","calendar","datebox","datetimebox","slider","layout","panel","datagrid","propertygrid","treegrid","datalist","tabs","accordion","window","dialog","form"],parse:function(e){for(var n=[],r=0;r<t.parser.plugins.length;r++){var i=t.parser.plugins[r],o=t(".easyui-"+i,e);o.length&&(o[i]?o.each(function(){t(this)[i](t.data(this,"options")||{})}):n.push({name:i,jq:o}))}if(n.length&&window.easyloader){for(var a=[],r=0;r<n.length;r++)a.push(n[r].name);easyloader.load(a,function(){for(var r=0;r<n.length;r++){var i=n[r].name;n[r].jq.each(function(){t(this)[i](t.data(this,"options")||{})})}t.parser.onComplete.call(t.parser,e)})}else t.parser.onComplete.call(t.parser,e)},parseValue:function(e,n,r,i){i=i||0;var o=t.trim(String(n||""));return"%"==o.substr(o.length-1,1)?(o=parseFloat(o.substr(0,o.length-1)),o=e.toLowerCase().indexOf("width")>=0?Math.floor((r.width()-i)*o/100):Math.floor((r.height()-i)*o/100)):o=parseInt(o)||void 0,o},parseOptions:function(e,n){var r=t(e),i={},o=t.trim(r.attr("data-options"));if(o&&("{"!=o.substring(0,1)&&(o="{"+o+"}"),i=new Function("return "+o)()),t.map(["width","height","left","top","minWidth","maxWidth","minHeight","maxHeight"],function(n){var r=t.trim(e.style[n]||"");r&&(-1==r.indexOf("%")&&(r=parseInt(r),isNaN(r)&&(r=void 0)),i[n]=r)}),n){for(var a={},s=0;s<n.length;s++){var u=n[s];if("string"==typeof u)a[u]=r.attr(u);else for(var l in u){var c=u[l];"boolean"==c?a[l]=r.attr(l)?"true"==r.attr(l):void 0:"number"==c&&(a[l]="0"==r.attr(l)?0:parseFloat(r.attr(l))||void 0)}}t.extend(i,a)}return i}},t(function(){var e=t('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");t._boxModel=100!=e.outerWidth(),e.remove(),e=t('<div style="position:fixed"></div>').appendTo("body"),t._positionFixed="fixed"==e.css("position"),e.remove(),!window.easyloader&&t.parser.auto&&t.parser.parse()}),t.fn._outerWidth=function(t){return void 0==t?this[0]==window?this.width()||document.body.clientWidth:this.outerWidth()||0:this._size("width",t)},t.fn._outerHeight=function(t){return void 0==t?this[0]==window?this.height()||document.body.clientHeight:this.outerHeight()||0:this._size("height",t)},t.fn._scrollLeft=function(e){return void 0==e?this.scrollLeft():this.each(function(){t(this).scrollLeft(e)})},t.fn._propAttr=t.fn.prop||t.fn.attr,t.fn._size=function(e,n){function r(e,n,r){if(!n.length)return!1;var i=t(e)[0],o=n[0],a=o.fcount||0;return r?(i.fitted||(i.fitted=!0,o.fcount=a+1,t(o).addClass("panel-noscroll"),"BODY"==o.tagName&&t("html").addClass("panel-fit")),{width:t(o).width()||1,height:t(o).height()||1}):(i.fitted&&(i.fitted=!1,o.fcount=a-1,0==o.fcount&&(t(o).removeClass("panel-noscroll"),"BODY"==o.tagName&&t("html").removeClass("panel-fit"))),!1)}function i(e,n,r,i){var o=t(e),a=n,s=a.substr(0,1).toUpperCase()+a.substr(1),u=t.parser.parseValue("min"+s,i["min"+s],r),l=t.parser.parseValue("max"+s,i["max"+s],r),c=t.parser.parseValue(a,i[a],r),h=String(i[a]||"").indexOf("%")>=0;if(isNaN(c))o._size(a,""),o._size("min"+s,u),o._size("max"+s,l);else{var d=Math.min(Math.max(c,u||0),l||99999);h||(i[a]=d),o._size("min"+s,""),o._size("max"+s,""),o._size(a,d)}return h||i.fit}function o(e,n,r){function i(){return n.toLowerCase().indexOf("width")>=0?o.outerWidth()-o.width():o.outerHeight()-o.height()}var o=t(e);if(void 0==r){if(r=parseInt(e.style[n]),isNaN(r))return;return t._boxModel&&(r+=i()),r}""===r?o.css(n,""):(t._boxModel&&(r-=i())<0&&(r=0),o.css(n,r+"px"))}return"string"==typeof e?"clear"==e?this.each(function(){t(this).css({width:"",minWidth:"",maxWidth:"",height:"",minHeight:"",maxHeight:""})}):"fit"==e?this.each(function(){r(this,"BODY"==this.tagName?t("body"):t(this).parent(),!0)}):"unfit"==e?this.each(function(){r(this,t(this).parent(),!1)}):void 0==n?o(this[0],e):this.each(function(){o(this,e,n)}):this.each(function(){n=n||t(this).parent(),t.extend(e,r(this,n,e.fit)||{});var o=i(this,"width",n,e),a=i(this,"height",n,e);o||a?t(this).addClass("easyui-fluid"):t(this).removeClass("easyui-fluid")})}}($$),function(t){function e(e,n,r){var i=new t.Event(n);i.pageX=e.changedTouches[0].pageX,i.pageY=e.changedTouches[0].pageY,i.which=r||1,t(e.target).trigger(i)}var n=null,r=!1;document.addEventListener&&(document.addEventListener("touchstart",function(i){1==i.touches.length&&(r?(clearTimeout(dblClickTimer),r=!1,e(i,"dblclick")):(r=!0,dblClickTimer=setTimeout(function(){r=!1},500)),n=setTimeout(function(){e(i,"contextmenu",3)},1e3),e(i,"mousedown"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&i.preventDefault())},!0),document.addEventListener("touchmove",function(r){1==r.touches.length&&(n&&clearTimeout(n),e(r,"mousemove"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&r.preventDefault())},!0),document.addEventListener("touchend",function(r){n&&clearTimeout(n),e(r,"mouseup"),(t.fn.draggable.isDragging||t.fn.resizable.isResizing)&&r.preventDefault()},!0))}($$),function(t){function e(e){var n=t.data(e.data.target,"draggable"),r=n.options,i=n.proxy,o=e.data,a=o.startLeft+e.pageX-o.startX,s=o.startTop+e.pageY-o.startY;i&&(i.parent()[0]==document.body?(a=null!=r.deltaX&&void 0!=r.deltaX?e.pageX+r.deltaX:e.pageX-e.data.offsetWidth,s=null!=r.deltaY&&void 0!=r.deltaY?e.pageY+r.deltaY:e.pageY-e.data.offsetHeight):(null!=r.deltaX&&void 0!=r.deltaX&&(a+=e.data.offsetWidth+r.deltaX),null!=r.deltaY&&void 0!=r.deltaY&&(s+=e.data.offsetHeight+r.deltaY))),e.data.parent!=document.body&&(a+=t(e.data.parent).scrollLeft(),s+=t(e.data.parent).scrollTop()),"h"==r.axis?o.left=a:"v"==r.axis?o.top=s:(o.left=a,o.top=s)}function n(e){var n=t.data(e.data.target,"draggable"),r=n.options,i=n.proxy;i||(i=t(e.data.target)),i.css({left:e.data.left,top:e.data.top}),t("body").css("cursor",r.cursor)}function r(r){if(!t.fn.draggable.isDragging)return!1;var i=t.data(r.data.target,"draggable"),o=i.options,a=t(".droppable:visible").filter(function(){return r.data.target!=this}).filter(function(){var e=t.data(this,"droppable").options.accept;return!e||t(e).filter(function(){return this==r.data.target}).length>0});i.droppables=a;var s=i.proxy;return s||(o.proxy?(s="clone"==o.proxy?t(r.data.target).clone().insertAfter(r.data.target):o.proxy.call(r.data.target,r.data.target),i.proxy=s):s=t(r.data.target)),s.css("position","absolute"),e(r),n(r),o.onStartDrag.call(r.data.target,r),!1}function i(r){if(!t.fn.draggable.isDragging)return!1;var i=t.data(r.data.target,"draggable");e(r),0!=i.options.onDrag.call(r.data.target,r)&&n(r);var o=r.data.target;return i.droppables.each(function(){var e=t(this);if(!e.droppable("options").disabled){var n=e.offset();r.pageX>n.left&&r.pageX<n.left+e.outerWidth()&&r.pageY>n.top&&r.pageY<n.top+e.outerHeight()?(this.entered||(t(this).trigger("_dragenter",[o]),this.entered=!0),t(this).trigger("_dragover",[o])):this.entered&&(t(this).trigger("_dragleave",[o]),this.entered=!1)}}),!1}function o(e){function n(){s&&s.remove(),o.proxy=null}function r(){var r=!1;return o.droppables.each(function(){var i=t(this);if(!i.droppable("options").disabled){var o=i.offset();return e.pageX>o.left&&e.pageX<o.left+i.outerWidth()&&e.pageY>o.top&&e.pageY<o.top+i.outerHeight()?(u.revert&&t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop}),t(this).trigger("_drop",[e.data.target]),n(),r=!0,this.entered=!1,!1):void 0}}),r||u.revert||n(),r}if(!t.fn.draggable.isDragging)return a(),!1;i(e);var o=t.data(e.data.target,"draggable"),s=o.proxy,u=o.options;if(u.revert)if(1==r())t(e.data.target).css({position:e.data.startPosition,left:e.data.startLeft,top:e.data.startTop});else if(s){var l,c;s.parent()[0]==document.body?(l=e.data.startX-e.data.offsetWidth,c=e.data.startY-e.data.offsetHeight):(l=e.data.startLeft,c=e.data.startTop),s.animate({left:l,top:c},function(){n()})}else t(e.data.target).animate({left:e.data.startLeft,top:e.data.startTop},function(){t(e.data.target).css("position",e.data.startPosition)});else t(e.data.target).css({position:"absolute",left:e.data.left,top:e.data.top}),r();return u.onStopDrag.call(e.data.target,e),a(),!1}function a(){t.fn.draggable.timer&&(clearTimeout(t.fn.draggable.timer),t.fn.draggable.timer=void 0),t(document).unbind(".draggable"),t.fn.draggable.isDragging=!1,setTimeout(function(){t("body").css("cursor","")},100)}t.fn.draggable=function(e,n){return"string"==typeof e?t.fn.draggable.methods[e](this,n):this.each(function(){function n(e){var n=t.data(e.data.target,"draggable"),r=n.handle,i=t(r).offset(),o=t(r).outerWidth(),a=t(r).outerHeight(),s=e.pageY-i.top,u=i.left+o-e.pageX,l=i.top+a-e.pageY,c=e.pageX-i.left;return Math.min(s,u,l,c)>n.options.edge}var a,s=t.data(this,"draggable");s?(s.handle.unbind(".draggable"),a=t.extend(s.options,e)):a=t.extend({},t.fn.draggable.defaults,t.fn.draggable.parseOptions(this),e||{});var u=a.handle?"string"==typeof a.handle?t(a.handle,this):a.handle:t(this);t.data(this,"draggable",{options:a,handle:u}),a.disabled?t(this).css("cursor",""):u.unbind(".draggable").bind("mousemove.draggable",{target:this},function(e){if(!t.fn.draggable.isDragging){var r=t.data(e.data.target,"draggable").options;n(e)?t(this).css("cursor",r.cursor):t(this).css("cursor","")}}).bind("mouseleave.draggable",{target:this},function(e){t(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(e){if(0!=n(e)){t(this).css("cursor","");var a=t(e.data.target).position(),s=t(e.data.target).offset(),u={startPosition:t(e.data.target).css("position"),startLeft:a.left,startTop:a.top,left:a.left,top:a.top,startX:e.pageX,startY:e.pageY,width:t(e.data.target).outerWidth(),height:t(e.data.target).outerHeight(),offsetWidth:e.pageX-s.left,offsetHeight:e.pageY-s.top,target:e.data.target,parent:t(e.data.target).parent()[0]};t.extend(e.data,u);var l=t.data(e.data.target,"draggable").options;if(0!=l.onBeforeDrag.call(e.data.target,e))return t(document).bind("mousedown.draggable",e.data,r),t(document).bind("mousemove.draggable",e.data,i),t(document).bind("mouseup.draggable",e.data,o),t.fn.draggable.timer=setTimeout(function(){t.fn.draggable.isDragging=!0,r(e)},l.delay),!1}})})},t.fn.draggable.methods={options:function(e){return t.data(e[0],"draggable").options},proxy:function(e){return t.data(e[0],"draggable").proxy},enable:function(e){return e.each(function(){t(this).draggable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).draggable({disabled:!0})})}},t.fn.draggable.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number",delay:"number"}]),{disabled:!!n.attr("disabled")||void 0})},t.fn.draggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,delay:100,onBeforeDrag:function(t){},onStartDrag:function(t){},onDrag:function(t){},onStopDrag:function(t){}},t.fn.draggable.isDragging=!1}($$),function(t){function e(e){t(e).addClass("droppable"),t(e).bind("_dragenter",function(n,r){t.data(e,"droppable").options.onDragEnter.apply(e,[n,r])}),t(e).bind("_dragleave",function(n,r){t.data(e,"droppable").options.onDragLeave.apply(e,[n,r])}),t(e).bind("_dragover",function(n,r){t.data(e,"droppable").options.onDragOver.apply(e,[n,r])}),t(e).bind("_drop",function(n,r){t.data(e,"droppable").options.onDrop.apply(e,[n,r])})}t.fn.droppable=function(n,r){return"string"==typeof n?t.fn.droppable.methods[n](this,r):(n=n||{},this.each(function(){var r=t.data(this,"droppable");r?t.extend(r.options,n):(e(this),t.data(this,"droppable",{options:t.extend({},t.fn.droppable.defaults,t.fn.droppable.parseOptions(this),n)}))}))},t.fn.droppable.methods={options:function(e){return t.data(e[0],"droppable").options},enable:function(e){return e.each(function(){t(this).droppable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).droppable({disabled:!0})})}},t.fn.droppable.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,["accept"]),{disabled:!!n.attr("disabled")||void 0})},t.fn.droppable.defaults={accept:null,disabled:!1,onDragEnter:function(t,e){},onDragOver:function(t,e){},onDragLeave:function(t,e){},onDrop:function(t,e){}}}($$),function(t){t.fn.resizable=function(e,n){function r(e){var n=e.data,r=t.data(n.target,"resizable").options;if(-1!=n.dir.indexOf("e")){i=n.startWidth+e.pageX-n.startX;i=Math.min(Math.max(i,r.minWidth),r.maxWidth),n.width=i}if(-1!=n.dir.indexOf("s")){o=n.startHeight+e.pageY-n.startY;o=Math.min(Math.max(o,r.minHeight),r.maxHeight),n.height=o}if(-1!=n.dir.indexOf("w")){var i=n.startWidth-e.pageX+n.startX;i=Math.min(Math.max(i,r.minWidth),r.maxWidth),n.width=i,n.left=n.startLeft+n.startWidth-n.width}if(-1!=n.dir.indexOf("n")){var o=n.startHeight-e.pageY+n.startY;o=Math.min(Math.max(o,r.minHeight),r.maxHeight),n.height=o,n.top=n.startTop+n.startHeight-n.height}}function i(e){var n=e.data,r=t(n.target);r.css({left:n.left,top:n.top}),r.outerWidth()!=n.width&&r._outerWidth(n.width),r.outerHeight()!=n.height&&r._outerHeight(n.height)}function o(e){return t.fn.resizable.isResizing=!0,t.data(e.data.target,"resizable").options.onStartResize.call(e.data.target,e),!1}function a(e){return r(e),0!=t.data(e.data.target,"resizable").options.onResize.call(e.data.target,e)&&i(e),!1}function s(e){return t.fn.resizable.isResizing=!1,r(e,!0),i(e),t.data(e.data.target,"resizable").options.onStopResize.call(e.data.target,e),t(document).unbind(".resizable"),t("body").css("cursor",""),!1}return"string"==typeof e?t.fn.resizable.methods[e](this,n):this.each(function(){function n(e){var n=t(e.data.target),i="",o=n.offset(),a=n.outerWidth(),s=n.outerHeight(),u=r.edge;e.pageY>o.top&&e.pageY<o.top+u?i+="n":e.pageY<o.top+s&&e.pageY>o.top+s-u&&(i+="s"),e.pageX>o.left&&e.pageX<o.left+u?i+="w":e.pageX<o.left+a&&e.pageX>o.left+a-u&&(i+="e");for(var l=r.handles.split(","),c=0;c<l.length;c++){var h=l[c].replace(/(^\s*)|(\s*$)/g,"");if("all"==h||h==i)return i}return""}var r=null,i=t.data(this,"resizable");i?(t(this).unbind(".resizable"),r=t.extend(i.options,e||{})):(r=t.extend({},t.fn.resizable.defaults,t.fn.resizable.parseOptions(this),e||{}),t.data(this,"resizable",{options:r})),1!=r.disabled&&t(this).bind("mousemove.resizable",{target:this},function(e){if(!t.fn.resizable.isResizing){var r=n(e);""==r?t(e.data.target).css("cursor",""):t(e.data.target).css("cursor",r+"-resize")}}).bind("mouseleave.resizable",{target:this},function(e){t(e.data.target).css("cursor","")}).bind("mousedown.resizable",{target:this},function(e){function r(n){var r=parseInt(t(e.data.target).css(n));return isNaN(r)?0:r}var i=n(e);if(""!=i){var u={target:e.data.target,dir:i,startLeft:r("left"),startTop:r("top"),left:r("left"),top:r("top"),startX:e.pageX,startY:e.pageY,startWidth:t(e.data.target).outerWidth(),startHeight:t(e.data.target).outerHeight(),width:t(e.data.target).outerWidth(),height:t(e.data.target).outerHeight(),deltaWidth:t(e.data.target).outerWidth()-t(e.data.target).width(),deltaHeight:t(e.data.target).outerHeight()-t(e.data.target).height()};t(document).bind("mousedown.resizable",u,o),t(document).bind("mousemove.resizable",u,a),t(document).bind("mouseup.resizable",u,s),t("body").css("cursor",i+"-resize")}})})},t.fn.resizable.methods={options:function(e){return t.data(e[0],"resizable").options},enable:function(e){return e.each(function(){t(this).resizable({disabled:!1})})},disable:function(e){return e.each(function(){t(this).resizable({disabled:!0})})}},t.fn.resizable.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,["handles",{minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number",edge:"number"}]),{disabled:!!n.attr("disabled")||void 0})},t.fn.resizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(t){},onResize:function(t){},onStopResize:function(t){}},t.fn.resizable.isResizing=!1}($$),function(t){function e(e,n){var r=t.data(e,"linkbutton").options;if(n&&t.extend(r,n),r.width||r.height||r.fit){var i=t(e),o=i.parent(),a=i.is(":visible");if(!a){var s=t('<div style="display:none"></div>').insertBefore(e),u={position:i.css("position"),display:i.css("display"),left:i.css("left")};i.appendTo("body"),i.css({position:"absolute",display:"inline-block",left:-2e4})}i._size(r,o);var l=i.find(".l-btn-left");l.css("margin-top",0),l.css("margin-top",parseInt((i.height()-l.height())/2)+"px"),a||(i.insertAfter(s),i.css(u),s.remove())}}function n(e){var n=t.data(e,"linkbutton").options,o=t(e).empty();o.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected l-btn-outline"),o.removeClass("l-btn-small l-btn-medium l-btn-large").addClass("l-btn-"+n.size),n.plain&&o.addClass("l-btn-plain"),n.outline&&o.addClass("l-btn-outline"),n.selected&&o.addClass(n.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),o.attr("group",n.group||""),o.attr("id",n.id||"");var a=t('<span class="l-btn-left"></span>').appendTo(o);n.text?t('<span class="l-btn-text"></span>').html(n.text).appendTo(a):t('<span class="l-btn-text l-btn-empty">&nbsp;</span>').appendTo(a),n.iconCls&&(t('<span class="l-btn-icon">&nbsp;</span>').addClass(n.iconCls).appendTo(a),a.addClass("l-btn-icon-"+n.iconAlign)),o.unbind(".linkbutton").bind("focus.linkbutton",function(){n.disabled||t(this).addClass("l-btn-focus")}).bind("blur.linkbutton",function(){t(this).removeClass("l-btn-focus")}).bind("click.linkbutton",function(){n.disabled||(n.toggle&&(n.selected?t(this).linkbutton("unselect"):t(this).linkbutton("select")),n.onClick.call(this))}),r(e,n.selected),i(e,n.disabled)}function r(e,n){var r=t.data(e,"linkbutton").options;n?(r.group&&t('a.l-btn[group="'+r.group+'"]').each(function(){var e=t(this).linkbutton("options");e.toggle&&(t(this).removeClass("l-btn-selected l-btn-plain-selected"),e.selected=!1)}),t(e).addClass(r.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),r.selected=!0):r.group||(t(e).removeClass("l-btn-selected l-btn-plain-selected"),r.selected=!1)}function i(e,n){var r=t.data(e,"linkbutton"),i=r.options;if(t(e).removeClass("l-btn-disabled l-btn-plain-disabled"),n){i.disabled=!0;var o=t(e).attr("href");o&&(r.href=o,t(e).attr("href","javascript:;")),e.onclick&&(r.onclick=e.onclick,e.onclick=null),i.plain?t(e).addClass("l-btn-disabled l-btn-plain-disabled"):t(e).addClass("l-btn-disabled")}else i.disabled=!1,r.href&&t(e).attr("href",r.href),r.onclick&&(e.onclick=r.onclick)}t.fn.linkbutton=function(r,i){return"string"==typeof r?t.fn.linkbutton.methods[r](this,i):(r=r||{},this.each(function(){var i=t.data(this,"linkbutton");i?t.extend(i.options,r):(t.data(this,"linkbutton",{options:t.extend({},t.fn.linkbutton.defaults,t.fn.linkbutton.parseOptions(this),r)}),t(this).removeAttr("disabled"),t(this).bind("_resize",function(n,r){return(t(this).hasClass("easyui-fluid")||r)&&e(this),!1})),n(this),e(this)}))},t.fn.linkbutton.methods={options:function(e){return t.data(e[0],"linkbutton").options},resize:function(t,n){return t.each(function(){e(this,n)})},enable:function(t){return t.each(function(){i(this,!1)})},disable:function(t){return t.each(function(){i(this,!0)})},select:function(t){return t.each(function(){r(this,!0)})},unselect:function(t){return t.each(function(){r(this,!1)})}},t.fn.linkbutton.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,["id","iconCls","iconAlign","group","size","text",{plain:"boolean",toggle:"boolean",selected:"boolean",outline:"boolean"}]),{disabled:!!n.attr("disabled")||void 0,text:t.trim(n.html())||void 0,iconCls:n.attr("icon")||n.attr("iconCls")})},t.fn.linkbutton.defaults={id:null,disabled:!1,toggle:!1,selected:!1,outline:!1,group:null,plain:!1,text:"",iconCls:null,iconAlign:"left",size:"small",onClick:function(){}}}($$),function($){function _ab(_ac){function _b3(t){var e=_ae.nav[t],n=$('<a href="javascript:;"></a>').appendTo(tr);return n.wrap("<td></td>"),n.linkbutton({iconCls:e.iconCls,plain:!0}).unbind(".pagination").bind("click.pagination",function(){e.handler.call(_ac)}),n}function _b0(t,e){var n=$.inArray(e,t);return n>=0&&t.splice(n,1),t}var _ad=$.data(_ac,"pagination"),_ae=_ad.options,bb=_ad.bb={},_af=$(_ac).addClass("pagination").html('<table cellspacing="0" cellpadding="0" border="0"><tr></tr></table>'),tr=_af.find("tr"),aa=$.extend([],_ae.layout);_ae.showPageList||_b0(aa,"list"),_ae.showPageInfo||_b0(aa,"info"),_ae.showRefresh||_b0(aa,"refresh"),"sep"==aa[0]&&aa.shift(),"sep"==aa[aa.length-1]&&aa.pop();for(var _b1=0;_b1<aa.length;_b1++){var _b2=aa[_b1];if("list"==_b2){var ps=$('<select class="pagination-page-list"></select>');ps.bind("change",function(){_ae.pageSize=parseInt($(this).val()),_ae.onChangePageSize.call(_ac,_ae.pageSize),_b8(_ac,_ae.pageNumber)});for(var i=0;i<_ae.pageList.length;i++)$("<option></option>").text(_ae.pageList[i]).appendTo(ps);$("<td></td>").append(ps).appendTo(tr)}else"sep"==_b2?$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr):"first"==_b2?bb.first=_b3("first"):"prev"==_b2?bb.prev=_b3("prev"):"next"==_b2?bb.next=_b3("next"):"last"==_b2?bb.last=_b3("last"):"manual"==_b2?($('<span style="padding-left:6px;"></span>').html(_ae.beforePageText).appendTo(tr).wrap("<td></td>"),bb.num=$('<input class="pagination-num" type="text" value="1" size="2">').appendTo(tr).wrap("<td></td>"),bb.num.unbind(".pagination").bind("keydown.pagination",function(t){if(13==t.keyCode){var e=parseInt($(this).val())||1;return _b8(_ac,e),!1}}),bb.after=$('<span style="padding-right:6px;"></span>').appendTo(tr).wrap("<td></td>")):"refresh"==_b2?bb.refresh=_b3("refresh"):"links"==_b2?$('<td class="pagination-links"></td>').appendTo(tr):"info"==_b2&&(_b1==aa.length-1?($('<div class="pagination-info"></div>').appendTo(_af),$('<div style="clear:both;"></div>').appendTo(_af)):$('<td><div class="pagination-info"></div></td>').appendTo(tr))}if(_ae.buttons)if($('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr),$.isArray(_ae.buttons))for(var i=0;i<_ae.buttons.length;i++){var btn=_ae.buttons[i];if("-"==btn)$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),a=$('<a href="javascript:;"></a>').appendTo(td);a[0].onclick=eval(btn.handler||function(){}),a.linkbutton($.extend({},btn,{plain:!0}))}}else{var td=$("<td></td>").appendTo(tr);$(_ae.buttons).appendTo(td).show()}}function _b8(t,e){var n=$.data(t,"pagination").options;_bc(t,{pageNumber:e}),n.onSelectPage.call(t,n.pageNumber,n.pageSize)}function _bc(t,e){var n=$.data(t,"pagination"),r=n.options,i=n.bb;$.extend(r,e||{});var o=$(t).find("select.pagination-page-list");o.length&&(o.val(r.pageSize+""),r.pageSize=parseInt(o.val()));var a=Math.ceil(r.total/r.pageSize)||1;r.pageNumber<1&&(r.pageNumber=1),r.pageNumber>a&&(r.pageNumber=a),0==r.total&&(r.pageNumber=0,a=0),i.num&&i.num.val(r.pageNumber),i.after&&i.after.html(r.afterPageText.replace(/{pages}/,a));var s=$(t).find("td.pagination-links");if(s.length){s.empty();var u=r.pageNumber-Math.floor(r.links/2);u<1&&(u=1);var l=u+r.links-1;l>a&&(l=a),(u=l-r.links+1)<1&&(u=1);for(var c=u;c<=l;c++){var h=$('<a class="pagination-link" href="javascript:;"></a>').appendTo(s);h.linkbutton({plain:!0,text:c}),c==r.pageNumber?h.linkbutton("select"):h.unbind(".pagination").bind("click.pagination",{pageNumber:c},function(e){_b8(t,e.data.pageNumber)})}}var d=r.displayMsg;d=(d=(d=d.replace(/{from}/,0==r.total?0:r.pageSize*(r.pageNumber-1)+1)).replace(/{to}/,Math.min(r.pageSize*r.pageNumber,r.total))).replace(/{total}/,r.total),$(t).find("div.pagination-info").html(d),i.first&&i.first.linkbutton({disabled:!r.total||1==r.pageNumber}),i.prev&&i.prev.linkbutton({disabled:!r.total||1==r.pageNumber}),i.next&&i.next.linkbutton({disabled:r.pageNumber==a}),i.last&&i.last.linkbutton({disabled:r.pageNumber==a}),_c5(t,r.loading)}function _c5(t,e){var n=$.data(t,"pagination"),r=n.options;r.loading=e,r.showRefresh&&n.bb.refresh&&n.bb.refresh.linkbutton({iconCls:r.loading?"pagination-loading":"pagination-load"})}$.fn.pagination=function(t,e){return"string"==typeof t?$.fn.pagination.methods[t](this,e):(t=t||{},this.each(function(){var e,n=$.data(this,"pagination");n?e=$.extend(n.options,t):(e=$.extend({},$.fn.pagination.defaults,$.fn.pagination.parseOptions(this),t),$.data(this,"pagination",{options:e})),_ab(this),_bc(this)}))},$.fn.pagination.methods={options:function(t){return $.data(t[0],"pagination").options},loading:function(t){return t.each(function(){_c5(this,!0)})},loaded:function(t){return t.each(function(){_c5(this,!1)})},refresh:function(t,e){return t.each(function(){_bc(this,e)})},select:function(t,e){return t.each(function(){_b8(this,e)})}},$.fn.pagination.parseOptions=function(_d0){var t=$(_d0);return $.extend({},$.parser.parseOptions(_d0,[{total:"number",pageSize:"number",pageNumber:"number",links:"number"},{loading:"boolean",showPageList:"boolean",showPageInfo:"boolean",showRefresh:"boolean"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):void 0})},$.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],loading:!1,buttons:null,showPageList:!0,showPageInfo:!0,showRefresh:!0,links:10,layout:["list","sep","first","prev","sep","manual","sep","next","last","sep","refresh","info"],onSelectPage:function(t,e){},onBeforeRefresh:function(t,e){},onRefresh:function(t,e){},onChangePageSize:function(t){},beforePageText:"Page",afterPageText:"of {pages}",displayMsg:"Displaying {from} to {to} of {total} items",nav:{first:{iconCls:"pagination-first",handler:function(){$(this).pagination("options").pageNumber>1&&$(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var t=$(this).pagination("options");t.pageNumber>1&&$(this).pagination("select",t.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var t=$(this).pagination("options"),e=Math.ceil(t.total/t.pageSize);t.pageNumber<e&&$(this).pagination("select",t.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var t=$(this).pagination("options"),e=Math.ceil(t.total/t.pageSize);t.pageNumber<e&&$(this).pagination("select",e)}},refresh:{iconCls:"pagination-refresh",handler:function(){var t=$(this).pagination("options");0!=t.onBeforeRefresh.call(this,t.pageNumber,t.pageSize)&&($(this).pagination("select",t.pageNumber),t.onRefresh.call(this,t.pageNumber,t.pageSize))}}}}}($$),function(t){function e(e){var n=t(e);return n.addClass("tree"),n}function n(e){var n=t.data(e,"tree").options;t(e).unbind().bind("mouseover",function(e){var n=t(e.target),r=n.closest("div.tree-node");r.length&&(r.addClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.addClass("tree-expanded-hover"):n.addClass("tree-collapsed-hover")),e.stopPropagation())}).bind("mouseout",function(e){var n=t(e.target),r=n.closest("div.tree-node");r.length&&(r.removeClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.removeClass("tree-expanded-hover"):n.removeClass("tree-collapsed-hover")),e.stopPropagation())}).bind("click",function(r){var i=t(r.target),a=i.closest("div.tree-node");if(a.length){if(i.hasClass("tree-hit"))return g(e,a[0]),!1;if(i.hasClass("tree-checkbox"))return o(e,a[0]),!1;R(e,a[0]),n.onClick.call(e,M(e,a[0])),r.stopPropagation()}}).bind("dblclick",function(r){var i=t(r.target).closest("div.tree-node");i.length&&(R(e,i[0]),n.onDblClick.call(e,M(e,i[0])),r.stopPropagation())}).bind("contextmenu",function(r){var i=t(r.target).closest("div.tree-node");i.length&&(n.onContextMenu.call(e,r,M(e,i[0])),r.stopPropagation())})}function r(e){t.data(e,"tree").options.dnd=!1;var n=t(e).find("div.tree-node");n.draggable("disable"),n.css("cursor","pointer")}function i(e){function n(e,n){return t(e).closest("ul.tree").tree(n?"pop":"getData",e)}function r(e,n){t(e).draggable("proxy").find("span.tree-dnd-icon").removeClass("tree-dnd-yes tree-dnd-no").addClass(n?"tree-dnd-yes":"tree-dnd-no")}function i(r,i){function o(){var o=n(r,!0);t(e).tree("append",{parent:i,data:[o]}),s.onDrop.call(e,i,o,"append")}"closed"==M(e,i).state?p(e,i,function(){o()}):o()}function o(r,i,o){var a={};"top"==o?a.before=i:a.after=i;var u=n(r,!0);a.data=u,t(e).tree("insert",a),s.onDrop.call(e,i,u,o)}var a=t.data(e,"tree"),s=a.options,u=a.tree;a.disabledNodes=[],s.dnd=!0,u.find("div.tree-node").draggable({disabled:!1,revert:!0,cursor:"pointer",proxy:function(e){var n=t('<div class="tree-node-proxy"></div>').appendTo("body");return n.html('<span class="tree-dnd-icon tree-dnd-no">&nbsp;</span>'+t(e).find(".tree-title").html()),n.hide(),n},deltaX:15,deltaY:15,onBeforeDrag:function(n){if(0==s.onBeforeDrag.call(e,M(e,this)))return!1;if(t(n.target).hasClass("tree-hit")||t(n.target).hasClass("tree-checkbox"))return!1;if(1!=n.which)return!1;var r=t(this).find("span.tree-indent");r.length&&(n.data.offsetWidth-=r.length*r.width())},onStartDrag:function(n){t(this).next("ul").find("div.tree-node").each(function(){t(this).droppable("disable"),a.disabledNodes.push(this)}),t(this).draggable("proxy").css({left:-1e4,top:-1e4}),s.onStartDrag.call(e,M(e,this));var r=M(e,this);void 0==r.id&&(r.id="easyui_tree_node_id_temp",C(e,r)),a.draggingNodeId=r.id},onDrag:function(e){var n=e.pageX,r=e.pageY,i=e.data.startX,o=e.data.startY;Math.sqrt((n-i)*(n-i)+(r-o)*(r-o))>3&&t(this).draggable("proxy").show(),this.pageY=e.pageY},onStopDrag:function(){for(var n=0;n<a.disabledNodes.length;n++)t(a.disabledNodes[n]).droppable("enable");a.disabledNodes=[];var r=U(e,a.draggingNodeId);r&&"easyui_tree_node_id_temp"==r.id&&(r.id="",C(e,r)),s.onStopDrag.call(e,r)}}).droppable({accept:"div.tree-node",onDragEnter:function(i,o){0==s.onDragEnter.call(e,this,n(o))&&(r(o,!1),t(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),t(this).droppable("disable"),a.disabledNodes.push(this))},onDragOver:function(i,o){if(!t(this).droppable("options").disabled){var u=o.pageY,l=t(this).offset().top,c=l+t(this).outerHeight();r(o,!0),t(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),u>l+(c-l)/2?c-u<5?t(this).addClass("tree-node-bottom"):t(this).addClass("tree-node-append"):u-l<5?t(this).addClass("tree-node-top"):t(this).addClass("tree-node-append"),0==s.onDragOver.call(e,this,n(o))&&(r(o,!1),t(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),t(this).droppable("disable"),a.disabledNodes.push(this))}},onDragLeave:function(i,o){r(o,!1),t(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),s.onDragLeave.call(e,this,n(o))},onDrop:function(r,a){var u,l,c=this;t(this).hasClass("tree-node-append")?(u=i,l="append"):(u=o,l=t(this).hasClass("tree-node-top")?"top":"bottom"),0!=s.onBeforeDrop.call(e,c,n(a),l)?(u(a,c,l),t(this).removeClass("tree-node-append tree-node-top tree-node-bottom")):t(this).removeClass("tree-node-append tree-node-top tree-node-bottom")}})}function o(e,n,r,i){var o=t.data(e,"tree").options;if(o.checkbox){var l=M(e,n);if(l&&l.checkState){var c=t(n).find(".tree-checkbox");if(void 0==r&&(c.hasClass("tree-checkbox1")?r=!1:c.hasClass("tree-checkbox0")?r=!0:(void 0==l._checked&&(l._checked=t(n).find(".tree-checkbox").hasClass("tree-checkbox1")),r=!l._checked)),l._checked=r,r){if(c.hasClass("tree-checkbox1"))return}else if(c.hasClass("tree-checkbox0"))return;(i||0!=o.onBeforeCheck.call(e,l,r))&&(o.cascadeCheck?(a(e,l,r),u(e,l)):s(e,l,r?"1":"0"),i||o.onCheck.call(e,l,r))}}}function a(e,n,r){var i=t.data(e,"tree").options,o=r?1:0;if(s(e,n,o),i.deepCheck)t.easyui.forEach(n.children||[],!0,function(t){s(e,t,o)});else{var a=[];n.children&&n.children.length&&a.push(n),t.easyui.forEach(n.children||[],!0,function(t){t.hidden||(s(e,t,o),t.children&&t.children.length&&a.push(t))});for(var u=a.length-1;u>=0;u--){var c=a[u];s(e,c,l(c))}}}function s(e,n,r){var i=t.data(e,"tree").options;if(n.checkState&&void 0!=r&&(!n.hidden||i.deepCheck)){var o=t("#"+n.domId).find(".tree-checkbox");n.checkState=["unchecked","checked","indeterminate"][r],n.checked="checked"==n.checkState,o.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),o.addClass("tree-checkbox"+r)}}function u(e,n){var r=T(e,t("#"+n.domId)[0]);r&&(s(e,r,l(r)),u(e,r))}function l(e){var n=0,r=0,i=0;if(t.easyui.forEach(e.children||[],!1,function(t){t.checkState&&(i++,"checked"==t.checkState?r++:"unchecked"==t.checkState&&n++)}),0!=i){return n==i?0:r==i?1:2}}function c(e,n){var r=t.data(e,"tree").options;if(r.checkbox){var i=t(n),a=i.find(".tree-checkbox"),s=M(e,n);if(r.view.hasCheckbox(e,s))if(a.length||(s.checkState=s.checkState||"unchecked",t('<span class="tree-checkbox"></span>').insertBefore(i.find(".tree-title"))),"checked"==s.checkState)o(e,n,!0,!0);else if("unchecked"==s.checkState)o(e,n,!1,!0);else{var c=l(s);0===c?o(e,n,!1,!0):1===c&&o(e,n,!0,!0)}else a.remove(),s.checkState=void 0,s.checked=void 0,u(e,s)}}function h(e,n,r,a,s){var u=t.data(e,"tree"),l=u.options,c=t(n).prevAll("div.tree-node:first");r=l.loadFilter.call(e,r,c[0]);var h=Q(e,"domId",c.attr("id"));a?h?h.children?h.children=h.children.concat(r):h.children=r:u.data=u.data.concat(r):(h?h.children=r:u.data=r,t(n).empty()),l.view.render.call(l.view,e,n,r),l.dnd&&i(e),h&&C(e,h);for(var f=0;f<u.tmpIds.length;f++)o(e,t("#"+u.tmpIds[f])[0],!0,!0);u.tmpIds=[],setTimeout(function(){d(e,e)},0),s||l.onLoadSuccess.call(e,h,r)}function d(e,n,r){function i(t,e){t.find("span.tree-icon").prev("span.tree-indent").addClass("tree-join")}function o(e){var n=e.find("span.tree-indent, span.tree-hit").length;e.next().find("div.tree-node").each(function(){t(this).children("span:eq("+(n-1)+")").addClass("tree-line")})}if(t.data(e,"tree").options.lines){if(t(e).addClass("tree-lines"),!r){r=!0,t(e).find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),t(e).find("div.tree-node").removeClass("tree-node-last tree-root-first tree-root-one");var a=t(e).tree("getRoots");a.length>1?t(a[0].target).addClass("tree-root-first"):1==a.length&&t(a[0].target).addClass("tree-root-one")}t(n).children("li").each(function(){var n=t(this).children("div.tree-node"),a=n.next("ul");a.length?(t(this).next().length&&o(n),d(e,a,r)):i(n)}),t(n).children("li:last").children("div.tree-node").addClass("tree-node-last").children("span.tree-join").removeClass("tree-join").addClass("tree-joinbottom")}else t(e).removeClass("tree-lines")}function f(e,n,r,i){var o=t.data(e,"tree").options;r=t.extend({},o.queryParams,r||{});var a=null;if(e!=n){var s=t(n).prev();a=M(e,s[0])}if(0!=o.onBeforeLoad.call(e,a,r)){var u=t(n).prev().children("span.tree-folder");u.addClass("tree-loading"),0==o.loader.call(e,r,function(t){u.removeClass("tree-loading"),h(e,n,t),i&&i()},function(){u.removeClass("tree-loading"),o.onLoadError.apply(e,arguments),i&&i()})&&u.removeClass("tree-loading")}}function p(e,n,r){var i=t.data(e,"tree").options,o=t(n).children("span.tree-hit");if(0!=o.length&&!o.hasClass("tree-expanded")){var a=M(e,n);if(0!=i.onBeforeExpand.call(e,a)){o.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),o.next().addClass("tree-folder-open");var s=t(n).next();if(s.length)i.animate?s.slideDown("normal",function(){a.state="open",i.onExpand.call(e,a),r&&r()}):(s.css("display","block"),a.state="open",i.onExpand.call(e,a),r&&r());else{var u=t('<ul style="display:none"></ul>').insertAfter(n);f(e,u[0],{id:a.id},function(){u.is(":empty")&&u.remove(),i.animate?u.slideDown("normal",function(){a.state="open",i.onExpand.call(e,a),r&&r()}):(u.css("display","block"),a.state="open",i.onExpand.call(e,a),r&&r())})}}}}function A(e,n){var r=t.data(e,"tree").options,i=t(n).children("span.tree-hit");if(0!=i.length&&!i.hasClass("tree-collapsed")){var o=M(e,n);if(0!=r.onBeforeCollapse.call(e,o)){i.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),i.next().removeClass("tree-folder-open");var a=t(n).next();r.animate?a.slideUp("normal",function(){o.state="closed",r.onCollapse.call(e,o)}):(a.css("display","none"),o.state="closed",r.onCollapse.call(e,o))}}}function g(e,n){var r=t(n).children("span.tree-hit");0!=r.length&&(r.hasClass("tree-expanded")?A(e,n):p(e,n))}function v(t,e){var n=N(t,e);e&&n.unshift(M(t,e));for(var r=0;r<n.length;r++)p(t,n[r].target)}function m(t,e){for(var n=[],r=T(t,e);r;)n.unshift(r),r=T(t,r.target);for(var i=0;i<n.length;i++)p(t,n[i].target)}function y(e,n){for(var r=t(e).parent();"BODY"!=r[0].tagName&&"auto"!=r.css("overflow-y");)r=r.parent();var i=t(n),o=i.offset().top;if("BODY"!=r[0].tagName){var a=r.offset().top;o<a?r.scrollTop(r.scrollTop()+o-a):o+i.outerHeight()>a+r.outerHeight()-18&&r.scrollTop(r.scrollTop()+o+i.outerHeight()-a-r.outerHeight()+18)}else r.scrollTop(o)}function b(t,e){var n=N(t,e);e&&n.unshift(M(t,e));for(var r=0;r<n.length;r++)A(t,n[r].target)}function _(e,n){var r=t(n.parent),i=n.data;if(i&&(i=t.isArray(i)?i:[i]).length){var o;if(0==r.length)o=t(e);else{if(k(e,r[0])){var a=r.find("span.tree-icon");a.removeClass("tree-file").addClass("tree-folder tree-folder-open");var s=t('<span class="tree-hit tree-expanded"></span>').insertBefore(a);s.prev().length&&s.prev().remove()}(o=r.next()).length||(o=t("<ul></ul>").insertAfter(r))}h(e,o[0],i,!0,!0)}}function w(e,n){var r=n.before||n.after,i=T(e,r),o=n.data;if(o&&(o=t.isArray(o)?o:[o]).length){_(e,{parent:i?i.target:null,data:o});for(var a=i?i.children:t(e).tree("getRoots"),s=0;s<a.length;s++)if(a[s].domId==t(r).attr("id")){for(var u=o.length-1;u>=0;u--)a.splice(n.before?s:s+1,0,o[u]);a.splice(a.length-o.length,o.length);break}for(var l=t(),s=0;s<o.length;s++)l=l.add(t("#"+o[s].domId).parent());n.before?l.insertBefore(t(r).parent()):l.insertAfter(t(r).parent())}}function x(e,n){var r=function(n){for(var r=t(n).attr("id"),i=T(e,n),o=i?i.children:t.data(e,"tree").data,a=0;a<o.length;a++)if(o[a].domId==r){o.splice(a,1);break}return i}(n);if(t(n).parent().remove(),r){if(!r.children||!r.children.length){var i=t(r.target);i.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),i.find(".tree-hit").remove(),t('<span class="tree-indent"></span>').prependTo(i),i.next().remove()}C(e,r)}d(e,e)}function C(e,n){var r=t.data(e,"tree").options,i=t(n.target),o=M(e,n.target);o.iconCls&&i.find(".tree-icon").removeClass(o.iconCls),t.extend(o,n),i.find(".tree-title").html(r.formatter.call(e,o)),o.iconCls&&i.find(".tree-icon").addClass(o.iconCls),c(e,n.target)}function E(t,e){if(e){for(var n=T(t,e);n;)n=T(t,e=n.target);return M(t,e)}var r=B(t);return r.length?r[0]:null}function B(e){for(var n=t.data(e,"tree").data,r=0;r<n.length;r++)L(n[r]);return n}function N(e,n){var r=[],i=M(e,n),o=i?i.children||[]:t.data(e,"tree").data;return t.easyui.forEach(o,!0,function(t){r.push(L(t))}),r}function T(e,n){return M(e,t(n).closest("ul").prevAll("div.tree-node:first")[0])}function I(e,n){n=n||"checked",t.isArray(n)||(n=[n]);var r=[];return t.easyui.forEach(t.data(e,"tree").data,!0,function(e){e.checkState&&-1!=t.easyui.indexOfArray(n,e.checkState)&&r.push(L(e))}),r}function F(e){var n=t(e).find("div.tree-node-selected");return n.length?M(e,n[0]):null}function S(e,n){var r=M(e,n);return r&&r.children&&t.easyui.forEach(r.children,!0,function(t){L(t)}),r}function M(e,n){return Q(e,"domId",t(n).attr("id"))}function U(t,e){return Q(t,"id",e)}function Q(e,n,r){var i=t.data(e,"tree").data,o=null;return t.easyui.forEach(i,!0,function(t){if(t[n]==r)return o=L(t),!1}),o}function L(e){return e.target=t("#"+e.domId)[0],e}function R(e,n){var r=t.data(e,"tree").options,i=M(e,n);0!=r.onBeforeSelect.call(e,i)&&(t(e).find("div.tree-node-selected").removeClass("tree-node-selected"),t(n).addClass("tree-node-selected"),r.onSelect.call(e,i))}function k(e,n){return 0==t(n).children("span.tree-hit").length}function O(e,n){var r=t.data(e,"tree").options,i=M(e,n);if(0!=r.onBeforeEdit.call(e,i)){t(n).css("position","relative");var o=t(n).find(".tree-title"),a=o.outerWidth();o.empty();var s=t('<input class="tree-editor">').appendTo(o);s.val(i.text).focus(),s.width(a+20),s._outerHeight(18),s.bind("click",function(t){return!1}).bind("mousedown",function(t){t.stopPropagation()}).bind("mousemove",function(t){t.stopPropagation()}).bind("keydown",function(t){return 13==t.keyCode?(P(e,n),!1):27==t.keyCode?(D(e,n),!1):void 0}).bind("blur",function(t){t.stopPropagation(),P(e,n)})}}function P(e,n){var r=t.data(e,"tree").options;t(n).css("position","");var i=t(n).find("input.tree-editor"),o=i.val();i.remove();var a=M(e,n);a.text=o,C(e,a),r.onAfterEdit.call(e,a)}function D(e,n){var r=t.data(e,"tree").options;t(n).css("position",""),t(n).find("input.tree-editor").remove();var i=M(e,n);C(e,i),r.onCancelEdit.call(e,i)}function H(e,n){var r=t.data(e,"tree"),i=r.options,o={};t.easyui.forEach(r.data,!0,function(r){i.filter.call(e,n,r)?(t("#"+r.domId).removeClass("tree-node-hidden"),o[r.domId]=1,r.hidden=!1):(t("#"+r.domId).addClass("tree-node-hidden"),r.hidden=!0)});for(var a in o)!function(n){for(var r=t(e).tree("getParent",t("#"+n)[0]);r;)t(r.target).removeClass("tree-node-hidden"),r.hidden=!1,r=t(e).tree("getParent",r.target)}(a)}t.fn.tree=function(r,i){if("string"==typeof r)return t.fn.tree.methods[r](this,i);var r=r||{};return this.each(function(){var i,o=t.data(this,"tree");if(o)i=t.extend(o.options,r),o.options=i;else{i=t.extend({},t.fn.tree.defaults,t.fn.tree.parseOptions(this),r),t.data(this,"tree",{options:i,tree:e(this),data:[],tmpIds:[]});var a=t.fn.tree.parseData(this);a.length&&h(this,this,a)}n(this),i.data&&h(this,this,t.extend(!0,[],i.data)),f(this,this)})},t.fn.tree.methods={options:function(e){return t.data(e[0],"tree").options},loadData:function(t,e){return t.each(function(){h(this,this,e)})},getNode:function(t,e){return M(t[0],e)},getData:function(t,e){return S(t[0],e)},reload:function(e,n){return e.each(function(){if(n){var e=t(n);e.children("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),e.next().remove(),p(this,n)}else t(this).empty(),f(this,this)})},getRoot:function(t,e){return E(t[0],e)},getRoots:function(t){return B(t[0])},getParent:function(t,e){return T(t[0],e)},getChildren:function(t,e){return N(t[0],e)},getChecked:function(t,e){return I(t[0],e)},getSelected:function(t){return F(t[0])},isLeaf:function(t,e){return k(t[0],e)},find:function(t,e){return U(t[0],e)},select:function(t,e){return t.each(function(){R(this,e)})},check:function(t,e){return t.each(function(){o(this,e,!0)})},uncheck:function(t,e){return t.each(function(){o(this,e,!1)})},collapse:function(t,e){return t.each(function(){A(this,e)})},expand:function(t,e){return t.each(function(){p(this,e)})},collapseAll:function(t,e){return t.each(function(){b(this,e)})},expandAll:function(t,e){return t.each(function(){v(this,e)})},expandTo:function(t,e){return t.each(function(){m(this,e)})},scrollTo:function(t,e){return t.each(function(){y(this,e)})},toggle:function(t,e){return t.each(function(){g(this,e)})},append:function(t,e){return t.each(function(){_(this,e)})},insert:function(t,e){return t.each(function(){w(this,e)})},remove:function(t,e){return t.each(function(){x(this,e)})},pop:function(t,e){var n=t.tree("getData",e);return t.tree("remove",e),n},update:function(e,n){return e.each(function(){C(this,t.extend({},n,{checkState:n.checked?"checked":!1===n.checked?"unchecked":void 0}))})},enableDnd:function(t){return t.each(function(){i(this)})},disableDnd:function(t){return t.each(function(){r(this)})},beginEdit:function(t,e){return t.each(function(){O(this,e)})},endEdit:function(t,e){return t.each(function(){P(this,e)})},cancelEdit:function(t,e){return t.each(function(){D(this,e)})},doFilter:function(t,e){return t.each(function(){H(this,e)})}},t.fn.tree.parseOptions=function(e){t(e);return t.extend({},t.parser.parseOptions(e,["url","method",{checkbox:"boolean",cascadeCheck:"boolean",onlyLeafCheck:"boolean"},{animate:"boolean",lines:"boolean",dnd:"boolean"}]))},t.fn.tree.parseData=function(e){function n(e,r){r.children("li").each(function(){var r=t(this),i=t.extend({},t.parser.parseOptions(this,["id","iconCls","state"]),{checked:!!r.attr("checked")||void 0});i.text=r.children("span").html(),i.text||(i.text=r.html());var o=r.children("ul");o.length&&(i.children=[],n(i.children,o)),e.push(i)})}var r=[];return n(r,t(e)),r};var z=1,K={render:function(e,n,r){function i(n,r){for(var s=[],l=0;l<r.length;l++){var c=r[l];"open"!=c.state&&"closed"!=c.state&&(c.state="open"),c.domId="_easyui_tree_"+z++,s.push("<li>"),s.push('<div id="'+c.domId+'" class="tree-node">');for(var h=0;h<n;h++)s.push('<span class="tree-indent"></span>');if("closed"==c.state?(s.push('<span class="tree-hit tree-collapsed"></span>'),s.push('<span class="tree-icon tree-folder '+(c.iconCls?c.iconCls:"")+'"></span>')):c.children&&c.children.length?(s.push('<span class="tree-hit tree-expanded"></span>'),s.push('<span class="tree-icon tree-folder tree-folder-open '+(c.iconCls?c.iconCls:"")+'"></span>')):(s.push('<span class="tree-indent"></span>'),s.push('<span class="tree-icon tree-file '+(c.iconCls?c.iconCls:"")+'"></span>')),this.hasCheckbox(e,c)){var d=0;u&&"checked"==u.checkState&&a.cascadeCheck?(d=1,c.checked=!0):c.checked&&t.easyui.addArrayItem(o.tmpIds,c.domId),c.checkState=d?"checked":"unchecked",s.push('<span class="tree-checkbox tree-checkbox'+d+'"></span>')}else c.checkState=void 0,c.checked=void 0;if(s.push('<span class="tree-title">'+a.formatter.call(e,c)+"</span>"),s.push("</div>"),c.children&&c.children.length){var f=i.call(this,n+1,c.children);s.push('<ul style="display:'+("closed"==c.state?"none":"block")+'">'),(s=s.concat(f)).push("</ul>")}s.push("</li>")}return s}var o=t.data(e,"tree"),a=o.options,s=t(n).prev(".tree-node"),u=s.length?t(e).tree("getNode",s[0]):null,l=s.find("span.tree-indent, span.tree-hit").length,c=i.call(this,l,r);t(n).append(c.join(""))},hasCheckbox:function(e,n){var r=t.data(e,"tree").options;if(r.checkbox){if(t.isFunction(r.checkbox))return!!r.checkbox.call(e,n);if(!r.onlyLeafCheck)return!0;if(!("open"!=n.state||n.children&&n.children.length))return!0}return!1}};t.fn.tree.defaults={url:null,method:"post",animate:!1,checkbox:!1,cascadeCheck:!0,onlyLeafCheck:!1,lines:!1,dnd:!1,data:null,queryParams:{},formatter:function(t){return t.text},filter:function(e,n){var r=[];t.map(t.isArray(e)?e:[e],function(e){(e=t.trim(e))&&r.push(e)});for(var i=0;i<r.length;i++)if(n.text.toLowerCase().indexOf(r[i].toLowerCase())>=0)return!0;return!r.length},loader:function(e,n,r){var i=t(this).tree("options");if(!i.url)return!1;t.ajax({type:i.method,url:i.url,data:e,dataType:"json",success:function(t){n(t)},error:function(){r.apply(this,arguments)}})},loadFilter:function(t,e){return t},view:K,onBeforeLoad:function(t,e){},onLoadSuccess:function(t,e){},onLoadError:function(){},onClick:function(t){},onDblClick:function(t){},onBeforeExpand:function(t){},onExpand:function(t){},onBeforeCollapse:function(t){},onCollapse:function(t){},onBeforeCheck:function(t,e){},onCheck:function(t,e){},onBeforeSelect:function(t){},onSelect:function(t){},onContextMenu:function(t,e){},onBeforeDrag:function(t){},onStartDrag:function(t){},onStopDrag:function(t){},onDragEnter:function(t,e){},onDragOver:function(t,e){},onDragLeave:function(t,e){},onBeforeDrop:function(t,e,n){},onDrop:function(t,e,n){},onBeforeEdit:function(t){},onAfterEdit:function(t){},onCancelEdit:function(t){}}}($$),function(t){function e(e){return t(e).addClass("progressbar"),t(e).html('<div class="progressbar-text"></div><div class="progressbar-value"><div class="progressbar-text"></div></div>'),t(e).bind("_resize",function(r,i){return(t(this).hasClass("easyui-fluid")||i)&&n(e),!1}),t(e)}function n(e,n){var r=t.data(e,"progressbar").options,i=t.data(e,"progressbar").bar;n&&(r.width=n),i._size(r),i.find("div.progressbar-text").css("width",i.width()),i.find("div.progressbar-text,div.progressbar-value").css({height:i.height()+"px",lineHeight:i.height()+"px"})}t.fn.progressbar=function(r,i){if("string"==typeof r){var o=t.fn.progressbar.methods[r];if(o)return o(this,i)}return r=r||{},this.each(function(){var i=t.data(this,"progressbar");i?t.extend(i.options,r):i=t.data(this,"progressbar",{options:t.extend({},t.fn.progressbar.defaults,t.fn.progressbar.parseOptions(this),r),bar:e(this)}),t(this).progressbar("setValue",i.options.value),n(this)})},t.fn.progressbar.methods={options:function(e){return t.data(e[0],"progressbar").options},resize:function(t,e){return t.each(function(){n(this,e)})},getValue:function(e){return t.data(e[0],"progressbar").options.value},setValue:function(e,n){return n<0&&(n=0),n>100&&(n=100),e.each(function(){var e=t.data(this,"progressbar").options,r=e.text.replace(/{value}/,n),i=e.value;e.value=n,t(this).find("div.progressbar-value").width(n+"%"),t(this).find("div.progressbar-text").html(r),i!=n&&e.onChange.call(this,n,i)})}},t.fn.progressbar.parseOptions=function(e){return t.extend({},t.parser.parseOptions(e,["width","height","text",{value:"number"}]))},t.fn.progressbar.defaults={width:"auto",height:22,value:0,text:"{value}%",onChange:function(t,e){}}}($$),function(t){function e(e){t(e).addClass("tooltip-f")}function n(e){var n=t.data(e,"tooltip").options;t(e).unbind(".tooltip").bind(n.showEvent+".tooltip",function(n){t(e).tooltip("show",n)}).bind(n.hideEvent+".tooltip",function(n){t(e).tooltip("hide",n)}).bind("mousemove.tooltip",function(r){n.trackMouse&&(n.trackMouseX=r.pageX,n.trackMouseY=r.pageY,t(e).tooltip("reposition"))})}function r(e){var n=t.data(e,"tooltip");n.showTimer&&(clearTimeout(n.showTimer),n.showTimer=null),n.hideTimer&&(clearTimeout(n.hideTimer),n.hideTimer=null)}function i(e){function n(n){i.position=n||"bottom",o.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+i.position);var r,a,s=t.isFunction(i.deltaX)?i.deltaX.call(e,i.position):i.deltaX,u=t.isFunction(i.deltaY)?i.deltaY.call(e,i.position):i.deltaY;if(i.trackMouse)l=t(),r=i.trackMouseX+s,a=i.trackMouseY+u;else{var l=t(e);r=l.offset().left+s,a=l.offset().top+u}switch(i.position){case"right":r+=l._outerWidth()+12+(i.trackMouse?12:0),a-=(o._outerHeight()-l._outerHeight())/2;break;case"left":r-=o._outerWidth()+12+(i.trackMouse?12:0),a-=(o._outerHeight()-l._outerHeight())/2;break;case"top":r-=(o._outerWidth()-l._outerWidth())/2,a-=o._outerHeight()+12+(i.trackMouse?12:0);break;case"bottom":r-=(o._outerWidth()-l._outerWidth())/2,a+=l._outerHeight()+12+(i.trackMouse?12:0)}return{left:r,top:a}}var r=t.data(e,"tooltip");if(r&&r.tip){var i=r.options,o=r.tip,a={left:-1e5,top:-1e5};if(t(e).is(":visible"))if(a=n(i.position),"top"==i.position&&a.top<0?a=n("bottom"):"bottom"==i.position&&a.top+o._outerHeight()>t(window)._outerHeight()+t(document).scrollTop()&&(a=n("top")),a.left<0)"left"==i.position?a=n("right"):(t(e).tooltip("arrow").css("left",o._outerWidth()/2+a.left),a.left=0);else if(a.left+o._outerWidth()>t(window)._outerWidth()+t(document)._scrollLeft())if("right"==i.position)a=n("left");else{var s=a.left;a.left=t(window)._outerWidth()+t(document)._scrollLeft()-o._outerWidth(),t(e).tooltip("arrow").css("left",o._outerWidth()/2-(a.left-s))}o.css({left:a.left,top:a.top,zIndex:void 0!=i.zIndex?i.zIndex:t.fn.window?t.fn.window.defaults.zIndex++:""}),i.onPosition.call(e,a.left,a.top)}}function o(e,n){var i=t.data(e,"tooltip"),o=i.options,a=i.tip;a||(a=t('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body"),i.tip=a,s(e)),r(e),i.showTimer=setTimeout(function(){t(e).tooltip("reposition"),a.show(),o.onShow.call(e,n);var r=a.children(".tooltip-arrow-outer"),i=a.children(".tooltip-arrow"),s="border-"+o.position+"-color";r.add(i).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""}),r.css(s,a.css(s)),i.css(s,a.css("backgroundColor"))},o.showDelay)}function a(e,n){var i=t.data(e,"tooltip");i&&i.tip&&(r(e),i.hideTimer=setTimeout(function(){i.tip.hide(),i.options.onHide.call(e,n)},i.options.hideDelay))}function s(e,n){var r=t.data(e,"tooltip"),i=r.options;if(n&&(i.content=n),r.tip){var o="function"==typeof i.content?i.content.call(e):i.content;r.tip.children(".tooltip-content").html(o),i.onUpdate.call(e,o)}}function u(e){var n=t.data(e,"tooltip");if(n){r(e);var i=n.options;n.tip&&n.tip.remove(),i._title&&t(e).attr("title",i._title),t.removeData(e,"tooltip"),t(e).unbind(".tooltip").removeClass("tooltip-f"),i.onDestroy.call(e)}}t.fn.tooltip=function(r,i){return"string"==typeof r?t.fn.tooltip.methods[r](this,i):(r=r||{},this.each(function(){var i=t.data(this,"tooltip");i?t.extend(i.options,r):(t.data(this,"tooltip",{options:t.extend({},t.fn.tooltip.defaults,t.fn.tooltip.parseOptions(this),r)}),e(this)),n(this),s(this)}))},t.fn.tooltip.methods={options:function(e){return t.data(e[0],"tooltip").options},tip:function(e){return t.data(e[0],"tooltip").tip},arrow:function(t){return t.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(t,e){return t.each(function(){o(this,e)})},hide:function(t,e){return t.each(function(){a(this,e)})},update:function(t,e){return t.each(function(){s(this,e)})},reposition:function(t){return t.each(function(){i(this)})},destroy:function(t){return t.each(function(){u(this)})}},t.fn.tooltip.parseOptions=function(e){var n=t(e),r=t.extend({},t.parser.parseOptions(e,["position","showEvent","hideEvent","content",{trackMouse:"boolean",deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{_title:n.attr("title")});return n.attr("title",""),r.content||(r.content=r._title),r},t.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:!1,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:100,onShow:function(t){},onHide:function(t){},onUpdate:function(t){},onPosition:function(t,e){},onDestroy:function(){}}}($$),function($){function _210(t){t._remove()}function _211(t,e){var n=$.data(t,"panel"),r=n.options,i=n.panel,o=i.children(".panel-header"),a=i.children(".panel-body"),s=i.children(".panel-footer"),u="left"==r.halign||"right"==r.halign;if(e&&$.extend(r,{width:e.width,height:e.height,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,left:e.left,top:e.top}),i._size(r),u||o._outerWidth(i.width()),a._outerWidth(i.width()),isNaN(parseInt(r.height))){a.css("height","");var l=$.parser.parseValue("minHeight",r.minHeight,i.parent()),c=$.parser.parseValue("maxHeight",r.maxHeight,i.parent()),h=o._outerHeight()+s._outerHeight()+i._outerHeight()-i.height();a._size("minHeight",l?l-h:""),a._size("maxHeight",c?c-h:"")}else if(u){if(r.header)d=$(r.header)._outerWidth();else{o.css("width","");var d=o._outerWidth()}var f=o.find(".panel-title");d+=Math.min(f._outerWidth(),f._outerHeight());var p=i.height();o._outerWidth(d)._outerHeight(p),f._outerWidth(o.height()),a._outerWidth(i.width()-d-s._outerWidth())._outerHeight(p),s._outerHeight(p),a.css({left:"",right:""}).css(r.halign,o.position()[r.halign]+d+"px"),r.panelCssWidth=i.css("width"),r.collapsed&&i._outerWidth(d+s._outerWidth())}else a._outerHeight(i.height()-o._outerHeight()-s._outerHeight());i.css({height:u?void 0:"",minHeight:"",maxHeight:"",left:r.left,top:r.top}),r.onResize.apply(t,[r.width,r.height]),$(t).panel("doLayout")}function _21e(t,e){var n=$.data(t,"panel"),r=n.options,i=n.panel;e&&(null!=e.left&&(r.left=e.left),null!=e.top&&(r.top=e.top)),i.css({left:r.left,top:r.top}),i.find(".tooltip-f").each(function(){$(this).tooltip("reposition")}),r.onMove.apply(t,[r.left,r.top])}function _223(t){$(t).addClass("panel-body")._size("clear");var e=$('<div class="panel"></div>').insertBefore(t);return e[0].appendChild(t),e.bind("_resize",function(e,n){return($(this).hasClass("easyui-fluid")||n)&&_211(t),!1}),e}function _227(_228){function _22b(){if(opts.noheader||!opts.title&&!opts.header)_210(_22a.children(".panel-header")),_22a.children(".panel-body").addClass("panel-body-noheader");else{if(opts.header)$(opts.header).addClass("panel-header").prependTo(_22a);else{var _22f=_22a.children(".panel-header");_22f.length||(_22f=$('<div class="panel-header"></div>').prependTo(_22a)),$.isArray(opts.tools)||_22f.find("div.panel-tool .panel-tool-a").appendTo(opts.tools),_22f.empty();var _230=$('<div class="panel-title"></div>').html(opts.title).appendTo(_22f);opts.iconCls&&(_230.addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(_22f)),"left"!=opts.halign&&"right"!=opts.halign||_230.addClass("panel-title-"+opts.titleDirection);var tool=$('<div class="panel-tool"></div>').appendTo(_22f);tool.bind("click",function(t){t.stopPropagation()}),opts.tools&&($.isArray(opts.tools)?$.map(opts.tools,function(t){_231(tool,t.iconCls,eval(t.handler))}):$(opts.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(tool)})),opts.collapsible&&_231(tool,"panel-tool-collapse",function(){1==opts.collapsed?_251(_228,!0):_242(_228,!0)}),opts.minimizable&&_231(tool,"panel-tool-min",function(){_257(_228)}),opts.maximizable&&_231(tool,"panel-tool-max",function(){1==opts.maximized?_25a(_228):_241(_228)}),opts.closable&&_231(tool,"panel-tool-close",function(){_243(_228)})}_22a.children("div.panel-body").removeClass("panel-body-noheader")}}function _231(t,e,n){$('<a href="javascript:;"></a>').addClass(e).appendTo(t).bind("click",n)}function _22c(){opts.footer?($(opts.footer).addClass("panel-footer").appendTo(_22a),$(_228).addClass("panel-body-nobottom")):(_22a.children(".panel-footer").remove(),$(_228).removeClass("panel-body-nobottom"))}var _229=$.data(_228,"panel"),opts=_229.options,_22a=_229.panel;_22a.css(opts.style),_22a.addClass(opts.cls),_22a.removeClass("panel-hleft panel-hright").addClass("panel-h"+opts.halign),_22b(),_22c();var _22d=$(_228).panel("header"),body=$(_228).panel("body"),_22e=$(_228).siblings(".panel-footer");opts.border?(_22d.removeClass("panel-header-noborder"),body.removeClass("panel-body-noborder"),_22e.removeClass("panel-footer-noborder")):(_22d.addClass("panel-header-noborder"),body.addClass("panel-body-noborder"),_22e.addClass("panel-footer-noborder")),_22d.addClass(opts.headerCls),body.addClass(opts.bodyCls),$(_228).attr("id",opts.id||""),opts.content&&($(_228).panel("clear"),$(_228).html(opts.content),$.parser.parse($(_228)))}function _233(t,e){var n=$.data(t,"panel"),r=n.options;if(i&&(r.queryParams=e),r.href&&(!n.isLoaded||!r.cache)){var i=$.extend({},r.queryParams);if(0==r.onBeforeLoad.call(t,i))return;n.isLoaded=!1,r.loadingMessage&&($(t).panel("clear"),$(t).html($('<div class="panel-loading"></div>').html(r.loadingMessage))),r.loader.call(t,i,function(e){var i=r.extractor.call(t,e);$(t).panel("clear"),$(t).html(i),$.parser.parse($(t)),r.onLoad.apply(t,arguments),n.isLoaded=!0},function(){r.onLoadError.apply(t,arguments)})}}function _239(t){var e=$(t);e.find(".combo-f").each(function(){$(this).combo("destroy")}),e.find(".m-btn").each(function(){$(this).menubutton("destroy")}),e.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),e.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),e.children("div").each(function(){$(this)._size("unfit")}),e.empty()}function _23b(t){$(t).panel("doLayout",!0)}function _23d(t,e){function n(){r.closed=!1,r.minimized=!1,i.children(".panel-header").find("a.panel-tool-restore").length&&(r.maximized=!0),r.onOpen.call(t),1==r.maximized&&(r.maximized=!1,_241(t)),1==r.collapsed&&(r.collapsed=!1,_242(t)),r.collapsed||(_233(t),_23b(t))}var r=$.data(t,"panel").options,i=$.data(t,"panel").panel;if(1==e||0!=r.onBeforeOpen.call(t))if(i.stop(!0,!0),$.isFunction(r.openAnimation))r.openAnimation.call(t,n);else switch(r.openAnimation){case"slide":i.slideDown(r.openDuration,n);break;case"fade":i.fadeIn(r.openDuration,n);break;case"show":i.show(r.openDuration,n);break;default:i.show(),n()}}function _243(t,e){function n(){i.closed=!0,i.onClose.call(t)}var r=$.data(t,"panel"),i=r.options,o=r.panel;if(1==e||0!=i.onBeforeClose.call(t))if(o.find(".tooltip-f").each(function(){$(this).tooltip("hide")}),o.stop(!0,!0),o._size("unfit"),$.isFunction(i.closeAnimation))i.closeAnimation.call(t,n);else switch(i.closeAnimation){case"slide":o.slideUp(i.closeDuration,n);break;case"fade":o.fadeOut(i.closeDuration,n);break;case"hide":o.hide(i.closeDuration,n);break;default:o.hide(),n()}}function _248(t,e){var n=$.data(t,"panel"),r=n.options,i=n.panel;1!=e&&0==r.onBeforeDestroy.call(t)||($(t).panel("clear").panel("clear","footer"),_210(i),r.onDestroy.call(t))}function _242(t,e){function n(){o.hide(),r.collapsed=!0,r.onCollapse.call(t)}var r=$.data(t,"panel").options,i=$.data(t,"panel").panel,o=i.children(".panel-body"),a=i.children(".panel-header"),s=a.find("a.panel-tool-collapse");1!=r.collapsed&&(o.stop(!0,!0),0!=r.onBeforeCollapse.call(t)&&(s.addClass("panel-tool-expand"),1==e?"left"==r.halign||"right"==r.halign?i.animate({width:a._outerWidth()+i.children(".panel-footer")._outerWidth()},function(){n()}):o.slideUp("normal",function(){n()}):("left"!=r.halign&&"right"!=r.halign||i._outerWidth(a._outerWidth()+i.children(".panel-footer")._outerWidth()),n())))}function _251(t,e){function n(){o.show(),r.collapsed=!1,r.onExpand.call(t),_233(t),_23b(t)}var r=$.data(t,"panel").options,i=$.data(t,"panel").panel,o=i.children(".panel-body"),a=i.children(".panel-header").find("a.panel-tool-collapse");0!=r.collapsed&&(o.stop(!0,!0),0!=r.onBeforeExpand.call(t)&&(a.removeClass("panel-tool-expand"),1==e?"left"==r.halign||"right"==r.halign?(o.show(),i.animate({width:r.panelCssWidth},function(){n()})):o.slideDown("normal",function(){n()}):("left"!=r.halign&&"right"!=r.halign||i.css("width",r.panelCssWidth),n())))}function _241(t){var e=$.data(t,"panel").options,n=$.data(t,"panel").panel.children(".panel-header").find("a.panel-tool-max");1!=e.maximized&&(n.addClass("panel-tool-restore"),$.data(t,"panel").original||($.data(t,"panel").original={width:e.width,height:e.height,left:e.left,top:e.top,fit:e.fit}),e.left=0,e.top=0,e.fit=!0,_211(t),e.minimized=!1,e.maximized=!0,e.onMaximize.call(t))}function _257(t){var e=$.data(t,"panel").options,n=$.data(t,"panel").panel;n._size("unfit"),n.hide(),e.minimized=!0,e.maximized=!1,e.onMinimize.call(t)}function _25a(t){var e=$.data(t,"panel").options,n=$.data(t,"panel").panel,r=n.children(".panel-header").find("a.panel-tool-max");0!=e.maximized&&(n.show(),r.removeClass("panel-tool-restore"),$.extend(e,$.data(t,"panel").original),_211(t),e.minimized=!1,e.maximized=!1,$.data(t,"panel").original=null,e.onRestore.call(t))}function _25d(t,e){$.data(t,"panel").options.title=e,$(t).panel("header").find("div.panel-title").html(e)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(t){}})};var _260=null;$(window).unbind(".panel").bind("resize.panel",function(){_260&&clearTimeout(_260),_260=setTimeout(function(){var t=$("body.layout");t.length?(t.layout("resize"),$("body").children(".easyui-fluid:visible").each(function(){$(this).triggerHandler("_resize")})):$("body").panel("doLayout"),_260=null},100)}),$.fn.panel=function(t,e){return"string"==typeof t?$.fn.panel.methods[t](this,e):(t=t||{},this.each(function(){var e,n=$.data(this,"panel");n?(e=$.extend(n.options,t),n.isLoaded=!1):(e=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),t),$(this).attr("title",""),n=$.data(this,"panel",{options:e,panel:_223(this),isLoaded:!1})),_227(this),$(this).show(),1==e.doSize&&(n.panel.css("display","block"),_211(this)),1==e.closed||1==e.minimized?n.panel.hide():_23d(this)}))},$.fn.panel.methods={options:function(t){return $.data(t[0],"panel").options},panel:function(t){return $.data(t[0],"panel").panel},header:function(t){return $.data(t[0],"panel").panel.children(".panel-header")},footer:function(t){return t.panel("panel").children(".panel-footer")},body:function(t){return $.data(t[0],"panel").panel.children(".panel-body")},setTitle:function(t,e){return t.each(function(){_25d(this,e)})},open:function(t,e){return t.each(function(){_23d(this,e)})},close:function(t,e){return t.each(function(){_243(this,e)})},destroy:function(t,e){return t.each(function(){_248(this,e)})},clear:function(t,e){return t.each(function(){_239("footer"==e?$(this).panel("footer"):this)})},refresh:function(t,e){return t.each(function(){var t=$.data(this,"panel");t.isLoaded=!1,e&&("string"==typeof e?t.options.href=e:t.options.queryParams=e),_233(this)})},resize:function(t,e){return t.each(function(){_211(this,e)})},doLayout:function(t,e){return t.each(function(){function t(t,n){if(t){var r=t==$("body")[0];$(t).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function(e,i){var o=$(i).parents(".panel-"+n+":first");return r?0==o.length:o[0]==t}).each(function(){$(this).triggerHandler("_resize",[e||!1])})}}t(this,"body"),t($(this).siblings(".panel-footer")[0],"footer")})},move:function(t,e){return t.each(function(){_21e(this,e)})},maximize:function(t){return t.each(function(){_241(this)})},minimize:function(t){return t.each(function(){_257(this)})},restore:function(t){return t.each(function(){_25a(this)})},collapse:function(t,e){return t.each(function(){_242(this,e)})},expand:function(t,e){return t.each(function(){_251(this,e)})}},$.fn.panel.parseOptions=function(t){var e=$(t),n=e.children(".panel-header,header"),r=e.children(".panel-footer,footer");return $.extend({},$.parser.parseOptions(t,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method","header","footer","halign","titleDirection",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"},"openAnimation","closeAnimation",{openDuration:"number",closeDuration:"number"}]),{loadingMessage:void 0!=e.attr("loadingMessage")?e.attr("loadingMessage"):void 0,header:n.length?n.removeClass("panel-header"):void 0,footer:r.length?r.removeClass("panel-footer"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,halign:"top",titleDirection:"down",collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,openAnimation:!1,openDuration:400,closeAnimation:!1,closeDuration:400,tools:null,footer:null,header:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(t,e,n){var r=$(this).panel("options");if(!r.href)return!1;$.ajax({type:r.method,url:r.href,cache:!1,data:t,dataType:"html",success:function(t){e(t)},error:function(){n.apply(this,arguments)}})},extractor:function(t){var e=/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(t);return e?e[1]:t},onBeforeLoad:function(t){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(t,e){},onMove:function(t,e){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}($$),function(t){function e(e,n){var r=t.data(e,"window");n&&(null!=n.left&&(r.options.left=n.left),null!=n.top&&(r.options.top=n.top)),t(e).panel("move",r.options),r.shadow&&r.shadow.css({left:r.options.left,top:r.options.top})}function n(n,r){var i=t.data(n,"window").options,o=t(n).window("panel"),a=o._outerWidth();if(i.inline){var s=o.parent();i.left=Math.ceil((s.width()-a)/2+s.scrollLeft())}else i.left=Math.ceil((t(window)._outerWidth()-a)/2+t(document).scrollLeft());r&&e(n)}function r(n,r){var i=t.data(n,"window").options,o=t(n).window("panel"),a=o._outerHeight();if(i.inline){var s=o.parent();i.top=Math.ceil((s.height()-a)/2+s.scrollTop())}else i.top=Math.ceil((t(window)._outerHeight()-a)/2+t(document).scrollTop());r&&e(n)}function i(i){var o=t.data(i,"window"),a=o.options,s=t(i).panel(t.extend({},o.options,{border:!1,doSize:!0,closed:!0,cls:"window "+(a.border?"thin"==a.border?"window-thinborder ":"":"window-thinborder window-noborder ")+(a.cls||""),headerCls:"window-header "+(a.headerCls||""),bodyCls:"window-body "+(a.noheader?"window-body-noheader ":" ")+(a.bodyCls||""),onBeforeDestroy:function(){if(0==a.onBeforeDestroy.call(i))return!1;o.shadow&&o.shadow.remove(),o.mask&&o.mask.remove()},onClose:function(){o.shadow&&o.shadow.hide(),o.mask&&o.mask.hide(),a.onClose.call(i)},onOpen:function(){o.mask&&o.mask.css(t.extend({display:"block",zIndex:t.fn.window.defaults.zIndex++},t.fn.window.getMaskSize(i))),o.shadow&&o.shadow.css({display:"block",zIndex:t.fn.window.defaults.zIndex++,left:a.left,top:a.top,width:o.window._outerWidth(),height:o.window._outerHeight()}),o.window.css("z-index",t.fn.window.defaults.zIndex++),a.onOpen.call(i)},onResize:function(e,n){var r=t(this).panel("options");t.extend(a,{width:r.width,height:r.height,left:r.left,top:r.top}),o.shadow&&o.shadow.css({left:a.left,top:a.top,width:o.window._outerWidth(),height:o.window._outerHeight()}),a.onResize.call(i,e,n)},onMinimize:function(){o.shadow&&o.shadow.hide(),o.mask&&o.mask.hide(),o.options.onMinimize.call(i)},onBeforeCollapse:function(){if(0==a.onBeforeCollapse.call(i))return!1;o.shadow&&o.shadow.hide()},onExpand:function(){o.shadow&&o.shadow.show(),a.onExpand.call(i)}}));o.window=s.panel("panel"),o.mask&&o.mask.remove(),a.modal&&(o.mask=t('<div class="window-mask" style="display:none"></div>').insertAfter(o.window)),o.shadow&&o.shadow.remove(),a.shadow&&(o.shadow=t('<div class="window-shadow" style="display:none"></div>').insertAfter(o.window));var u=a.closed;null==a.left&&n(i),null==a.top&&r(i),e(i),u||s.window("open")}function o(e,n,r,i){var o=this,a=t.data(o,"window").options;if(!a.constrain)return{};if(t.isFunction(a.constrain))return a.constrain.call(o,e,n,r,i);var s=t(o).window("window"),u=a.inline?s.parent():t(window);return e<0&&(e=0),n<u.scrollTop()&&(n=u.scrollTop()),e+r>u.width()&&(r==s.outerWidth()?e=u.width()-r:r=u.width()-e),n-u.scrollTop()+i>u.height()&&(i==s.outerHeight()?n=u.height()-i+u.scrollTop():i=u.height()-n+u.scrollTop()),{left:e,top:n,width:r,height:i}}function a(e){function n(e){a.pmask&&a.pmask.remove(),a.pmask=t('<div class="window-proxy-mask"></div>').insertAfter(a.window),a.pmask.css({display:"none",zIndex:t.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top,width:a.window._outerWidth(),height:a.window._outerHeight()}),a.proxy&&a.proxy.remove(),a.proxy=t('<div class="window-proxy"></div>').insertAfter(a.window),a.proxy.css({display:"none",zIndex:t.fn.window.defaults.zIndex++,left:e.data.left,top:e.data.top}),a.proxy._outerWidth(e.data.width)._outerHeight(e.data.height),a.proxy.hide(),setTimeout(function(){a.pmask&&a.pmask.show(),a.proxy&&a.proxy.show()},500)}function r(n){t.extend(n.data,o.call(e,n.data.left,n.data.top,n.data.width,n.data.height)),a.pmask.show(),a.proxy.css({display:"block",left:n.data.left,top:n.data.top}),a.proxy._outerWidth(n.data.width),a.proxy._outerHeight(n.data.height)}function i(n,r){t.extend(n.data,o.call(e,n.data.left,n.data.top,n.data.width+.1,n.data.height+.1)),t(e).window(r,n.data),a.pmask.remove(),a.pmask=null,a.proxy.remove(),a.proxy=null}var a=t.data(e,"window");a.window.draggable({handle:">div.panel-header>div.panel-title",disabled:0==a.options.draggable,onBeforeDrag:function(e){a.mask&&a.mask.css("z-index",t.fn.window.defaults.zIndex++),a.shadow&&a.shadow.css("z-index",t.fn.window.defaults.zIndex++),a.window.css("z-index",t.fn.window.defaults.zIndex++)},onStartDrag:function(t){n(t)},onDrag:function(t){return r(t),!1},onStopDrag:function(t){i(t,"move")}}),a.window.resizable({disabled:0==a.options.resizable,onStartResize:function(t){n(t)},onResize:function(t){return r(t),!1},onStopResize:function(t){i(t,"resize")}})}t(function(){t._positionFixed||t(window).resize(function(){t("body>div.window-mask:visible").css({width:"",height:""}),setTimeout(function(){t("body>div.window-mask:visible").css(t.fn.window.getMaskSize())},50)})}),t.fn.window=function(e,n){if("string"==typeof e){var r=t.fn.window.methods[e];return r?r(this,n):this.panel(e,n)}return e=e||{},this.each(function(){var n=t.data(this,"window");n?t.extend(n.options,e):(n=t.data(this,"window",{options:t.extend({},t.fn.window.defaults,t.fn.window.parseOptions(this),e)})).options.inline||document.body.appendChild(this),i(this),a(this)})},t.fn.window.methods={options:function(e){var n=e.panel("options"),r=t.data(e[0],"window").options;return t.extend(r,{closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized})},window:function(e){return t.data(e[0],"window").window},move:function(t,n){return t.each(function(){e(this,n)})},hcenter:function(t){return t.each(function(){n(this,!0)})},vcenter:function(t){return t.each(function(){r(this,!0)})},center:function(t){return t.each(function(){n(this),r(this),e(this)})}},t.fn.window.getMaskSize=function(e){var n=t(e).data("window");return n&&n.options.inline?{}:t._positionFixed?{position:"fixed"}:{width:t(document).width(),height:t(document).height()}},t.fn.window.parseOptions=function(e){return t.extend({},t.fn.panel.parseOptions(e),t.parser.parseOptions(e,[{draggable:"boolean",resizable:"boolean",shadow:"boolean",modal:"boolean",inline:"boolean"}]))},t.fn.window.defaults=t.extend({},t.fn.panel.defaults,{zIndex:9e3,draggable:!0,resizable:!0,shadow:!0,modal:!1,border:!0,inline:!1,title:"New Window",collapsible:!0,minimizable:!0,maximizable:!0,closable:!0,closed:!1,constrain:!1})}($$),function($){function _2a7(_2a8){var opts=$.data(_2a8,"dialog").options;opts.inited=!1,$(_2a8).window($.extend({},opts,{onResize:function(t,e){opts.inited&&(_2ad(this),opts.onResize.call(this,t,e))}}));var win=$(_2a8).window("window");if(opts.toolbar)if($.isArray(opts.toolbar)){$(_2a8).siblings("div.dialog-toolbar").remove();for(var _2a9=$('<div class="dialog-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').appendTo(win),tr=_2a9.find("tr"),i=0;i<opts.toolbar.length;i++){var btn=opts.toolbar[i];if("-"==btn)$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:;"></a>').appendTo(td);tool[0].onclick=eval(btn.handler||function(){}),tool.linkbutton($.extend({},btn,{plain:!0}))}}}else $(opts.toolbar).addClass("dialog-toolbar").appendTo(win),$(opts.toolbar).show();else $(_2a8).siblings("div.dialog-toolbar").remove();if(opts.buttons)if($.isArray(opts.buttons)){$(_2a8).siblings("div.dialog-button").remove();for(var _2aa=$('<div class="dialog-button"></div>').appendTo(win),i=0;i<opts.buttons.length;i++){var p=opts.buttons[i],_2ab=$('<a href="javascript:;"></a>').appendTo(_2aa);p.handler&&(_2ab[0].onclick=p.handler),_2ab.linkbutton(p)}}else $(opts.buttons).addClass("dialog-button").appendTo(win),$(opts.buttons).show();else $(_2a8).siblings("div.dialog-button").remove();opts.inited=!0;var _2ac=opts.closed;win.show(),$(_2a8).window("resize"),_2ac&&win.hide()}function _2ad(t,e){var n=$(t),r=n.dialog("options"),i=r.noheader,o=n.siblings(".dialog-toolbar"),a=n.siblings(".dialog-button");o.insertBefore(t).css({borderTopWidth:i?1:0,top:i?o.length:0}),a.insertAfter(t),o.add(a)._outerWidth(n._outerWidth()).find(".easyui-fluid:visible").each(function(){$(this).triggerHandler("_resize")});var s=o._outerHeight()+a._outerHeight();if(isNaN(parseInt(r.height))){var u=n._size("min-height");u&&n._size("min-height",u-s);var l=n._size("max-height");l&&n._size("max-height",l-s)}else n._outerHeight(n._outerHeight()-s);var c=$.data(t,"window").shadow;if(c){var h=n.panel("panel");c.css({width:h._outerWidth(),height:h._outerHeight()})}}$.fn.dialog=function(t,e){if("string"==typeof t){var n=$.fn.dialog.methods[t];return n?n(this,e):this.window(t,e)}return t=t||{},this.each(function(){var e=$.data(this,"dialog");e?$.extend(e.options,t):$.data(this,"dialog",{options:$.extend({},$.fn.dialog.defaults,$.fn.dialog.parseOptions(this),t)}),_2a7(this)})},$.fn.dialog.methods={options:function(t){var e=$.data(t[0],"dialog").options,n=t.panel("options");return $.extend(e,{width:n.width,height:n.height,left:n.left,top:n.top,closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized}),e},dialog:function(t){return t.window("window")}},$.fn.dialog.parseOptions=function(t){var e=$(t);return $.extend({},$.fn.window.parseOptions(t),$.parser.parseOptions(t,["toolbar","buttons"]),{toolbar:e.children(".dialog-toolbar").length?e.children(".dialog-toolbar").removeClass("dialog-toolbar"):void 0,buttons:e.children(".dialog-button").length?e.children(".dialog-button").removeClass("dialog-button"):void 0})},$.fn.dialog.defaults=$.extend({},$.fn.window.defaults,{title:"New Dialog",collapsible:!1,minimizable:!1,maximizable:!1,resizable:!1,toolbar:null,buttons:null})}($$),function(t){function e(){t(document).unbind(".messager").bind("keydown.messager",function(e){if(27==e.keyCode)t("body").children("div.messager-window").children("div.messager-body").each(function(){t(this).dialog("close")});else if(9==e.keyCode){var n=t("body").children("div.messager-window");if(!n.length)return;for(var r=n.find(".messager-input,.messager-button .l-btn"),i=0;i<r.length;i++)if(t(r[i]).is(":focus"))return t(r[i>=r.length-1?0:i+1]).focus(),!1}else if(13==e.keyCode){var a=t(e.target).closest("input.messager-input");a.length&&o(a.closest(".messager-body"),a.val())}})}function n(){t(document).unbind(".messager")}function r(e){var n=t.extend({},t.messager.defaults,{modal:!1,shadow:!1,draggable:!1,resizable:!1,closed:!0,style:{left:"",top:"",right:0,zIndex:t.fn.window.defaults.zIndex++,bottom:-document.body.scrollTop-document.documentElement.scrollTop},title:"",width:250,height:100,minHeight:0,showType:"slide",showSpeed:600,content:e.msg,timeout:4e3},e),r=t('<div class="messager-body"></div>').appendTo("body");return r.dialog(t.extend({},n,{noheader:!n.title,openAnimation:n.showType,closeAnimation:"show"==n.showType?"hide":n.showType,openDuration:n.showSpeed,closeDuration:n.showSpeed,onOpen:function(){function t(){n.timeout>0&&(n.timer=setTimeout(function(){r.length&&r.data("dialog")&&r.dialog("close")},n.timeout))}r.dialog("dialog").hover(function(){n.timer&&clearTimeout(n.timer)},function(){t()}),t(),e.onOpen?e.onOpen.call(this):n.onOpen.call(this)},onClose:function(){n.timer&&clearTimeout(n.timer),e.onClose?e.onClose.call(this):n.onClose.call(this),r.dialog("destroy")}})),r.dialog("dialog").css(n.style),r.dialog("open"),r}function i(r){e();var i=t('<div class="messager-body"></div>').appendTo("body");return i.dialog(t.extend({},r,{noheader:!r.title,onClose:function(){n(),r.onClose&&r.onClose.call(this),setTimeout(function(){i.dialog("destroy")},100)}})),i.dialog("dialog").addClass("messager-window").find(".dialog-button").addClass("messager-button").find("a:first").focus(),i}function o(t,e){t.dialog("close"),t.dialog("options").fn(e)}t.messager={show:function(t){return r(t)},alert:function(e,n,r,a){var s="object"==typeof e?e:{title:e,msg:n,icon:r,fn:a},u=s.icon?"messager-icon messager-"+s.icon:"";(s=t.extend({},t.messager.defaults,{content:'<div class="'+u+'"></div><div>'+s.msg+'</div><div style="clear:both;"/>'},s)).buttons||(s.buttons=[{text:s.ok,onClick:function(){o(l)}}]);var l=i(s);return l},confirm:function(e,n,r){var a="object"==typeof e?e:{title:e,msg:n,fn:r};(a=t.extend({},t.messager.defaults,{content:'<div class="messager-icon messager-question"></div><div>'+a.msg+'</div><div style="clear:both;"/>'},a)).buttons||(a.buttons=[{text:a.ok,onClick:function(){o(s,!0)}},{text:a.cancel,onClick:function(){o(s,!1)}}]);var s=i(a);return s},prompt:function(e,n,r){var a="object"==typeof e?e:{title:e,msg:n,fn:r};(a=t.extend({},t.messager.defaults,{content:'<div class="messager-icon messager-question"></div><div>'+a.msg+'</div><br/><div style="clear:both;"/><div><input class="messager-input" type="text"/></div>'},a)).buttons||(a.buttons=[{text:a.ok,onClick:function(){o(s,s.find(".messager-input").val())}},{text:a.cancel,onClick:function(){o(s)}}]);var s=i(a);return s.find(".messager-input").focus(),s},progress:function(e){var n={bar:function(){return t("body>div.messager-window").find("div.messager-p-bar")},close:function(){var e=t("body>div.messager-window>div.messager-body:has(div.messager-progress)");e.length&&e.dialog("close")}};if("string"==typeof e)return(0,n[e])();e=e||{};var r=t.extend({},{title:"",minHeight:0,content:void 0,msg:"",text:void 0,interval:300},e),o=i(t.extend({},t.messager.defaults,{content:'<div class="messager-progress"><div class="messager-p-msg">'+r.msg+'</div><div class="messager-p-bar"></div></div>',closable:!1,doSize:!1},r,{onClose:function(){this.timer&&clearInterval(this.timer),e.onClose?e.onClose.call(this):t.messager.defaults.onClose.call(this)}})),a=o.find("div.messager-p-bar");return a.progressbar({text:r.text}),o.dialog("resize"),r.interval&&(o[0].timer=setInterval(function(){var t=a.progressbar("getValue");(t+=10)>100&&(t=0),a.progressbar("setValue",t)},r.interval)),o}},t.messager.defaults=t.extend({},t.fn.dialog.defaults,{ok:"Ok",cancel:"Cancel",width:300,height:"auto",minHeight:150,modal:!0,collapsible:!1,minimizable:!1,maximizable:!1,resizable:!1,fn:function(){}})}($$),function(t){function e(e,n){function r(t,e){for(var n=0,r=0;r<a.length;r++){var i=a[r];if(u)o=i.panel("header")._outerWidth(l);else var o=i.panel("header")._outerHeight(l);if(i.panel("options").collapsible==t){var c=isNaN(e)?void 0:e+l*o.length;u?(i.panel("resize",{height:s.height(),width:t?c:void 0}),n+=i.panel("panel")._outerWidth()-l*o.length):(i.panel("resize",{width:s.width(),height:t?c:void 0}),n+=i.panel("panel").outerHeight()-l*o.length)}}return n}var i=t.data(e,"accordion"),o=i.options,a=i.panels,s=t(e),u="left"==o.halign||"right"==o.halign;s.children(".panel-last").removeClass("panel-last"),s.children(".panel:last").addClass("panel-last"),n&&t.extend(o,{width:n.width,height:n.height}),s._size(o);var l=0,c="auto",h=s.find(">.panel>.accordion-header");h.length&&(u?(t(a[0]).panel("resize",{width:s.width(),height:s.height()}),l=t(h[0])._outerWidth()):l=t(h[0]).css("height","")._outerHeight()),isNaN(parseInt(o.height))||(c=u?s.width()-l*h.length:s.height()-l*h.length),r(!0,c-r(!1))}function n(e,n,r,i){for(var o=t.data(e,"accordion").panels,a=[],s=0;s<o.length;s++){var u=o[s];if(n)u.panel("options")[n]==r&&a.push(u);else if(u[0]==t(r)[0])return s}return n?i?a:a.length?a[0]:null:-1}function r(t){return n(t,"collapsed",!1,!0)}function i(t){var e=r(t);return e.length?e[0]:null}function o(t,e){return n(t,null,e)}function a(e,r){var i=t.data(e,"accordion").panels;return"number"==typeof r?r<0||r>=i.length?null:i[r]:n(e,"title",r)}function s(e){var n=t.data(e,"accordion").options,r=t(e);n.border?r.removeClass("accordion-noborder"):r.addClass("accordion-noborder")}function u(n){var r=t.data(n,"accordion"),i=t(n);i.addClass("accordion"),r.panels=[],i.children("div").each(function(){var e=t.extend({},t.parser.parseOptions(this),{selected:!!t(this).attr("selected")||void 0}),i=t(this);r.panels.push(i),l(n,i,e)}),i.bind("_resize",function(r,i){return(t(this).hasClass("easyui-fluid")||i)&&e(n),!1})}function l(e,n,i){function a(t){var n=t.panel("options");if(n.collapsible){var r=o(e,t);n.collapsed?c(e,r):h(e,r)}}var s=t.data(e,"accordion").options;n.panel(t.extend({},{collapsible:!0,minimizable:!1,maximizable:!1,closable:!1,doSize:!1,collapsed:!0,headerCls:"accordion-header",bodyCls:"accordion-body",halign:s.halign},i,{onBeforeExpand:function(){if(i.onBeforeExpand&&0==i.onBeforeExpand.call(this))return!1;if(!s.multiple)for(var n=t.grep(r(e),function(t){return t.panel("options").collapsible}),a=0;a<n.length;a++)h(e,o(e,n[a]));var u=t(this).panel("header");u.addClass("accordion-header-selected"),u.find(".accordion-collapse").removeClass("accordion-expand")},onExpand:function(){t(e).find(">.panel-last>.accordion-header").removeClass("accordion-header-border"),i.onExpand&&i.onExpand.call(this),s.onSelect.call(e,t(this).panel("options").title,o(e,this))},onBeforeCollapse:function(){if(i.onBeforeCollapse&&0==i.onBeforeCollapse.call(this))return!1;t(e).find(">.panel-last>.accordion-header").addClass("accordion-header-border");var n=t(this).panel("header");n.removeClass("accordion-header-selected"),n.find(".accordion-collapse").addClass("accordion-expand")},onCollapse:function(){isNaN(parseInt(s.height))&&t(e).find(">.panel-last>.accordion-header").removeClass("accordion-header-border"),i.onCollapse&&i.onCollapse.call(this),s.onUnselect.call(e,t(this).panel("options").title,o(e,this))}}));var u=n.panel("header"),l=u.children("div.panel-tool");l.children("a.panel-tool-collapse").hide();var d=t('<a href="javascript:;"></a>').addClass("accordion-collapse accordion-expand").appendTo(l);d.bind("click",function(){return a(n),!1}),n.panel("options").collapsible?d.show():d.hide(),"left"!=s.halign&&"right"!=s.halign||d.hide(),u.click(function(){return a(n),!1})}function c(e,n){var r=a(e,n);if(r){f(e);var i=t.data(e,"accordion").options;r.panel("expand",i.animate)}}function h(e,n){var r=a(e,n);if(r){f(e);var i=t.data(e,"accordion").options;r.panel("collapse",i.animate)}}function d(e){function r(t){var n=i.animate;i.animate=!1,c(e,t),i.animate=n}var i=t.data(e,"accordion").options;t(e).find(">.panel-last>.accordion-header").addClass("accordion-header-border");var a=n(e,"selected",!0);r(a?o(e,a):i.selected)}function f(e){for(var n=t.data(e,"accordion").panels,r=0;r<n.length;r++)n[r].stop(!0,!0)}function p(n,r){var i=t.data(n,"accordion"),o=i.options,a=i.panels;void 0==r.selected&&(r.selected=!0),f(n);var s=t("<div></div>").appendTo(n);a.push(s),l(n,s,r),e(n),o.onAdd.call(n,r.title,a.length-1),r.selected&&c(n,a.length-1)}function A(n,r){var s=t.data(n,"accordion"),u=s.options,l=s.panels;f(n);var h=a(n,r),d=h.panel("options").title,p=o(n,h);h&&0!=u.onBeforeRemove.call(n,d,p)&&(l.splice(p,1),h.panel("destroy"),l.length&&(e(n),i(n)||c(n,0)),u.onRemove.call(n,d,p))}t.fn.accordion=function(n,r){return"string"==typeof n?t.fn.accordion.methods[n](this,r):(n=n||{},this.each(function(){var r=t.data(this,"accordion");r?t.extend(r.options,n):(t.data(this,"accordion",{options:t.extend({},t.fn.accordion.defaults,t.fn.accordion.parseOptions(this),n),accordion:t(this).addClass("accordion"),panels:[]}),u(this)),s(this),e(this),d(this)}))},t.fn.accordion.methods={options:function(e){return t.data(e[0],"accordion").options},panels:function(e){return t.data(e[0],"accordion").panels},resize:function(t,n){return t.each(function(){e(this,n)})},getSelections:function(t){return r(t[0])},getSelected:function(t){return i(t[0])},getPanel:function(t,e){return a(t[0],e)},getPanelIndex:function(t,e){return o(t[0],e)},select:function(t,e){return t.each(function(){c(this,e)})},unselect:function(t,e){return t.each(function(){h(this,e)})},add:function(t,e){return t.each(function(){p(this,e)})},remove:function(t,e){return t.each(function(){A(this,e)})}},t.fn.accordion.parseOptions=function(e){t(e);return t.extend({},t.parser.parseOptions(e,["width","height","halign",{fit:"boolean",border:"boolean",animate:"boolean",multiple:"boolean",selected:"number"}]))},t.fn.accordion.defaults={width:"auto",height:"auto",fit:!1,border:!0,animate:!0,multiple:!1,selected:0,halign:"top",onSelect:function(t,e){},onUnselect:function(t,e){},onAdd:function(t,e){},onBeforeRemove:function(t,e){},onRemove:function(t,e){}}}($$),function($){function _329(t){var e=0;return $(t).children().each(function(){e+=$(this).outerWidth(!0)}),e}function _32a(t){var e=$.data(t,"tabs").options;if("left"!=e.tabPosition&&"right"!=e.tabPosition&&e.showHeader){var n=$(t).children("div.tabs-header"),r=n.children("div.tabs-tool:not(.tabs-tool-hidden)"),i=n.children("div.tabs-scroller-left"),o=n.children("div.tabs-scroller-right"),a=n.children("div.tabs-wrap"),s=n.outerHeight();e.plain&&(s-=s-n.height()),r._outerHeight(s);var u=_329(n.find("ul.tabs")),l=n.width()-r._outerWidth();u>l?(i.add(o).show()._outerHeight(s),"left"==e.toolPosition?(r.css({left:i.outerWidth(),right:""}),a.css({marginLeft:i.outerWidth()+r._outerWidth(),marginRight:o._outerWidth(),width:l-i.outerWidth()-o.outerWidth()})):(r.css({left:"",right:o.outerWidth()}),a.css({marginLeft:i.outerWidth(),marginRight:o.outerWidth()+r._outerWidth(),width:l-i.outerWidth()-o.outerWidth()}))):(i.add(o).hide(),"left"==e.toolPosition?(r.css({left:0,right:""}),a.css({marginLeft:r._outerWidth(),marginRight:0,width:l})):(r.css({left:"",right:0}),a.css({marginLeft:0,marginRight:r._outerWidth(),width:l})))}}function _332(_333){var opts=$.data(_333,"tabs").options,_334=$(_333).children("div.tabs-header");if(opts.tools)if("string"==typeof opts.tools)$(opts.tools).addClass("tabs-tool").appendTo(_334),$(opts.tools).show();else{_334.children("div.tabs-tool").remove();for(var _335=$('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(_334),tr=_335.find("tr"),i=0;i<opts.tools.length;i++){var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:;"></a>').appendTo(td);tool[0].onclick=eval(opts.tools[i].handler||function(){}),tool.linkbutton($.extend({},opts.tools[i],{plain:!0}))}}else _334.children("div.tabs-tool").remove()}function _336(t,e){function n(t,e){var n=t.panel("options"),r=n.tab.find("a.tabs-inner");(e=e||parseInt(n.tabWidth||i.tabWidth||void 0))?r._outerWidth(e):r.css("width",""),r._outerHeight(i.tabHeight),r.css("lineHeight",r.height()+"px"),r.find(".easyui-fluid:visible").triggerHandler("_resize")}var r=$.data(t,"tabs"),i=r.options,o=$(t);if(i.doSize){e&&$.extend(i,{width:e.width,height:e.height}),o._size(i);var a=o.children("div.tabs-header"),s=o.children("div.tabs-panels"),u=a.find("div.tabs-wrap"),l=u.find(".tabs");if(l.children("li").removeClass("tabs-first tabs-last"),l.children("li:first").addClass("tabs-first"),l.children("li:last").addClass("tabs-last"),"left"==i.tabPosition||"right"==i.tabPosition?(a._outerWidth(i.showHeader?i.headerWidth:0),s._outerWidth(o.width()-a.outerWidth()),a.add(s)._size("height",isNaN(parseInt(i.height))?"":o.height()),u._outerWidth(a.width()),l._outerWidth(u.width()).css("height","")):(a.children("div.tabs-scroller-left,div.tabs-scroller-right,div.tabs-tool:not(.tabs-tool-hidden)").css("display",i.showHeader?"block":"none"),a._outerWidth(o.width()).css("height",""),i.showHeader?(a.css("background-color",""),u.css("height","")):(a.css("background-color","transparent"),a._outerHeight(0),u._outerHeight(0)),l._outerHeight(i.tabHeight).css("width",""),l._outerHeight(l.outerHeight()-l.height()-1+i.tabHeight).css("width",""),s._size("height",isNaN(parseInt(i.height))?"":o.height()-a.outerHeight()),s._size("width",o.width())),r.tabs.length){var c=l.outerWidth(!0)-l.width(),h=l.children("li:first"),d=h.outerWidth(!0)-h.width(),f=a.width()-a.children(".tabs-tool:not(.tabs-tool-hidden)")._outerWidth(),p=Math.floor((f-c-d*r.tabs.length)/r.tabs.length);if($.map(r.tabs,function(t){n(t,i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0?p:void 0)}),i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0){var A=f-c-_329(l);n(r.tabs[r.tabs.length-1],p+A)}}_32a(t)}}function _342(t){var e=$.data(t,"tabs").options,n=_344(t);if(n){var r=$(t).children("div.tabs-panels"),i="auto"==e.width?"auto":r.width(),o="auto"==e.height?"auto":r.height();n.panel("resize",{width:i,height:o})}}function _348(t){$.data(t,"tabs").tabs;var e=$(t).addClass("tabs-container"),n=$('<div class="tabs-panels"></div>').insertBefore(e);e.children("div").each(function(){n[0].appendChild(this)}),e[0].appendChild(n[0]),$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(t),e.children("div.tabs-panels").children("div").each(function(e){var n=$.extend({},$.parser.parseOptions(this),{disabled:!!$(this).attr("disabled")||void 0,selected:!!$(this).attr("selected")||void 0});_357(t,n,$(this))}),e.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function(){$(this).addClass("tabs-scroller-over")},function(){$(this).removeClass("tabs-scroller-over")}),e.bind("_resize",function(e,n){return($(this).hasClass("easyui-fluid")||n)&&(_336(t),_342(t)),!1})}function _34c(t){function e(t){var e=0;return t.parent().children("li").each(function(n){if(t[0]==this)return e=n,!1}),e}var n=$.data(t,"tabs"),r=n.options;$(t).children("div.tabs-header").unbind().bind("click",function(i){if($(i.target).hasClass("tabs-scroller-left"))$(t).tabs("scrollBy",-r.scrollIncrement);else{if(!$(i.target).hasClass("tabs-scroller-right")){var o=$(i.target).closest("li");if(o.hasClass("tabs-disabled"))return!1;if($(i.target).closest("a.tabs-close").length)_370(t,e(o));else if(o.length){var a=e(o),s=n.tabs[a].panel("options");s.collapsible?s.closed?_367(t,a):_384(t,a):_367(t,a)}return!1}$(t).tabs("scrollBy",r.scrollIncrement)}}).bind("contextmenu",function(n){var i=$(n.target).closest("li");i.hasClass("tabs-disabled")||i.length&&r.onContextMenu.call(t,n,i.find("span.tabs-title").html(),e(i))})}function _353(t){var e=$.data(t,"tabs").options,n=$(t).children("div.tabs-header"),r=$(t).children("div.tabs-panels");n.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),r.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),"top"==e.tabPosition?n.insertBefore(r):"bottom"==e.tabPosition?(n.insertAfter(r),n.addClass("tabs-header-bottom"),r.addClass("tabs-panels-top")):"left"==e.tabPosition?(n.addClass("tabs-header-left"),r.addClass("tabs-panels-right")):"right"==e.tabPosition&&(n.addClass("tabs-header-right"),r.addClass("tabs-panels-left")),1==e.plain?n.addClass("tabs-header-plain"):n.removeClass("tabs-header-plain"),n.removeClass("tabs-header-narrow").addClass(e.narrow?"tabs-header-narrow":"");var i=n.find(".tabs");i.removeClass("tabs-pill").addClass(e.pill?"tabs-pill":""),i.removeClass("tabs-narrow").addClass(e.narrow?"tabs-narrow":""),i.removeClass("tabs-justified").addClass(e.justified?"tabs-justified":""),1==e.border?(n.removeClass("tabs-header-noborder"),r.removeClass("tabs-panels-noborder")):(n.addClass("tabs-header-noborder"),r.addClass("tabs-panels-noborder")),e.doSize=!0}function _357(t,e,n){e=e||{};var r=$.data(t,"tabs"),i=r.tabs;(void 0==e.index||e.index>i.length)&&(e.index=i.length),e.index<0&&(e.index=0);var o=$(t).children("div.tabs-header").find("ul.tabs"),a=$(t).children("div.tabs-panels"),s=$('<li><a href="javascript:;" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a></li>');n||(n=$("<div></div>")),e.index>=i.length?(s.appendTo(o),n.appendTo(a),i.push(n)):(s.insertBefore(o.children("li:eq("+e.index+")")),n.insertBefore(a.children("div.panel:eq("+e.index+")")),i.splice(e.index,0,n)),n.panel($.extend({},e,{tab:s,border:!1,noheader:!0,closed:!0,doSize:!1,iconCls:e.icon?e.icon:void 0,onLoad:function(){e.onLoad&&e.onLoad.call(this,arguments),r.options.onLoad.call(t,$(this))},onBeforeOpen:function(){if(e.onBeforeOpen&&0==e.onBeforeOpen.call(this))return!1;var n=$(t).tabs("getSelected");if(n){if(n[0]==this)return _342(t),!1;if($(t).tabs("unselect",_362(t,n)),n=$(t).tabs("getSelected"))return!1}var r=$(this).panel("options");r.tab.addClass("tabs-selected");var i=$(t).find(">div.tabs-header>div.tabs-wrap"),o=r.tab.position().left,a=o+r.tab.outerWidth();if(o<0||a>i.width()){var s=o-(i.width()-r.tab.width())/2;$(t).tabs("scrollBy",s)}else $(t).tabs("scrollBy",0);var u=$(this).panel("panel");u.css("display","block"),_342(t),u.css("display","none")},onOpen:function(){e.onOpen&&e.onOpen.call(this);var n=$(this).panel("options");r.selectHis.push(n.title),r.options.onSelect.call(t,n.title,_362(t,this))},onBeforeClose:function(){if(e.onBeforeClose&&0==e.onBeforeClose.call(this))return!1;$(this).panel("options").tab.removeClass("tabs-selected")},onClose:function(){e.onClose&&e.onClose.call(this);var n=$(this).panel("options");r.options.onUnselect.call(t,n.title,_362(t,this))}})),$(t).tabs("update",{tab:n,options:n.panel("options"),type:"header"})}function _363(t,e){var n=$.data(t,"tabs").options;void 0==e.selected&&(e.selected=!0),_357(t,e),n.onAdd.call(t,e.title,e.index),e.selected&&_367(t,e.index)}function _368(t,e){e.type=e.type||"all";var n=$.data(t,"tabs").selectHis,r=e.tab,i=r.panel("options"),o=i.title;if($.extend(i,e.options,{iconCls:e.options.icon?e.options.icon:void 0}),"all"!=e.type&&"body"!=e.type||r.panel(),"all"==e.type||"header"==e.type){var a=i.tab;if(i.header)a.find(".tabs-inner").html($(i.header));else{var s=a.find("span.tabs-title"),u=a.find("span.tabs-icon");if(s.html(i.title),u.attr("class","tabs-icon"),a.find("a.tabs-close").remove(),i.closable?(s.addClass("tabs-closable"),$('<a href="javascript:;" class="tabs-close"></a>').appendTo(a)):s.removeClass("tabs-closable"),i.iconCls?(s.addClass("tabs-with-icon"),u.addClass(i.iconCls)):s.removeClass("tabs-with-icon"),i.tools){if(!(l=a.find("span.tabs-p-tool")).length)var l=$('<span class="tabs-p-tool"></span>').insertAfter(a.find("a.tabs-inner"));if($.isArray(i.tools)){l.empty();for(d=0;d<i.tools.length;d++){var c=$('<a href="javascript:;"></a>').appendTo(l);c.addClass(i.tools[d].iconCls),i.tools[d].handler&&c.bind("click",{handler:i.tools[d].handler},function(t){$(this).parents("li").hasClass("tabs-disabled")||t.data.handler.call(this)})}}else $(i.tools).children().appendTo(l);var h=12*l.children().length;i.closable?(h+=8,l.css("right","")):(h-=3,l.css("right","5px")),s.css("padding-right",h+"px")}else a.find("span.tabs-p-tool").remove(),s.css("padding-right","")}if(o!=i.title)for(var d=0;d<n.length;d++)n[d]==o&&(n[d]=i.title)}i.disabled?i.tab.addClass("tabs-disabled"):i.tab.removeClass("tabs-disabled"),_336(t),$.data(t,"tabs").options.onUpdate.call(t,i.title,_362(t,r))}function _370(t,e){var n=$.data(t,"tabs").options,r=$.data(t,"tabs").tabs,i=$.data(t,"tabs").selectHis;if(_374(t,e)){var o=_375(t,e),a=o.panel("options").title,s=_362(t,o);if(0!=n.onBeforeClose.call(t,a,s)){(o=_375(t,e,!0)).panel("options").tab.remove(),o.panel("destroy"),n.onClose.call(t,a,s),_336(t);for(var u=0;u<i.length;u++)i[u]==a&&(i.splice(u,1),u--);var l=i.pop();l?_367(t,l):r.length&&_367(t,0)}}}function _375(t,e,n){var r=$.data(t,"tabs").tabs,i=null;if("number"==typeof e)e>=0&&e<r.length&&(i=r[e],n&&r.splice(e,1));else{for(var o=$("<span></span>"),a=0;a<r.length;a++){var s=r[a];if(o.html(s.panel("options").title),o.text()==e){i=s,n&&r.splice(a,1);break}}o.remove()}return i}function _362(t,e){for(var n=$.data(t,"tabs").tabs,r=0;r<n.length;r++)if(n[r][0]==$(e)[0])return r;return-1}function _344(t){for(var e=$.data(t,"tabs").tabs,n=0;n<e.length;n++){var r=e[n];if(r.panel("options").tab.hasClass("tabs-selected"))return r}return null}function _37e(t){for(var e=$.data(t,"tabs"),n=e.tabs,r=0;r<n.length;r++){var i=n[r].panel("options");if(i.selected&&!i.disabled)return void _367(t,r)}_367(t,e.options.selected)}function _367(t,e){var n=_375(t,e);n&&!n.is(":visible")&&(_383(t),n.panel("options").disabled||n.panel("open"))}function _384(t,e){var n=_375(t,e);n&&n.is(":visible")&&(_383(t),n.panel("close"))}function _383(t){$(t).children("div.tabs-panels").each(function(){$(this).stop(!0,!0)})}function _374(t,e){return null!=_375(t,e)}function _38a(t,e){$.data(t,"tabs").options.showHeader=e,$(t).tabs("resize")}function _38d(t,e){var n=$(t).find(">.tabs-header>.tabs-tool");e?n.removeClass("tabs-tool-hidden").show():n.addClass("tabs-tool-hidden").hide(),$(t).tabs("resize").tabs("scrollBy",0)}$.fn.tabs=function(t,e){return"string"==typeof t?$.fn.tabs.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"tabs");e?$.extend(e.options,t):($.data(this,"tabs",{options:$.extend({},$.fn.tabs.defaults,$.fn.tabs.parseOptions(this),t),tabs:[],selectHis:[]}),_348(this)),_332(this),_353(this),_336(this),_34c(this),_37e(this)}))},$.fn.tabs.methods={options:function(t){var e=t[0],n=$.data(e,"tabs").options,r=_344(e);return n.selected=r?_362(e,r):-1,n},tabs:function(t){return $.data(t[0],"tabs").tabs},resize:function(t,e){return t.each(function(){_336(this,e),_342(this)})},add:function(t,e){return t.each(function(){_363(this,e)})},close:function(t,e){return t.each(function(){_370(this,e)})},getTab:function(t,e){return _375(t[0],e)},getTabIndex:function(t,e){return _362(t[0],e)},getSelected:function(t){return _344(t[0])},select:function(t,e){return t.each(function(){_367(this,e)})},unselect:function(t,e){return t.each(function(){_384(this,e)})},exists:function(t,e){return _374(t[0],e)},update:function(t,e){return t.each(function(){_368(this,e)})},enableTab:function(t,e){return t.each(function(){var t=$(this).tabs("getTab",e).panel("options");t.tab.removeClass("tabs-disabled"),t.disabled=!1})},disableTab:function(t,e){return t.each(function(){var t=$(this).tabs("getTab",e).panel("options");t.tab.addClass("tabs-disabled"),t.disabled=!0})},showHeader:function(t){return t.each(function(){_38a(this,!0)})},hideHeader:function(t){return t.each(function(){_38a(this,!1)})},showTool:function(t){return t.each(function(){_38d(this,!0)})},hideTool:function(t){return t.each(function(){_38d(this,!1)})},scrollBy:function(t,e){return t.each(function(){var t=$(this).tabs("options"),n=$(this).find(">div.tabs-header>div.tabs-wrap"),r=Math.min(n._scrollLeft()+e,function(){var t=0,e=n.children("ul");return e.children("li").each(function(){t+=$(this).outerWidth(!0)}),t-n.width()+(e.outerWidth()-e.width())}());n.animate({scrollLeft:r},t.scrollDuration)})}},$.fn.tabs.parseOptions=function(t){return $.extend({},$.parser.parseOptions(t,["tools","toolPosition","tabPosition",{fit:"boolean",border:"boolean",plain:"boolean"},{headerWidth:"number",tabWidth:"number",tabHeight:"number",selected:"number"},{showHeader:"boolean",justified:"boolean",narrow:"boolean",pill:"boolean"}]))},$.fn.tabs.defaults={width:"auto",height:"auto",headerWidth:150,tabWidth:"auto",tabHeight:27,selected:0,showHeader:!0,plain:!1,fit:!1,border:!0,justified:!1,narrow:!1,pill:!1,tools:null,toolPosition:"right",tabPosition:"top",scrollIncrement:100,scrollDuration:400,onLoad:function(t){},onSelect:function(t,e){},onUnselect:function(t,e){},onBeforeClose:function(t,e){},onClose:function(t,e){},onAdd:function(t,e){},onUpdate:function(t,e){},onContextMenu:function(t,e,n){}}}($$),function(t){function e(e,n){function r(t,e){if(t.length&&s(t)){var n=t.panel("options");t.panel("resize",{width:l.width(),height:n.height});var r=t.panel("panel").outerHeight();t.panel("move",{left:0,top:"n"==e?0:l.height()-r}),c.height-=r,"n"==e&&(c.top+=r,!n.split&&n.border&&c.top--),!n.split&&n.border&&c.height++}}function i(t,e){if(t.length&&s(t)){var n=t.panel("options");t.panel("resize",{width:n.width,height:c.height});var r=t.panel("panel").outerWidth();t.panel("move",{left:"e"==e?l.width()-r:0,top:c.top}),c.width-=r,"w"==e&&(c.left+=r,!n.split&&n.border&&c.left--),!n.split&&n.border&&c.width++}}var o=t.data(e,"layout"),a=o.options,u=o.panels,l=t(e);n&&t.extend(a,{width:n.width,height:n.height}),"body"==e.tagName.toLowerCase()?l._size("fit"):l._size(a);var c={top:0,left:0,width:l.width(),height:l.height()};r(s(u.expandNorth)?u.expandNorth:u.north,"n"),r(s(u.expandSouth)?u.expandSouth:u.south,"s"),i(s(u.expandEast)?u.expandEast:u.east,"e"),i(s(u.expandWest)?u.expandWest:u.west,"w"),u.center.panel("resize",c)}function n(n){function i(e){var i=t.fn.layout.parsePanelOptions(e);"north,south,east,west,center".indexOf(i.region)>=0&&r(n,i,e)}var o=t(n);o.addClass("layout");var a=o.layout("options"),s=a.onAdd;a.onAdd=function(){},o.find(">div,>form>div").each(function(){i(this)}),a.onAdd=s,o.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>'),o.bind("_resize",function(r,i){return(t(this).hasClass("easyui-fluid")||i)&&e(n),!1})}function r(n,r,i){function a(e){var r="expand"+h.substring(0,1).toUpperCase()+h.substring(1),i=u.center,o="north"==h||"south"==h?"minHeight":"minWidth",a="north"==h||"south"==h?"maxHeight":"maxWidth",l="north"==h||"south"==h?"_outerHeight":"_outerWidth",c=t.parser.parseValue(a,u[h].panel("options")[a],t(n)),d=t.parser.parseValue(o,i.panel("options")[o],t(n)),f=i.panel("panel")[l]()-d;return s(u[r])?f+=u[r][l]()-1:f+=t(e)[l](),f>c&&(f=c),f}r.region=r.region||"center";var u=t.data(n,"layout").panels,l=t(n),h=r.region;if(!u[h].length){var d=t(i);d.length||(d=t("<div></div>").appendTo(l));var f=t.extend({},t.fn.layout.paneldefaults,{width:d.length?parseInt(d[0].style.width)||d.outerWidth():"auto",height:d.length?parseInt(d[0].style.height)||d.outerHeight():"auto",doSize:!1,collapsible:!0,onOpen:function(){var e=t(this).panel("header").children("div.panel-tool");e.children("a.panel-tool-collapse").hide();var r={north:"up",south:"down",east:"right",west:"left"};if(r[h]){var i="layout-button-"+r[h],a=e.children("a."+i);a.length||(a=t('<a href="javascript:;"></a>').addClass(i).appendTo(e)).bind("click",{dir:h},function(t){return o(n,t.data.dir),!1}),t(this).panel("options").collapsible?a.show():a.hide()}}},r,{cls:(r.cls||"")+" layout-panel layout-panel-"+h,bodyCls:(r.bodyCls||"")+" layout-body"});d.panel(f),u[h]=d;var p={north:"s",south:"n",east:"w",west:"e"},A=d.panel("panel");d.panel("options").split&&A.addClass("layout-split-"+h),A.resizable(t.extend({},{handles:p[h]||"",disabled:!d.panel("options").split,onStartResize:function(e){if(c=!0,"north"==h||"south"==h)r=t(">div.layout-split-proxy-v",n);else var r=t(">div.layout-split-proxy-h",n);var i={display:"block"};"north"==h?(i.top=parseInt(A.css("top"))+A.outerHeight()-r.height(),i.left=parseInt(A.css("left")),i.width=A.outerWidth(),i.height=r.height()):"south"==h?(i.top=parseInt(A.css("top")),i.left=parseInt(A.css("left")),i.width=A.outerWidth(),i.height=r.height()):"east"==h?(i.top=parseInt(A.css("top"))||0,i.left=parseInt(A.css("left"))||0,i.width=r.width(),i.height=A.outerHeight()):"west"==h&&(i.top=parseInt(A.css("top"))||0,i.left=A.outerWidth()-r.width(),i.width=r.width(),i.height=A.outerHeight()),r.css(i),t('<div class="layout-mask"></div>').css({left:0,top:0,width:l.width(),height:l.height()}).appendTo(l)},onResize:function(e){if("north"==h||"south"==h){var r=a(this);t(this).resizable("options").maxHeight=r;var i=t(">div.layout-split-proxy-v",n),o="north"==h?e.data.height-i.height():t(n).height()-e.data.height;i.css("top",o)}else{var s=a(this);t(this).resizable("options").maxWidth=s;var i=t(">div.layout-split-proxy-h",n),u="west"==h?e.data.width-i.width():t(n).width()-e.data.width;i.css("left",u)}return!1},onStopResize:function(t){l.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide(),d.panel("resize",t.data),e(n),c=!1,l.find(">div.layout-mask").remove()}},r)),l.layout("options").onAdd.call(n,h)}}function i(e,n){var r=t.data(e,"layout").panels;if(r[n].length){r[n].panel("destroy"),r[n]=t();var i="expand"+n.substring(0,1).toUpperCase()+n.substring(1);r[i]&&(r[i].panel("destroy"),r[i]=void 0),t(e).layout("options").onRemove.call(e,n)}}function o(e,n,r){function i(){var r=t(e),i=u.center.panel("options"),o=h.collapsedSize;if("east"==n){var a=l.panel("panel")._outerWidth(),c=i.width+a-o;return!h.split&&h.border||c++,{resizeC:{width:c},expand:{left:r.width()-a},expandP:{top:i.top,left:r.width()-o,width:o,height:i.height},collapse:{left:r.width(),top:i.top,height:i.height}}}if("west"==n){var a=l.panel("panel")._outerWidth(),c=i.width+a-o;return!h.split&&h.border||c++,{resizeC:{width:c,left:o-1},expand:{left:0},expandP:{left:0,top:i.top,width:o,height:i.height},collapse:{left:-a,top:i.top,height:i.height}}}if("north"==n){var d=l.panel("panel")._outerHeight(),f=i.height;return s(u.expandNorth)||(f+=d-o+(h.split||!h.border?1:0)),u.east.add(u.west).add(u.expandEast).add(u.expandWest).panel("resize",{top:o-1,height:f}),{resizeC:{top:o-1,height:f},expand:{top:0},expandP:{top:0,left:0,width:r.width(),height:o},collapse:{top:-d,width:r.width()}}}if("south"==n){var d=l.panel("panel")._outerHeight(),f=i.height;return s(u.expandSouth)||(f+=d-o+(h.split||!h.border?1:0)),u.east.add(u.west).add(u.expandEast).add(u.expandWest).panel("resize",{height:f}),{resizeC:{height:f},expand:{top:r.height()-d},expandP:{top:r.height()-o,left:0,width:r.width(),height:o},collapse:{top:r.height(),width:r.width()}}}}void 0==r&&(r="normal");var u=t.data(e,"layout").panels,l=u[n],h=l.panel("options");if(0!=h.onBeforeCollapse.call(l)){var d="expand"+n.substring(0,1).toUpperCase()+n.substring(1);if(!u[d]){u[d]=function(r){var i={east:"left",west:"right",north:"down",south:"up"},o="north"==h.region||"south"==h.region,s="layout-button-"+i[r],u=t("<div></div>").appendTo(e);if(u.panel(t.extend({},t.fn.layout.paneldefaults,{cls:"layout-expand layout-expand-"+r,title:"&nbsp;",titleDirection:h.titleDirection,iconCls:h.hideCollapsedContent?null:h.iconCls,closed:!0,minWidth:0,minHeight:0,doSize:!1,region:h.region,collapsedSize:h.collapsedSize,noheader:!o&&h.hideExpandTool,tools:o&&h.hideExpandTool?null:[{iconCls:s,handler:function(){return a(e,n),!1}}],onResize:function(){var e=t(this).children(".layout-expand-title");if(e.length){e._outerWidth(t(this).height());var n=(t(this).width()-Math.min(e._outerWidth(),e._outerHeight()))/2,r=Math.max(e._outerWidth(),e._outerHeight());e.hasClass("layout-expand-title-down")&&(n+=Math.min(e._outerWidth(),e._outerHeight()),r=0),e.css({left:n+"px",top:r+"px"})}}})),!h.hideCollapsedContent){var l="function"==typeof h.collapsedContent?h.collapsedContent.call(u[0],h.title):h.collapsedContent;o?u.panel("setTitle",l):u.html(l)}return u.panel("panel").hover(function(){t(this).addClass("layout-expand-over")},function(){t(this).removeClass("layout-expand-over")}),u}(n);var f=u[d].panel("panel");h.expandMode?f.bind("click",function(){if("dock"==h.expandMode)a(e,n);else{l.panel("expand",!1).panel("open");var r=i();l.panel("resize",r.collapse),l.panel("panel").animate(r.expand,function(){t(this).unbind(".layout").bind("mouseleave.layout",{region:n},function(n){1!=c&&(t("body>div.combo-p>div.combo-panel:visible").length||o(e,n.data.region))}),t(e).layout("options").onExpand.call(e,n)})}return!1}):f.css("cursor","default")}var p=i();s(u[d])||u.center.panel("resize",p.resizeC),l.panel("panel").animate(p.collapse,r,function(){l.panel("collapse",!1).panel("close"),u[d].panel("open").panel("resize",p.expandP),t(this).unbind(".layout"),t(e).layout("options").onCollapse.call(e,n)})}}function a(n,r){var i=t.data(n,"layout").panels,o=i[r];if(0!=o.panel("options").onBeforeExpand.call(o)){var a="expand"+r.substring(0,1).toUpperCase()+r.substring(1);if(i[a]){i[a].panel("close"),o.panel("panel").stop(!0,!0),o.panel("expand",!1).panel("open");var s=function(){var e=t(n),a=i.center.panel("options");return"east"==r&&i.expandEast?{collapse:{left:e.width(),top:a.top,height:a.height},expand:{left:e.width()-o.panel("panel")._outerWidth()}}:"west"==r&&i.expandWest?{collapse:{left:-o.panel("panel")._outerWidth(),top:a.top,height:a.height},expand:{left:0}}:"north"==r&&i.expandNorth?{collapse:{top:-o.panel("panel")._outerHeight(),width:e.width()},expand:{top:0}}:"south"==r&&i.expandSouth?{collapse:{top:e.height(),width:e.width()},expand:{top:e.height()-o.panel("panel")._outerHeight()}}:void 0}();o.panel("resize",s.collapse),o.panel("panel").animate(s.expand,function(){e(n),t(n).layout("options").onExpand.call(n,r)})}}}function s(t){return!!t&&(!!t.length&&t.panel("panel").is(":visible"))}function u(e){function n(t){var n=a[t];n.length&&n.panel("options").collapsed&&o(e,t,0)}var r=t.data(e,"layout"),i=r.options,a=r.panels,s=i.onCollapse;i.onCollapse=function(){},n("east"),n("west"),n("north"),n("south"),i.onCollapse=s}function l(n,r,i){var o=t(n).layout("panel",r);o.panel("options").split=i;var a="layout-split-"+r,s=o.panel("panel").removeClass(a);i&&s.addClass(a),s.resizable({disabled:!i}),e(n)}var c=!1;t.fn.layout=function(r,i){return"string"==typeof r?t.fn.layout.methods[r](this,i):(r=r||{},this.each(function(){var i=t.data(this,"layout");if(i)t.extend(i.options,r);else{var o=t.extend({},t.fn.layout.defaults,t.fn.layout.parseOptions(this),r);t.data(this,"layout",{options:o,panels:{center:t(),north:t(),south:t(),east:t(),west:t()}}),n(this)}e(this),u(this)}))},t.fn.layout.methods={options:function(e){return t.data(e[0],"layout").options},resize:function(t,n){return t.each(function(){e(this,n)})},panel:function(e,n){return t.data(e[0],"layout").panels[n]},collapse:function(t,e){return t.each(function(){o(this,e)})},expand:function(t,e){return t.each(function(){a(this,e)})},add:function(n,i){return n.each(function(){r(this,i),e(this),t(this).layout("panel",i.region).panel("options").collapsed&&o(this,i.region,0)})},remove:function(t,n){return t.each(function(){i(this,n),e(this)})},split:function(t,e){return t.each(function(){l(this,e,!0)})},unsplit:function(t,e){return t.each(function(){l(this,e,!1)})}},t.fn.layout.parseOptions=function(e){return t.extend({},t.parser.parseOptions(e,[{fit:"boolean"}]))},t.fn.layout.defaults={fit:!1,onExpand:function(t){},onCollapse:function(t){},onAdd:function(t){},onRemove:function(t){}},t.fn.layout.parsePanelOptions=function(e){t(e);return t.extend({},t.fn.panel.parseOptions(e),t.parser.parseOptions(e,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))},t.fn.layout.paneldefaults=t.extend({},t.fn.panel.defaults,{region:null,split:!1,collapsedSize:28,expandMode:"float",hideExpandTool:!1,hideCollapsedContent:!0,collapsedContent:function(e){var n=t(this).panel("options");if("north"==n.region||"south"==n.region)return e;var r=[];return n.iconCls&&r.push('<div class="panel-icon '+n.iconCls+'"></div>'),r.push('<div class="panel-title layout-expand-title'),r.push(" layout-expand-title-"+n.titleDirection),r.push(n.iconCls?" layout-expand-with-icon":""),r.push('">'),r.push(e),r.push("</div>"),r.join("")},minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4})}($$),function($){function init(t){function e(t){var n=[];return t.addClass("menu"),n.push(t),t.hasClass("menu-content")||t.children("div").each(function(){var t=$(this).children("div");if(t.length){t.appendTo("body"),this.submenu=t;var r=e(t);n=n.concat(r)}}),n}var n=$.data(t,"menu").options;$(t).addClass("menu-top"),n.inline?$(t).addClass("menu-inline"):$(t).appendTo("body"),$(t).bind("_resize",function(e,n){return($(this).hasClass("easyui-fluid")||n)&&$(t).menu("resize",t),!1});for(var r=e($(t)),i=0;i<r.length;i++)_41d(t,r[i])}function _41d(t,e){var n=$(e).addClass("menu");n.data("menu")||n.data("menu",{options:$.parser.parseOptions(n[0],["width","height"])}),n.hasClass("menu-content")||(n.children("div").each(function(){_41f(t,this)}),$('<div class="menu-line"></div>').prependTo(n)),_420(t,n),n.hasClass("menu-inline")||n.hide(),_421(t,n)}function _41f(_422,div,_423){var item=$(div),_424=$.extend({},$.parser.parseOptions(item[0],["id","name","iconCls","href",{separator:"boolean"}]),{disabled:!!item.attr("disabled")||void 0,text:$.trim(item.html()),onclick:item[0].onclick},_423||{});_424.onclick=_424.onclick||_424.handler||null,item.data("menuitem",{options:_424}),_424.separator&&item.addClass("menu-sep"),item.hasClass("menu-sep")||(item.addClass("menu-item"),item.empty().append($('<div class="menu-text"></div>').html(_424.text)),_424.iconCls&&$('<div class="menu-icon"></div>').addClass(_424.iconCls).appendTo(item),_424.id&&item.attr("id",_424.id),_424.onclick&&("string"==typeof _424.onclick?item.attr("onclick",_424.onclick):item[0].onclick=eval(_424.onclick)),_424.disabled&&_425(_422,item[0],!0),item[0].submenu&&$('<div class="menu-rightarrow"></div>').appendTo(item))}function _420(t,e){var n=$.data(t,"menu").options,r=e.attr("style")||"",i=e.is(":visible");e.css({display:"block",left:-1e4,height:"auto",overflow:"hidden"}),e.find(".menu-item").each(function(){$(this)._outerHeight(n.itemHeight),$(this).find(".menu-text").css({height:n.itemHeight-2+"px",lineHeight:n.itemHeight-2+"px"})}),e.removeClass("menu-noline").addClass(n.noline?"menu-noline":"");var o=e.data("menu").options,a=o.width,s=o.height;isNaN(parseInt(a))&&(a=0,e.find("div.menu-text").each(function(){a<$(this).outerWidth()&&(a=$(this).outerWidth())}),a=a?a+40:"");var u=e.outerHeight();if(isNaN(parseInt(s)))if(s=u,e.hasClass("menu-top")&&n.alignTo){var l=$(n.alignTo),c=l.offset().top-$(document).scrollTop(),h=$(window)._outerHeight()+$(document).scrollTop()-l.offset().top-l._outerHeight();s=Math.min(s,Math.max(c,h))}else s>$(window)._outerHeight()&&(s=$(window).height());e.attr("style",r),e.show(),e._size($.extend({},o,{width:a,height:s,minWidth:o.minWidth||n.minWidth,maxWidth:o.maxWidth||n.maxWidth})),e.find(".easyui-fluid").triggerHandler("_resize",[!0]),e.css("overflow",e.outerHeight()<u?"auto":"hidden"),e.children("div.menu-line")._outerHeight(u-2),i||e.hide()}function _421(t,e){var n=$.data(t,"menu").options;e.unbind(".menu");for(var r in n.events)e.bind(r+".menu",{target:t},n.events[r])}function _430(t){var e=t.data.target,n=$.data(e,"menu");n.timer&&(clearTimeout(n.timer),n.timer=null)}function _433(t){var e=t.data.target,n=$.data(e,"menu");n.options.hideOnUnhover&&(n.timer=setTimeout(function(){_436(e,$(e).hasClass("menu-inline"))},n.options.duration))}function _437(t){var e=t.data.target,n=$(t.target).closest(".menu-item");if(n.length){if(n.siblings().each(function(){this.submenu&&_416(this.submenu),$(this).removeClass("menu-active")}),n.addClass("menu-active"),n.hasClass("menu-item-disabled"))return void n.addClass("menu-active-disabled");var r=n[0].submenu;r&&$(e).menu("show",{menu:r,parent:n})}}function _43a(t){var e=$(t.target).closest(".menu-item");if(e.length){e.removeClass("menu-active menu-active-disabled");var n=e[0].submenu;n?t.pageX>=parseInt(n.css("left"))?e.addClass("menu-active"):_416(n):e.removeClass("menu-active")}}function _43c(t){var e=t.data.target,n=$(t.target).closest(".menu-item");if(n.length){var r=$(e).data("menu").options,i=n.data("menuitem").options;if(i.disabled)return;n[0].submenu||(_436(e,r.inline),i.href&&(location.href=i.href)),n.trigger("mouseenter"),r.onClick.call(e,$(e).menu("getItem",n[0]))}}function _436(t,e){var n=$.data(t,"menu");return n&&$(t).is(":visible")&&(_416($(t)),e?$(t).show():n.options.onHide.call(t)),!1}function _442(t,e){function n(t,e){return t+a.outerHeight()>$(window)._outerHeight()+$(document).scrollTop()&&(t=e?$(e).offset().top-a._outerHeight():$(window)._outerHeight()+$(document).scrollTop()-a.outerHeight()),t<0&&(t=0),t}e=e||{};var r,i,o=$.data(t,"menu").options,a=$(e.menu||t);if($(t).menu("resize",a[0]),a.hasClass("menu-top")){if($.extend(o,e),r=o.left,i=o.top,o.alignTo){var s=$(o.alignTo);r=s.offset().left,i=s.offset().top+s._outerHeight(),"right"==o.align&&(r+=s.outerWidth()-a.outerWidth())}r+a.outerWidth()>$(window)._outerWidth()+$(document)._scrollLeft()&&(r=$(window)._outerWidth()+$(document).scrollLeft()-a.outerWidth()-5),r<0&&(r=0),i=n(i,o.alignTo)}else{var u=e.parent;(r=u.offset().left+u.outerWidth()-2)+a.outerWidth()+5>$(window)._outerWidth()+$(document).scrollLeft()&&(r=u.offset().left-a.outerWidth()+2),i=n(u.offset().top-3)}a.css(o.position.call(t,a[0],r,i)),a.show(0,function(){a[0].shadow||(a[0].shadow=$('<div class="menu-shadow"></div>').insertAfter(a)),a[0].shadow.css({display:a.hasClass("menu-inline")?"none":"block",zIndex:$.fn.menu.defaults.zIndex++,left:a.css("left"),top:a.css("top"),width:a.outerWidth(),height:a.outerHeight()}),a.css("z-index",$.fn.menu.defaults.zIndex++),a.hasClass("menu-top")&&o.onShow.call(t)})}function _416(t){t&&t.length&&(!function(t){t.stop(!0,!0),t[0].shadow&&t[0].shadow.hide(),t.hide()}(t),t.find("div.menu-item").each(function(){this.submenu&&_416(this.submenu),$(this).removeClass("menu-active")}))}function _449(t,e){function n(o){o.children("div.menu-item").each(function(){var o=$(t).menu("getItem",this),a=i.empty().html(o.text).text();e==$.trim(a)?r=o:this.submenu&&!r&&n(this.submenu)})}var r=null,i=$("<div></div>");return n($(t)),i.remove(),r}function _425(t,e,n){var r=$(e);if(r.hasClass("menu-item")){var i=r.data("menuitem").options;i.disabled=n,n?(r.addClass("menu-item-disabled"),r[0].onclick=null):(r.removeClass("menu-item-disabled"),r[0].onclick=i.onclick)}}function _44f(t,e){$.data(t,"menu").options;var n=$(t);if(e.parent){if(!e.parent.submenu){var r=$("<div></div>").appendTo("body");e.parent.submenu=r,$('<div class="menu-rightarrow"></div>').appendTo(e.parent),_41d(t,r)}n=e.parent.submenu}_41f(t,$("<div></div>").appendTo(n),e)}function _453(t,e){function n(t){if(t.submenu){t.submenu.children("div.menu-item").each(function(){n(this)});var e=t.submenu[0].shadow;e&&e.remove(),t.submenu.remove()}$(t).remove()}n(e)}function _458(t,e,n){var r=$(e).parent();n?$(e).show():$(e).hide(),_420(t,r)}function _45c(t){$(t).children("div.menu-item").each(function(){_453(t,this)}),t.shadow&&t.shadow.remove(),$(t).remove()}$(function(){$(document).unbind(".menu").bind("mousedown.menu",function(t){$(t.target).closest("div.menu,div.combo-p").length||($("body>div.menu-top:visible").not(".menu-inline").menu("hide"),_416($("body>div.menu:visible").not(".menu-inline")))})}),$.fn.menu=function(t,e){return"string"==typeof t?$.fn.menu.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"menu");e?$.extend(e.options,t):(e=$.data(this,"menu",{options:$.extend({},$.fn.menu.defaults,$.fn.menu.parseOptions(this),t)}),init(this)),$(this).css({left:e.options.left,top:e.options.top})}))},$.fn.menu.methods={options:function(t){return $.data(t[0],"menu").options},show:function(t,e){return t.each(function(){_442(this,e)})},hide:function(t){return t.each(function(){_436(this)})},destroy:function(t){return t.each(function(){_45c(this)})},setText:function(t,e){return t.each(function(){$(e.target).data("menuitem").options.text=e.text,$(e.target).children("div.menu-text").html(e.text)})},setIcon:function(t,e){return t.each(function(){$(e.target).data("menuitem").options.iconCls=e.iconCls,$(e.target).children("div.menu-icon").remove(),e.iconCls&&$('<div class="menu-icon"></div>').addClass(e.iconCls).appendTo(e.target)})},getItem:function(t,e){var n=$(e).data("menuitem").options;return $.extend({},n,{target:$(e)[0]})},findItem:function(t,e){return _449(t[0],e)},appendItem:function(t,e){return t.each(function(){_44f(this,e)})},removeItem:function(t,e){return t.each(function(){_453(this,e)})},enableItem:function(t,e){return t.each(function(){_425(0,e,!1)})},disableItem:function(t,e){return t.each(function(){_425(0,e,!0)})},showItem:function(t,e){return t.each(function(){_458(this,e,!0)})},hideItem:function(t,e){return t.each(function(){_458(this,e,!1)})},resize:function(t,e){return t.each(function(){_420(this,$(e?e:this))})}},$.fn.menu.parseOptions=function(t){return $.extend({},$.parser.parseOptions(t,[{minWidth:"number",itemHeight:"number",duration:"number",hideOnUnhover:"boolean"},{fit:"boolean",inline:"boolean",noline:"boolean"}]))},$.fn.menu.defaults={zIndex:11e4,left:0,top:0,alignTo:null,align:"left",minWidth:120,itemHeight:22,duration:100,hideOnUnhover:!0,inline:!1,fit:!1,noline:!1,events:{mouseenter:_430,mouseleave:_433,mouseover:_437,mouseout:_43a,click:_43c},position:function(t,e,n){return{left:e,top:n}},onShow:function(){},onHide:function(){},onClick:function(t){}}}($$),function(t){function e(e){var n=t.data(e,"menubutton").options,r=t(e);if(r.linkbutton(n),n.hasDownArrow){r.removeClass(n.cls.btn1+" "+n.cls.btn2).addClass("m-btn"),r.removeClass("m-btn-small m-btn-medium m-btn-large").addClass("m-btn-"+n.size);var i=r.find(".l-btn-left");t("<span></span>").addClass(n.cls.arrow).appendTo(i),t("<span></span>").addClass("m-btn-line").appendTo(i)}if(t(e).menubutton("resize"),n.menu){t(n.menu).menu({duration:n.duration});var o=t(n.menu).menu("options"),a=o.onShow,s=o.onHide;t.extend(o,{onShow:function(){var e=t(this).menu("options"),n=t(e.alignTo),r=n.menubutton("options");n.addClass(1==r.plain?r.cls.btn2:r.cls.btn1),a.call(this)},onHide:function(){var e=t(this).menu("options"),n=t(e.alignTo),r=n.menubutton("options");n.removeClass(1==r.plain?r.cls.btn2:r.cls.btn1),s.call(this)}})}}function n(e){function n(){return t(e).linkbutton("options").disabled}var i=t.data(e,"menubutton").options,o=t(e),a=o.find("."+i.cls.trigger);a.length||(a=o),a.unbind(".menubutton");var s=null;a.bind("click.menubutton",function(){if(!n())return r(e),!1}).bind("mouseenter.menubutton",function(){if(!n())return s=setTimeout(function(){r(e)},i.duration),!1}).bind("mouseleave.menubutton",function(){s&&clearTimeout(s),t(i.menu).triggerHandler("mouseleave")})}function r(e){var n=t(e).menubutton("options");if(!n.disabled&&n.menu){t("body>div.menu-top").menu("hide");var r=t(e),i=t(n.menu);i.length&&(i.menu("options").alignTo=r,i.menu("show",{alignTo:r,align:n.menuAlign})),r.blur()}}t.fn.menubutton=function(r,i){if("string"==typeof r){var o=t.fn.menubutton.methods[r];return o?o(this,i):this.linkbutton(r,i)}return r=r||{},this.each(function(){var i=t.data(this,"menubutton");i?t.extend(i.options,r):(t.data(this,"menubutton",{options:t.extend({},t.fn.menubutton.defaults,t.fn.menubutton.parseOptions(this),r)}),t(this).removeAttr("disabled")),e(this),n(this)})},t.fn.menubutton.methods={options:function(e){var n=e.linkbutton("options");return t.extend(t.data(e[0],"menubutton").options,{toggle:n.toggle,selected:n.selected,disabled:n.disabled})},destroy:function(e){return e.each(function(){var e=t(this).menubutton("options");e.menu&&t(e.menu).menu("destroy"),t(this).remove()})}},t.fn.menubutton.parseOptions=function(e){t(e);return t.extend({},t.fn.linkbutton.parseOptions(e),t.parser.parseOptions(e,["menu",{plain:"boolean",hasDownArrow:"boolean",duration:"number"}]))},t.fn.menubutton.defaults=t.extend({},t.fn.linkbutton.defaults,{plain:!0,hasDownArrow:!0,menu:null,menuAlign:"left",duration:100,cls:{btn1:"m-btn-active",btn2:"m-btn-plain-active",arrow:"m-btn-downarrow",trigger:"m-btn"}})}($$),function(t){function e(e){var n=t.data(e,"splitbutton").options;t(e).menubutton(n),t(e).addClass("s-btn")}t.fn.splitbutton=function(n,r){if("string"==typeof n){var i=t.fn.splitbutton.methods[n];return i?i(this,r):this.menubutton(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"splitbutton");r?t.extend(r.options,n):(t.data(this,"splitbutton",{options:t.extend({},t.fn.splitbutton.defaults,t.fn.splitbutton.parseOptions(this),n)}),t(this).removeAttr("disabled")),e(this)})},t.fn.splitbutton.methods={options:function(e){var n=e.menubutton("options"),r=t.data(e[0],"splitbutton").options;return t.extend(r,{disabled:n.disabled,toggle:n.toggle,selected:n.selected}),r}},t.fn.splitbutton.parseOptions=function(e){t(e);return t.extend({},t.fn.linkbutton.parseOptions(e),t.parser.parseOptions(e,["menu",{plain:"boolean",duration:"number"}]))},t.fn.splitbutton.defaults=t.extend({},t.fn.linkbutton.defaults,{plain:!0,menu:null,duration:100,cls:{btn1:"m-btn-active s-btn-active",btn2:"m-btn-plain-active s-btn-plain-active",arrow:"m-btn-downarrow",trigger:"m-btn-line"}})}($$),function(t){function e(e){var r=t('<span class="switchbutton"><span class="switchbutton-inner"><span class="switchbutton-on"></span><span class="switchbutton-handle"></span><span class="switchbutton-off"></span><input class="switchbutton-value" type="checkbox"></span></span>').insertAfter(e),i=t(e);i.addClass("switchbutton-f").hide();var o=i.attr("name");return o&&(i.removeAttr("name").attr("switchbuttonName",o),r.find(".switchbutton-value").attr("name",o)),r.bind("_resize",function(r,i){return(t(this).hasClass("easyui-fluid")||i)&&n(e),!1}),r}function n(e,n){var r=t.data(e,"switchbutton"),o=r.options,a=r.switchbutton;n&&t.extend(o,n);var s=a.is(":visible");s||a.appendTo("body"),a._size(o);var u=a.width(),l=a.height(),u=a.outerWidth(),l=a.outerHeight(),c=parseInt(o.handleWidth)||a.height(),h=2*u-c;a.find(".switchbutton-inner").css({width:h+"px",height:l+"px",lineHeight:l+"px"}),a.find(".switchbutton-handle")._outerWidth(c)._outerHeight(l).css({marginLeft:-c/2+"px"}),a.find(".switchbutton-on").css({width:u-c/2+"px",textIndent:(o.reversed?"":"-")+c/2+"px"}),a.find(".switchbutton-off").css({width:u-c/2+"px",textIndent:(o.reversed?"-":"")+c/2+"px"}),o.marginWidth=u-c,i(e,o.checked,!1),s||a.insertAfter(e)}function r(e){var n=t.data(e,"switchbutton"),r=n.options,o=n.switchbutton,s=o.find(".switchbutton-inner"),u=s.find(".switchbutton-on").html(r.onText),l=s.find(".switchbutton-off").html(r.offText),c=s.find(".switchbutton-handle").html(r.handleText);r.reversed?(l.prependTo(s),u.insertAfter(c)):(u.prependTo(s),l.insertAfter(c)),o.find(".switchbutton-value")._propAttr("checked",r.checked),o.removeClass("switchbutton-disabled").addClass(r.disabled?"switchbutton-disabled":""),o.removeClass("switchbutton-reversed").addClass(r.reversed?"switchbutton-reversed":""),i(e,r.checked),a(e,r.readonly),t(e).switchbutton("setValue",r.value)}function i(e,n,r){var i=t.data(e,"switchbutton"),o=i.options;o.checked=n;var a=i.switchbutton.find(".switchbutton-inner"),s=a.find(".switchbutton-on"),u=o.reversed?o.checked?o.marginWidth:0:o.checked?0:o.marginWidth,l={};l["margin-"+s.css("float").toLowerCase()]=-u+"px",r?a.animate(l,200):a.css(l);var c=a.find(".switchbutton-value"),h=c.is(":checked");t(e).add(c)._propAttr("checked",o.checked),h!=o.checked&&o.onChange.call(e,o.checked)}function o(e,n){var r=t.data(e,"switchbutton"),i=r.options,o=r.switchbutton,a=o.find(".switchbutton-value");n?(i.disabled=!0,t(e).add(a).attr("disabled","disabled"),o.addClass("switchbutton-disabled")):(i.disabled=!1,t(e).add(a).removeAttr("disabled"),o.removeClass("switchbutton-disabled"))}function a(e,n){var r=t.data(e,"switchbutton"),i=r.options;i.readonly=void 0==n||n,r.switchbutton.removeClass("switchbutton-readonly").addClass(i.readonly?"switchbutton-readonly":"")}function s(e){var n=t.data(e,"switchbutton"),r=n.options;n.switchbutton.unbind(".switchbutton").bind("click.switchbutton",function(){r.disabled||r.readonly||i(e,!r.checked,!0)})}t.fn.switchbutton=function(i,o){return"string"==typeof i?t.fn.switchbutton.methods[i](this,o):(i=i||{},this.each(function(){var o=t.data(this,"switchbutton");o?t.extend(o.options,i):o=t.data(this,"switchbutton",{options:t.extend({},t.fn.switchbutton.defaults,t.fn.switchbutton.parseOptions(this),i),switchbutton:e(this)}),o.options.originalChecked=o.options.checked,r(this),n(this),s(this)}))},t.fn.switchbutton.methods={options:function(e){var n=e.data("switchbutton");return t.extend(n.options,{value:n.switchbutton.find(".switchbutton-value").val()})},resize:function(t,e){return t.each(function(){n(this,e)})},enable:function(t){return t.each(function(){o(this,!1)})},disable:function(t){return t.each(function(){o(this,!0)})},readonly:function(t,e){return t.each(function(){a(this,e)})},check:function(t){return t.each(function(){i(this,!0)})},uncheck:function(t){return t.each(function(){i(this,!1)})},clear:function(t){return t.each(function(){i(this,!1)})},reset:function(e){return e.each(function(){i(this,t(this).switchbutton("options").originalChecked)})},setValue:function(e,n){return e.each(function(){t(this).val(n),t.data(this,"switchbutton").switchbutton.find(".switchbutton-value").val(n)})}},t.fn.switchbutton.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,["onText","offText","handleText",{handleWidth:"number",reversed:"boolean"}]),{value:n.val()||void 0,checked:!!n.attr("checked")||void 0,disabled:!!n.attr("disabled")||void 0,readonly:!!n.attr("readonly")||void 0})},t.fn.switchbutton.defaults={handleWidth:"auto",width:60,height:26,checked:!1,disabled:!1,readonly:!1,reversed:!1,onText:"ON",offText:"OFF",handleText:"",value:"on",onChange:function(t){}}}($$),function($){function init(t){$(t).addClass("validatebox-text")}function _4b7(t){var e=$.data(t,"validatebox");e.validating=!1,e.vtimer&&clearTimeout(e.vtimer),e.ftimer&&clearTimeout(e.ftimer),$(t).tooltip("destroy"),$(t).unbind(),$(t).remove()}function _4ba(t){var e=$.data(t,"validatebox").options;if($(t).unbind(".validatebox"),!e.novalidate&&!e.disabled)for(var n in e.events)$(t).bind(n+".validatebox",{target:t},e.events[n])}function _4bd(t){var e=t.data.target,n=$.data(e,"validatebox"),r=n.options;$(e).attr("readonly")||(n.validating=!0,n.value=r.val(e),function(){if($(e).is(":visible")||(n.validating=!1),n.validating){var t=r.val(e);n.value!=t?(n.value=t,n.vtimer&&clearTimeout(n.vtimer),n.vtimer=setTimeout(function(){$(e).validatebox("validate")},r.delay)):n.message&&r.err(e,n.message),n.ftimer=setTimeout(arguments.callee,r.interval)}}())}function _4c1(t){var e=t.data.target,n=$.data(e,"validatebox"),r=n.options;n.validating=!1,n.vtimer&&(clearTimeout(n.vtimer),n.vtimer=void 0),n.ftimer&&(clearTimeout(n.ftimer),n.ftimer=void 0),r.validateOnBlur&&setTimeout(function(){$(e).validatebox("validate")},0),r.err(e,n.message,"hide")}function _4c4(t){var e=t.data.target,n=$.data(e,"validatebox");n.options.err(e,n.message,"show")}function _4c7(t){var e=t.data.target,n=$.data(e,"validatebox");n.validating||n.options.err(e,n.message,"hide")}function _4ca(t,e,n){var r=$.data(t,"validatebox"),i=r.options,o=$(t);"hide"!=n&&e?(o.is(":focus")&&r.validating||"show"==n)&&o.tooltip($.extend({},i.tipOptions,{content:e,position:i.tipPosition,deltaX:i.deltaX,deltaY:i.deltaY})).tooltip("show"):o.tooltip("hide")}function _4cf(_4d0){function _4d4(t){_4d1.message=t}function _4d5(_4d6,_4d7){var _4d8=opts.val(_4d0),_4d9=/([a-zA-Z_]+)(.*)/.exec(_4d6),rule=opts.rules[_4d9[1]];if(rule&&_4d8){var _4da=_4d7||opts.validParams||eval(_4d9[2]);if(!rule.validator.call(_4d0,_4d8,_4da)){var _4db=rule.message;if(_4da)for(var i=0;i<_4da.length;i++)_4db=_4db.replace(new RegExp("\\{"+i+"\\}","g"),_4da[i]);return _4d4(opts.invalidMessage||_4db),!1}}return!0}function _4d3(){if(_4d4(""),!opts._validateOnCreate)return setTimeout(function(){opts._validateOnCreate=!0},0),!0;if(opts.novalidate||opts.disabled)return!0;if(opts.required&&""==opts.val(_4d0))return _4d4(opts.missingMessage),!1;if(opts.validType)if($.isArray(opts.validType)){for(var t=0;t<opts.validType.length;t++)if(!_4d5(opts.validType[t]))return!1}else if("string"==typeof opts.validType){if(!_4d5(opts.validType))return!1}else for(var e in opts.validType)if(!_4d5(e,opts.validType[e]))return!1;return!0}var _4d1=$.data(_4d0,"validatebox"),opts=_4d1.options,box=$(_4d0);opts.onBeforeValidate.call(_4d0);var _4d2=_4d3();return _4d2?box.removeClass("validatebox-invalid"):box.addClass("validatebox-invalid"),opts.err(_4d0,_4d1.message),opts.onValidate.call(_4d0,_4d2),_4d2}function _4de(t,e){var n=$.data(t,"validatebox").options;void 0!=e&&(n.disabled=e),n.disabled?$(t).addClass("validatebox-disabled").attr("disabled","disabled"):$(t).removeClass("validatebox-disabled").removeAttr("disabled")}function _4e1(t,e){var n=$.data(t,"validatebox").options;n.readonly=void 0==e||e,n.readonly||!n.editable?($(t).triggerHandler("blur.validatebox"),$(t).addClass("validatebox-readonly").attr("readonly","readonly")):$(t).removeClass("validatebox-readonly").removeAttr("readonly")}$.fn.validatebox=function(t,e){return"string"==typeof t?$.fn.validatebox.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"validatebox");e?$.extend(e.options,t):(init(this),e=$.data(this,"validatebox",{options:$.extend({},$.fn.validatebox.defaults,$.fn.validatebox.parseOptions(this),t)})),e.options._validateOnCreate=e.options.validateOnCreate,_4de(this,e.options.disabled),_4e1(this,e.options.readonly),_4ba(this),_4cf(this)}))},$.fn.validatebox.methods={options:function(t){return $.data(t[0],"validatebox").options},destroy:function(t){return t.each(function(){_4b7(this)})},validate:function(t){return t.each(function(){_4cf(this)})},isValid:function(t){return _4cf(t[0])},enableValidation:function(t){return t.each(function(){$(this).validatebox("options").novalidate=!1,_4ba(this),_4cf(this)})},disableValidation:function(t){return t.each(function(){$(this).validatebox("options").novalidate=!0,_4ba(this),_4cf(this)})},resetValidation:function(t){return t.each(function(){var t=$(this).validatebox("options");t._validateOnCreate=t.validateOnCreate,_4cf(this)})},enable:function(t){return t.each(function(){_4de(this,!1),_4ba(this),_4cf(this)})},disable:function(t){return t.each(function(){_4de(this,!0),_4ba(this),_4cf(this)})},readonly:function(t,e){return t.each(function(){_4e1(this,e),_4ba(this),_4cf(this)})}},$.fn.validatebox.parseOptions=function(t){var e=$(t);return $.extend({},$.parser.parseOptions(t,["validType","missingMessage","invalidMessage","tipPosition",{delay:"number",interval:"number",deltaX:"number"},{editable:"boolean",validateOnCreate:"boolean",validateOnBlur:"boolean"}]),{required:!!e.attr("required")||void 0,disabled:!!e.attr("disabled")||void 0,readonly:!!e.attr("readonly")||void 0,novalidate:void 0!=e.attr("novalidate")||void 0})},$.fn.validatebox.defaults={required:!1,validType:null,validParams:null,delay:200,interval:200,missingMessage:"This field is required.",invalidMessage:null,tipPosition:"right",deltaX:0,deltaY:0,novalidate:!1,editable:!0,disabled:!1,readonly:!1,validateOnCreate:!0,validateOnBlur:!1,events:{focus:_4bd,blur:_4c1,mouseenter:_4c4,mouseleave:_4c7,click:function(t){var e=$(t.data.target);"checkbox"!=e.attr("type")&&"radio"!=e.attr("type")||e.focus().validatebox("validate")}},val:function(t){return $(t).val()},err:function(t,e,n){_4ca(t,e,n)},tipOptions:{showEvent:"none",hideEvent:"none",showDelay:0,hideDelay:0,zIndex:"",onShow:function(){$(this).tooltip("tip").css({color:"#000",borderColor:"#CC9933",backgroundColor:"#FFFFCC"})},onHide:function(){$(this).tooltip("destroy")}},rules:{email:{validator:function(t){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},message:"Please enter a valid email address."},url:{validator:function(t){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},message:"Please enter a valid URL."},length:{validator:function(t,e){var n=$.trim(t).length;return n>=e[0]&&n<=e[1]},message:"Please enter a value between {0} and {1}."},remote:{validator:function(t,e){var n={};return n[e[1]]=t,"true"==$.ajax({url:e[0],dataType:"json",data:n,async:!1,cache:!1,type:"post"}).responseText},message:"Please fix this field."}},onBeforeValidate:function(){},onValidate:function(t){}}}($$),function(t){function e(e){t(e).addClass("textbox-f").hide();var n=t('<span class="textbox"><input class="textbox-text" autocomplete="off"><input type="hidden" class="textbox-value"></span>').insertAfter(e),r=t(e).attr("name");return r&&(n.find("input.textbox-value").attr("name",r),t(e).removeAttr("name").attr("textboxName",r)),n}function n(e){var n=t.data(e,"textbox"),r=n.options,i=n.textbox,a="_easyui_textbox_input"+ ++l;i.addClass(r.cls),i.find(".textbox-text").remove(),r.multiline?t('<textarea id="'+a+'" class="textbox-text" autocomplete="off"></textarea>').prependTo(i):t('<input id="'+a+'" type="'+r.type+'" class="textbox-text" autocomplete="off">').prependTo(i),t("#"+a).attr("tabindex",t(e).attr("tabindex")||"").css("text-align",e.style.textAlign||""),i.find(".textbox-addon").remove();var c=r.icons?t.extend(!0,[],r.icons):[];if(r.iconCls&&c.push({iconCls:r.iconCls,disabled:!0}),c.length){var h=t('<span class="textbox-addon"></span>').prependTo(i);h.addClass("textbox-addon-"+r.iconAlign);for(var d=0;d<c.length;d++)h.append('<a href="javascript:;" class="textbox-icon '+c[d].iconCls+'" icon-index="'+d+'" tabindex="-1"></a>')}i.find(".textbox-button").remove(),(r.buttonText||r.buttonIcon)&&t('<a href="javascript:;" class="textbox-button"></a>').prependTo(i).addClass("textbox-button-"+r.buttonAlign).linkbutton({text:r.buttonText,iconCls:r.buttonIcon,onClick:function(){var e=t(this).parent().prev();e.textbox("options").onClickButton.call(e[0])}}),r.label?"object"==typeof r.label?(n.label=t(r.label),n.label.attr("for",a)):(t(n.label).remove(),n.label=t('<label class="textbox-label"></label>').html(r.label),n.label.css("textAlign",r.labelAlign).attr("for",a),"after"==r.labelPosition?n.label.insertAfter(i):n.label.insertBefore(e),n.label.removeClass("textbox-label-left textbox-label-right textbox-label-top"),n.label.addClass("textbox-label-"+r.labelPosition)):t(n.label).remove(),o(e),s(e,r.disabled),u(e,r.readonly)}function r(e){var n=t.data(e,"textbox"),r=n.textbox;r.find(".textbox-text").validatebox("destroy"),r.remove(),t(n.label).remove(),t(e).remove()}function i(e,n){function r(t){return(a.iconAlign==t?f._outerWidth():0)+i(t)}function i(e){var n=0;return d.filter(".textbox-button-"+e).each(function(){n+="left"==e||"right"==e?t(this).outerWidth():t(this).outerHeight()}),n}var o=t.data(e,"textbox"),a=o.options,s=o.textbox,u=s.parent();if(n&&("object"==typeof n?t.extend(a,n):a.width=n),isNaN(parseInt(a.width))){var l=t(e).clone();l.css("visibility","hidden"),l.insertAfter(e),a.width=l.outerWidth(),l.remove()}var c=s.is(":visible");c||s.appendTo("body");var h=s.find(".textbox-text"),d=s.find(".textbox-button"),f=s.find(".textbox-addon"),p=f.find(".textbox-icon");"auto"==a.height&&h.css({margin:"",paddingTop:"",paddingBottom:"",height:"",lineHeight:""}),s._size(a,u),a.label&&a.labelPosition&&("top"==a.labelPosition?(o.label._size({width:"auto"==a.labelWidth?s.outerWidth():a.labelWidth},s),"auto"!=a.height&&s._size("height",s.outerHeight()-o.label.outerHeight())):(o.label._size({width:a.labelWidth,height:s.outerHeight()},s),a.multiline||o.label.css("lineHeight",o.label.height()+"px"),s._size("width",s.outerWidth()-o.label.outerWidth()))),"left"==a.buttonAlign||"right"==a.buttonAlign?d.linkbutton("resize",{height:s.height()}):d.linkbutton("resize",{width:"100%"});var A=s.width()-p.length*a.iconWidth-i("left")-i("right"),g="auto"==a.height?h.outerHeight():s.height()-i("top")-i("bottom");f.css(a.iconAlign,i(a.iconAlign)+"px"),f.css("top",i("top")+"px"),p.css({width:a.iconWidth+"px",height:g+"px"}),h.css({paddingLeft:e.style.paddingLeft||"",paddingRight:e.style.paddingRight||"",marginLeft:r("left"),marginRight:r("right"),marginTop:i("top"),marginBottom:i("bottom")}),a.multiline?(h.css({paddingTop:e.style.paddingTop||"",paddingBottom:e.style.paddingBottom||""}),h._outerHeight(g)):h.css({paddingTop:0,paddingBottom:0,height:g+"px",lineHeight:g+"px"}),h._outerWidth(A),a.onResizing.call(e,a.width,a.height),c||s.insertAfter(e),a.onResize.call(e,a.width,a.height)}function o(e){var n=t(e).textbox("options");t(e).textbox("textbox").validatebox(t.extend({},n,{deltaX:function(n){return t(e).textbox("getTipX",n)},deltaY:function(n){return t(e).textbox("getTipY",n)},onBeforeValidate:function(){n.onBeforeValidate.call(e);var r=t(this);r.is(":focus")||r.val()!==n.value&&(n.oldInputValue=r.val(),r.val(n.value))},onValidate:function(r){var i=t(this);void 0!=n.oldInputValue&&(i.val(n.oldInputValue),n.oldInputValue=void 0);var o=i.parent();r?o.removeClass("textbox-invalid"):o.addClass("textbox-invalid"),n.onValidate.call(e,r)}}))}function a(e){var n=t.data(e,"textbox"),r=n.options,o=n.textbox,a=o.find(".textbox-text");if(a.attr("placeholder",r.prompt),a.unbind(".textbox"),t(n.label).unbind(".textbox"),!r.disabled&&!r.readonly){n.label&&t(n.label).bind("click.textbox",function(n){r.hasFocusMe||(a.focus(),t(e).textbox("setSelectionRange",{start:0,end:a.val().length}))}),a.bind("blur.textbox",function(e){o.hasClass("textbox-focused")&&(r.value=t(this).val(),""==r.value?t(this).val(r.prompt).addClass("textbox-prompt"):t(this).removeClass("textbox-prompt"),o.removeClass("textbox-focused"))}).bind("focus.textbox",function(e){r.hasFocusMe=!0,o.hasClass("textbox-focused")||(t(this).val()!=r.value&&t(this).val(r.value),t(this).removeClass("textbox-prompt"),o.addClass("textbox-focused"))});for(var s in r.inputEvents)a.bind(s+".textbox",{target:e},r.inputEvents[s])}var u=o.find(".textbox-addon");u.unbind().bind("click",{target:e},function(n){var i=t(n.target).closest("a.textbox-icon:not(.textbox-icon-disabled)");if(i.length){var o=parseInt(i.attr("icon-index")),a=r.icons[o];a&&a.handler&&a.handler.call(i[0],n),r.onClickIcon.call(e,o)}}),u.find(".textbox-icon").each(function(e){var n=r.icons[e],i=t(this);!n||n.disabled||r.disabled||r.readonly?i.addClass("textbox-icon-disabled"):i.removeClass("textbox-icon-disabled")}),o.find(".textbox-button").linkbutton(r.disabled||r.readonly?"disable":"enable"),o.unbind(".textbox").bind("_resize.textbox",function(n,r){return(t(this).hasClass("easyui-fluid")||r)&&i(e),!1})}function s(e,n){var r=t.data(e,"textbox"),i=r.options,o=r.textbox,a=o.find(".textbox-text"),s=t(e).add(o.find(".textbox-value"));i.disabled=n,i.disabled?(a.blur(),a.validatebox("disable"),o.addClass("textbox-disabled"),s.attr("disabled","disabled"),t(r.label).addClass("textbox-label-disabled")):(a.validatebox("enable"),o.removeClass("textbox-disabled"),s.removeAttr("disabled"),t(r.label).removeClass("textbox-label-disabled"))}function u(e,n){var r=t.data(e,"textbox"),i=r.options,o=r.textbox,a=o.find(".textbox-text");i.readonly=void 0==n||n,i.readonly&&a.triggerHandler("blur.textbox"),a.validatebox("readonly",i.readonly),o.removeClass("textbox-readonly").addClass(i.readonly?"textbox-readonly":"")}var l=0;t.fn.textbox=function(r,o){if("string"==typeof r){var s=t.fn.textbox.methods[r];return s?s(this,o):this.each(function(){t(this).textbox("textbox").validatebox(r,o)})}return r=r||{},this.each(function(){var o=t.data(this,"textbox");o?(t.extend(o.options,r),void 0!=r.value&&(o.options.originalValue=r.value)):(o=t.data(this,"textbox",{options:t.extend({},t.fn.textbox.defaults,t.fn.textbox.parseOptions(this),r),textbox:e(this)})).options.originalValue=o.options.value,n(this),a(this),o.options.doSize&&i(this);var s=o.options.value;o.options.value="",t(this).textbox("initValue",s)})},t.fn.textbox.methods={options:function(e){return t.data(e[0],"textbox").options},cloneFrom:function(e,n){return e.each(function(){var e=t(this);if(!e.data("textbox")){t(n).data("textbox")||t(n).textbox();var r=t.extend(!0,{},t(n).textbox("options")),i=e.attr("name")||"";e.addClass("textbox-f").hide(),e.removeAttr("name").attr("textboxName",i);var s=t(n).next().clone().insertAfter(e),u="_easyui_textbox_input"+ ++l;s.find(".textbox-value").attr("name",i),s.find(".textbox-text").attr("id",u);var c=t(t(n).textbox("label")).clone();c.length&&(c.attr("for",u),"after"==r.labelPosition?c.insertAfter(e.next()):c.insertBefore(e)),t.data(this,"textbox",{options:r,textbox:s,label:c.length?c:void 0});var h=t(n).textbox("button");h.length&&e.textbox("button").linkbutton(t.extend(!0,{},h.linkbutton("options"))),a(this),o(this)}})},textbox:function(e){return t.data(e[0],"textbox").textbox.find(".textbox-text")},button:function(e){return t.data(e[0],"textbox").textbox.find(".textbox-button")},label:function(e){return t.data(e[0],"textbox").label},destroy:function(t){return t.each(function(){r(this)})},resize:function(t,e){return t.each(function(){i(this,e)})},disable:function(t){return t.each(function(){s(this,!0),a(this)})},enable:function(t){return t.each(function(){s(this,!1),a(this)})},readonly:function(t,e){return t.each(function(){u(this,e),a(this)})},isValid:function(t){return t.textbox("textbox").validatebox("isValid")},clear:function(e){return e.each(function(){t(this).textbox("setValue","")})},setText:function(e,n){return e.each(function(){var e=t(this).textbox("options"),r=t(this).textbox("textbox");n=void 0==n?"":String(n),t(this).textbox("getText")!=n&&r.val(n),e.value=n,r.is(":focus")||(n?r.removeClass("textbox-prompt"):r.val(e.prompt).addClass("textbox-prompt")),t(this).textbox("validate")})},initValue:function(e,n){return e.each(function(){var e=t.data(this,"textbox");t(this).textbox("setText",n),e.textbox.find(".textbox-value").val(n),t(this).val(n)})},setValue:function(e,n){return e.each(function(){var e=t.data(this,"textbox").options,r=t(this).textbox("getValue");t(this).textbox("initValue",n),r!=n&&(e.onChange.call(this,n,r),t(this).closest("form").trigger("_change",[this]))})},getText:function(t){var e=t.textbox("textbox");return e.is(":focus")?e.val():t.textbox("options").value},getValue:function(t){return t.data("textbox").textbox.find(".textbox-value").val()},reset:function(e){return e.each(function(){var e=t(this).textbox("options");t(this).textbox("textbox").val(e.originalValue),t(this).textbox("setValue",e.originalValue)})},getIcon:function(t,e){return t.data("textbox").textbox.find(".textbox-icon:eq("+e+")")},getTipX:function(t,e){var n=t.data("textbox"),r=n.options,i=n.textbox,o=i.find(".textbox-text"),e=e||r.tipPosition,a=i.offset(),s=o.offset(),u=i.outerWidth(),l=o.outerWidth();return"right"==e?u-l-s.left+a.left:"left"==e?a.left-s.left:(u-l-s.left+a.left)/2-(s.left-a.left)/2},getTipY:function(t,e){var n=t.data("textbox"),r=n.options,i=n.textbox,o=i.find(".textbox-text"),e=e||r.tipPosition,a=i.offset(),s=o.offset(),u=i.outerHeight(),l=o.outerHeight();return"left"==e||"right"==e?(u-l-s.top+a.top)/2-(s.top-a.top)/2:"bottom"==e?u-l-s.top+a.top:a.top-s.top},getSelectionStart:function(t){return t.textbox("getSelectionRange").start},getSelectionRange:function(t){var e=t.textbox("textbox")[0],n=0,r=0;if("number"==typeof e.selectionStart)n=e.selectionStart,r=e.selectionEnd;else if(e.createTextRange){var i=document.selection.createRange(),o=e.createTextRange();o.setEndPoint("EndToStart",i),r=(n=o.text.length)+i.text.length}return{start:n,end:r}},setSelectionRange:function(e,n){return e.each(function(){var e=t(this).textbox("textbox")[0],r=n.start,i=n.end;if(e.setSelectionRange)e.setSelectionRange(r,i);else if(e.createTextRange){var o=e.createTextRange();o.collapse(),o.moveEnd("character",i),o.moveStart("character",r),o.select()}})}},t.fn.textbox.parseOptions=function(e){var n=t(e);return t.extend({},t.fn.validatebox.parseOptions(e),t.parser.parseOptions(e,["prompt","iconCls","iconAlign","buttonText","buttonIcon","buttonAlign","label","labelPosition","labelAlign",{multiline:"boolean",iconWidth:"number",labelWidth:"number"}]),{value:n.val()||void 0,type:n.attr("type")?n.attr("type"):void 0})},t.fn.textbox.defaults=t.extend({},t.fn.validatebox.defaults,{doSize:!0,width:"auto",height:"auto",cls:null,prompt:"",value:"",type:"text",multiline:!1,icons:[],iconCls:null,iconAlign:"right",iconWidth:18,buttonText:"",buttonIcon:null,buttonAlign:"right",label:null,labelWidth:"auto",labelPosition:"before",labelAlign:"left",inputEvents:{blur:function(e){var n=t(e.data.target),r=n.textbox("options");n.textbox("getValue")!=r.value&&n.textbox("setValue",r.value)},keydown:function(e){if(13==e.keyCode){var n=t(e.data.target);n.textbox("setValue",n.textbox("getText"))}}},onChange:function(t,e){},onResizing:function(t,e){},onResize:function(t,e){},onClickButton:function(){},onClickIcon:function(t){}})}($$),function(t){function e(e){var n=t.data(e,"passwordbox").options,i=t.extend(!0,[],n.icons);n.showEye&&i.push({iconCls:"passwordbox-open",handler:function(t){n.revealed=!n.revealed,r(e)}}),t(e).addClass("passwordbox-f").textbox(t.extend({},n,{icons:i})),r(e)}function n(e,n,r){var i=t(e),o=i.passwordbox("options");if(o.revealed)i.textbox("setValue",n);else{for(var a=unescape(o.passwordChar),s=n.split(""),u=i.passwordbox("getValue").split(""),l=0;l<s.length;l++){var c=s[l];c!=u[l]&&c!=a&&u.splice(l,0,c)}var h=i.passwordbox("getSelectionStart");s.length<u.length&&u.splice(h,u.length-s.length,"");for(l=0;l<s.length;l++)(r||l!=h-1)&&(s[l]=a);i.textbox("setValue",u.join("")),i.textbox("setText",s.join("")),i.textbox("setSelectionRange",{start:h,end:h})}}function r(e,n){var r=t(e),i=r.passwordbox("options"),o=r.next().find(".passwordbox-open"),a=unescape(i.passwordChar);n=void 0==n?r.textbox("getValue"):n,r.textbox("setValue",n),r.textbox("setText",i.revealed?n:n.replace(/./gi,a)),i.revealed?o.addClass("passwordbox-close"):o.removeClass("passwordbox-close")}t.fn.passwordbox=function(n,r){if("string"==typeof n){var i=t.fn.passwordbox.methods[n];return i?i(this,r):this.textbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"passwordbox");r?t.extend(r.options,n):r=t.data(this,"passwordbox",{options:t.extend({},t.fn.passwordbox.defaults,t.fn.passwordbox.parseOptions(this),n)}),e(this)})},t.fn.passwordbox.methods={options:function(e){return t.data(e[0],"passwordbox").options},setValue:function(t,e){return t.each(function(){r(this,e)})},clear:function(t){return t.each(function(){r(this,"")})},reset:function(e){return e.each(function(){t(this).textbox("reset"),r(this)})},showPassword:function(e){return e.each(function(){t(this).passwordbox("options").revealed=!0,r(this)})},hidePassword:function(e){return e.each(function(){t(this).passwordbox("options").revealed=!1,r(this)})}},t.fn.passwordbox.parseOptions=function(e){return t.extend({},t.fn.textbox.parseOptions(e),t.parser.parseOptions(e,["passwordChar",{checkInterval:"number",lastDelay:"number",revealed:"boolean",showEye:"boolean"}]))},t.fn.passwordbox.defaults=t.extend({},t.fn.textbox.defaults,{passwordChar:"%u25CF",checkInterval:200,lastDelay:500,revealed:!1,showEye:!0,inputEvents:{focus:function(e){var r=e.data.target,i=t(e.data.target),o=i.data("passwordbox"),a=i.data("passwordbox").options;o.checking=!0,o.value=i.passwordbox("getText"),function(){if(o.checking){var t=i.passwordbox("getText");o.value!=t&&(o.value=t,o.lastTimer&&(clearTimeout(o.lastTimer),o.lastTimer=void 0),n(r,t),o.lastTimer=setTimeout(function(){n(r,i.passwordbox("getText"),!0),o.lastTimer=void 0},a.lastDelay)),setTimeout(arguments.callee,a.checkInterval)}}()},blur:function(e){var n=e.data.target,i=t(n).data("passwordbox");i.checking=!1,i.lastTimer&&(clearTimeout(i.lastTimer),i.lastTimer=void 0),r(n)}},val:function(e){return t(e).parent().prev().passwordbox("getValue")}})}($$),function(t){function e(e){var i=t.data(e,"filebox"),o=i.options;o.fileboxId="filebox_file_id_"+ ++r,t(e).addClass("filebox-f").textbox(o),t(e).textbox("textbox").attr("readonly","readonly"),i.filebox=t(e).next().addClass("filebox");var a=n(e),s=t(e).filebox("button");s.length&&(t('<label class="filebox-label" for="'+o.fileboxId+'"></label>').appendTo(s),s.linkbutton("options").disabled?a.attr("disabled","disabled"):a.removeAttr("disabled"))}function n(e){var n=t.data(e,"filebox"),r=n.options;n.filebox.find(".textbox-value").remove(),r.oldValue="";var i=t('<input type="file" class="textbox-value">').appendTo(n.filebox);return i.attr("id",r.fileboxId).attr("name",t(e).attr("textboxName")||""),i.attr("accept",r.accept),i.attr("capture",r.capture),r.multiple&&i.attr("multiple","multiple"),i.change(function(){var n=this.value;this.files&&(n=t.map(this.files,function(t){return t.name}).join(r.separator)),t(e).filebox("setText",n),r.onChange.call(e,n,r.oldValue),r.oldValue=n}),i}var r=0;t.fn.filebox=function(n,r){if("string"==typeof n){var i=t.fn.filebox.methods[n];return i?i(this,r):this.textbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"filebox");r?t.extend(r.options,n):t.data(this,"filebox",{options:t.extend({},t.fn.filebox.defaults,t.fn.filebox.parseOptions(this),n)}),e(this)})},t.fn.filebox.methods={options:function(e){var n=e.textbox("options");return t.extend(t.data(e[0],"filebox").options,{width:n.width,value:n.value,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},clear:function(e){return e.each(function(){t(this).textbox("clear"),n(this)})},reset:function(e){return e.each(function(){t(this).filebox("clear")})},setValue:function(t){return t},setValues:function(t){return t}},t.fn.filebox.parseOptions=function(e){var n=t(e);return t.extend({},t.fn.textbox.parseOptions(e),t.parser.parseOptions(e,["accept","capture","separator"]),{multiple:!!n.attr("multiple")||void 0})},t.fn.filebox.defaults=t.extend({},t.fn.textbox.defaults,{buttonIcon:null,buttonText:"Choose File",buttonAlign:"right",inputEvents:{},accept:"",capture:"",separator:",",multiple:!1})}($$),function($){function _571(t){function e(e){e&&($(t).textbox("button").menubutton({text:e.text,iconCls:e.iconCls||null,menu:n.menu,menuAlign:r.buttonAlign,plain:!1}),n.searchbox.find("input.textbox-value").attr("name",e.name||e.text),$(t).searchbox("resize"))}var n=$.data(t,"searchbox"),r=n.options,i=$.extend(!0,[],r.icons);i.push({iconCls:"searchbox-button",handler:function(t){var e=$(t.data.target);e.searchbox("options").searcher.call(t.data.target,e.searchbox("getValue"),e.searchbox("getName"))}}),function(){if(r.menu){n.menu=$(r.menu).menu();var t=n.menu.menu("options"),i=t.onClick;t.onClick=function(t){e(t),i.call(this,t)}}else n.menu&&n.menu.menu("destroy"),n.menu=null}();var o=function(){if(n.menu){var t=n.menu.children("div.menu-item:first");return n.menu.children("div.menu-item").each(function(){if($.extend({},$.parser.parseOptions(this),{selected:!!$(this).attr("selected")||void 0}).selected)return t=$(this),!1}),n.menu.menu("getItem",t[0])}return null}();$(t).addClass("searchbox-f").textbox($.extend({},r,{icons:i,buttonText:o?o.text:""})),$(t).attr("searchboxName",$(t).attr("textboxName")),n.searchbox=$(t).next(),n.searchbox.addClass("searchbox"),e(o)}$.fn.searchbox=function(t,e){if("string"==typeof t){var n=$.fn.searchbox.methods[t];return n?n(this,e):this.textbox(t,e)}return t=t||{},this.each(function(){var e=$.data(this,"searchbox");e?$.extend(e.options,t):$.data(this,"searchbox",{options:$.extend({},$.fn.searchbox.defaults,$.fn.searchbox.parseOptions(this),t)}),_571(this)})},$.fn.searchbox.methods={options:function(t){var e=t.textbox("options");return $.extend($.data(t[0],"searchbox").options,{width:e.width,value:e.value,originalValue:e.originalValue,disabled:e.disabled,readonly:e.readonly})},menu:function(t){return $.data(t[0],"searchbox").menu},getName:function(t){return $.data(t[0],"searchbox").searchbox.find("input.textbox-value").attr("name")},selectName:function(t,e){return t.each(function(){var t=$.data(this,"searchbox").menu;t&&t.children("div.menu-item").each(function(){if(t.menu("getItem",this).name==e)return $(this).triggerHandler("click"),!1})})},destroy:function(t){return t.each(function(){var t=$(this).searchbox("menu");t&&t.menu("destroy"),$(this).textbox("destroy")})}},$.fn.searchbox.parseOptions=function(_580){var t=$(_580);return $.extend({},$.fn.textbox.parseOptions(_580),$.parser.parseOptions(_580,["menu"]),{searcher:t.attr("searcher")?eval(t.attr("searcher")):void 0})},$.fn.searchbox.defaults=$.extend({},$.fn.textbox.defaults,{inputEvents:$.extend({},$.fn.textbox.defaults.inputEvents,{keydown:function(t){if(13==t.keyCode){t.preventDefault();var e=$(t.data.target),n=e.searchbox("options");return e.searchbox("setValue",$(this).val()),n.searcher.call(t.data.target,e.searchbox("getValue"),e.searchbox("getName")),!1}}}),buttonAlign:"left",menu:null,searcher:function(t,e){}})}($$),function(t){function e(e,i){var o=t.data(e,"form").options;t.extend(o,i||{});var a=t.extend({},o.queryParams);if(0!=o.onSubmit.call(e,a)){var s=t(e).find(".textbox-text:focus");s.triggerHandler("blur"),s.focus();var u=null;if(o.dirty){var l=[];t.map(o.dirtyFields,function(e){t(e).hasClass("textbox-f")?t(e).next().find(".textbox-value").each(function(){l.push(this)}):l.push(e)}),(u=t(e).find("input[name]:enabled,textarea[name]:enabled,select[name]:enabled").filter(function(){return-1==t.inArray(this,l)})).attr("disabled","disabled")}o.ajax?o.iframe?n(e,a):void 0!==window.FormData?r(e,a):n(e,a):t(e).submit(),o.dirty&&u.removeAttr("disabled")}}function n(e,n){function r(){var e=t("#"+a);if(e.length)try{var n=e.contents()[0].readyState;n&&"uninitialized"==n.toLowerCase()&&setTimeout(r,100)}catch(t){i()}}function i(){var n=t("#"+a);if(n.length){n.unbind();var r="";try{var s=n.contents().find("body");if(""==(r=s.html())&&--u)return void setTimeout(i,100);var l=s.find(">textarea");if(l.length)r=l.val();else{var c=s.find(">pre");c.length&&(r=c.html())}}catch(t){}o.success.call(e,r),setTimeout(function(){n.unbind(),n.remove()},100)}}var o=t.data(e,"form").options,a="easyui_frame_"+(new Date).getTime(),s=t("<iframe id="+a+" name="+a+"></iframe>").appendTo("body");s.attr("src",window.ActiveXObject?"javascript:false":"about:blank"),s.css({position:"absolute",top:-1e3,left:-1e3}),s.bind("load",i),function(n){var i=t(e);o.url&&i.attr("action",o.url);var s=i.attr("target"),u=i.attr("action");i.attr("target",a);var l=t();try{for(var c in n){var h=t('<input type="hidden" name="'+c+'">').val(n[c]).appendTo(i);l=l.add(h)}r(),i[0].submit()}finally{i.attr("action",u),s?i.attr("target",s):i.removeAttr("target"),l.remove()}}(n);var u=10}function r(e,n){var r=t.data(e,"form").options,i=new FormData(t(e)[0]);for(var o in n)i.append(o,n[o]);t.ajax({url:r.url,type:"post",xhr:function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){if(t.lengthComputable){var n=t.total,i=t.loaded||t.position,o=Math.ceil(100*i/n);r.onProgress.call(e,o)}},!1),n},data:i,dataType:"html",cache:!1,contentType:!1,processData:!1,complete:function(t){r.success.call(e,t.responseText)}})}function i(e,n){function r(n){var r=t(e);for(var o in n){var u=n[o];i(o,u)||a(o,u)||(r.find('input[name="'+o+'"]').val(u),r.find('textarea[name="'+o+'"]').val(u),r.find('select[name="'+o+'"]').val(u))}s.onLoadSuccess.call(e,n),r.form("validate")}function i(n,r){var i=t(e).find('[switchbuttonName="'+n+'"]');return i.length?(i.switchbutton("uncheck"),i.each(function(){o(t(this).switchbutton("options").value,r)&&t(this).switchbutton("check")}),!0):!!(i=t(e).find('input[name="'+n+'"][type=radio], input[name="'+n+'"][type=checkbox]')).length&&(i._propAttr("checked",!1),i.each(function(){o(t(this).val(),r)&&t(this)._propAttr("checked",!0)}),!0)}function o(e,n){return e==String(n)||t.inArray(e,t.isArray(n)?n:[n])>=0}function a(n,r){var i=t(e).find('[textboxName="'+n+'"],[sliderName="'+n+'"]');if(i.length)for(var o=0;o<s.fieldTypes.length;o++){var a=s.fieldTypes[o],u=i.data(a);if(u)return u.options.multiple||u.options.range?i[a]("setValues",r):i[a]("setValue",r),!0}return!1}var s=t.data(e,"form").options;if("string"==typeof n){var u={};if(0==s.onBeforeLoad.call(e,u))return;t.ajax({url:n,data:u,dataType:"json",success:function(t){r(t)},error:function(){s.onLoadError.apply(e,arguments)}})}else r(n)}function o(e){t("input,select,textarea",e).each(function(){if(!t(this).hasClass("textbox-value")){var e=this.type,n=this.tagName.toLowerCase();if("text"==e||"hidden"==e||"password"==e||"textarea"==n)this.value="";else if("file"==e){var r=t(this);if(!r.hasClass("textbox-value")){var i=r.clone().val("");i.insertAfter(r),r.data("validatebox")?(r.validatebox("destroy"),i.validatebox()):r.remove()}}else"checkbox"==e||"radio"==e?this.checked=!1:"select"==n&&(this.selectedIndex=-1)}});for(var n=t(),r=t(e),i=t.data(e,"form").options,o=0;o<i.fieldTypes.length;o++){var a=i.fieldTypes[o],s=r.find("."+a+"-f").not(n);s.length&&s[a]&&(s[a]("clear"),n=n.add(s))}r.form("validate")}function a(e){e.reset();for(var n=t(e),r=t.data(e,"form").options,i=r.fieldTypes.length-1;i>=0;i--){var o=r.fieldTypes[i],a=n.find("."+o+"-f");a.length&&a[o]&&a[o]("reset")}n.form("validate")}function s(n){var r=t.data(n,"form").options;t(n).unbind(".form"),r.ajax&&t(n).bind("submit.form",function(){return setTimeout(function(){e(n,r)},0),!1}),t(n).bind("_change.form",function(e,n){-1==t.inArray(n,r.dirtyFields)&&r.dirtyFields.push(n),r.onChange.call(this,n)}).bind("change.form",function(e){var n=e.target;t(n).hasClass("textbox-text")||(-1==t.inArray(n,r.dirtyFields)&&r.dirtyFields.push(n),r.onChange.call(this,n))}),c(n,r.novalidate)}function u(e,n){n=n||{};var r=t.data(e,"form");r?t.extend(r.options,n):t.data(e,"form",{options:t.extend({},t.fn.form.defaults,t.fn.form.parseOptions(e),n)})}function l(e){if(t.fn.validatebox){var n=t(e);n.find(".validatebox-text:not(:disabled)").validatebox("validate");var r=n.find(".validatebox-invalid");return r.filter(":not(:disabled):first").focus(),0==r.length}return!0}function c(e,n){t.data(e,"form").options.novalidate=n,t(e).find(".validatebox-text:not(:disabled)").validatebox(n?"disableValidation":"enableValidation")}t.fn.form=function(e,n){return"string"==typeof e?(this.each(function(){u(this)}),t.fn.form.methods[e](this,n)):this.each(function(){u(this,e),s(this)})},t.fn.form.methods={options:function(e){return t.data(e[0],"form").options},submit:function(t,n){return t.each(function(){e(this,n)})},load:function(t,e){return t.each(function(){i(this,e)})},clear:function(t){return t.each(function(){o(this)})},reset:function(t){return t.each(function(){a(this)})},validate:function(t){return l(t[0])},disableValidation:function(t){return t.each(function(){c(this,!0)})},enableValidation:function(t){return t.each(function(){c(this,!1)})},resetValidation:function(e){return e.each(function(){t(this).find(".validatebox-text:not(:disabled)").validatebox("resetValidation")})},resetDirty:function(e){return e.each(function(){t(this).form("options").dirtyFields=[]})}},t.fn.form.parseOptions=function(e){var n=t(e);return t.extend({},t.parser.parseOptions(e,[{ajax:"boolean",dirty:"boolean"}]),{url:n.attr("action")?n.attr("action"):void 0})},t.fn.form.defaults={fieldTypes:["combobox","combotree","combogrid","combotreegrid","datetimebox","datebox","combo","datetimespinner","timespinner","numberspinner","spinner","slider","searchbox","numberbox","passwordbox","filebox","textbox","switchbutton"],novalidate:!1,ajax:!0,iframe:!0,dirty:!1,dirtyFields:[],url:null,queryParams:{},onSubmit:function(e){return t(this).form("validate")},onProgress:function(t){},success:function(t){},onBeforeLoad:function(t){},onLoadSuccess:function(t){},onLoadError:function(){},onChange:function(t){}}}($$),function(t){function e(e){var n=t.data(e,"numberbox"),r=n.options;t(e).addClass("numberbox-f").textbox(r),t(e).textbox("textbox").css({imeMode:"disabled"}),t(e).attr("numberboxName",t(e).attr("textboxName")),n.numberbox=t(e).next(),n.numberbox.addClass("numberbox");var i=r.parser.call(e,r.value),o=r.formatter.call(e,i);t(e).numberbox("initValue",i).numberbox("setText",o)}function n(e,n){var r=t.data(e,"numberbox").options;r.value=parseFloat(n);var n=r.parser.call(e,n),i=r.formatter.call(e,n);r.value=n,t(e).textbox("setText",i).textbox("setValue",n),i=r.formatter.call(e,t(e).textbox("getValue")),t(e).textbox("setText",i)}t.fn.numberbox=function(n,r){if("string"==typeof n){var i=t.fn.numberbox.methods[n];return i?i(this,r):this.textbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"numberbox");r?t.extend(r.options,n):r=t.data(this,"numberbox",{options:t.extend({},t.fn.numberbox.defaults,t.fn.numberbox.parseOptions(this),n)}),e(this)})},t.fn.numberbox.methods={options:function(e){var n=e.data("textbox")?e.textbox("options"):{};return t.extend(t.data(e[0],"numberbox").options,{width:n.width,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},fix:function(e){return e.each(function(){var e=t(this).numberbox("options");e.value=null;var n=e.parser.call(this,t(this).numberbox("getText"));t(this).numberbox("setValue",n)})},setValue:function(t,e){return t.each(function(){n(this,e)})},clear:function(e){return e.each(function(){t(this).textbox("clear"),t(this).numberbox("options").value=""})},reset:function(e){return e.each(function(){t(this).textbox("reset"),t(this).numberbox("setValue",t(this).numberbox("getValue"))})}},t.fn.numberbox.parseOptions=function(e){var n=t(e);return t.extend({},t.fn.textbox.parseOptions(e),t.parser.parseOptions(e,["decimalSeparator","groupSeparator","suffix",{min:"number",max:"number",precision:"number"}]),{prefix:n.attr("prefix")?n.attr("prefix"):void 0})},t.fn.numberbox.defaults=t.extend({},t.fn.textbox.defaults,{inputEvents:{keypress:function(e){var n=e.data.target;return t(n).numberbox("options").filter.call(n,e)},blur:function(e){t(e.data.target).numberbox("fix")},keydown:function(e){13==e.keyCode&&t(e.data.target).numberbox("fix")}},min:null,max:null,precision:0,decimalSeparator:".",groupSeparator:"",prefix:"",suffix:"",filter:function(e){var n=t(this).numberbox("options"),r=t(this).numberbox("getText");if(e.metaKey||e.ctrlKey)return!0;if(t.inArray(String(e.which),["46","8","13","0"])>=0)return!0;var i=t("<span></span>");i.html(String.fromCharCode(e.which));var o=i.text();return i.remove(),!o||("-"==o||o==n.decimalSeparator?-1==r.indexOf(o):o==n.groupSeparator||"0123456789".indexOf(o)>=0)},formatter:function(e){if(!e)return e;e+="";var n=t(this).numberbox("options"),r=e,i="",o=e.indexOf(".");if(o>=0&&(r=e.substring(0,o),i=e.substring(o+1,e.length)),n.groupSeparator)for(var a=/(\d+)(\d{3})/;a.test(r);)r=r.replace(a,"$1"+n.groupSeparator+"$2");return i?n.prefix+r+n.decimalSeparator+i+n.suffix:n.prefix+r+n.suffix},parser:function(e){e+="";var n=t(this).numberbox("options");n.prefix&&(e=t.trim(e.replace(new RegExp("\\"+t.trim(n.prefix),"g"),""))),n.suffix&&(e=t.trim(e.replace(new RegExp("\\"+t.trim(n.suffix),"g"),""))),parseFloat(e)!=n.value&&(n.groupSeparator&&(e=t.trim(e.replace(new RegExp("\\"+n.groupSeparator,"g"),""))),n.decimalSeparator&&(e=t.trim(e.replace(new RegExp("\\"+n.decimalSeparator,"g"),"."))),e=e.replace(/\s/g,""));var r=parseFloat(e).toFixed(n.precision);return isNaN(r)?r="":"number"==typeof n.min&&r<n.min?r=n.min.toFixed(n.precision):"number"==typeof n.max&&r>n.max&&(r=n.max.toFixed(n.precision)),r}})}($$),function(t){function e(e,n){var r=t.data(e,"calendar").options,o=t(e);n&&t.extend(r,{width:n.width,height:n.height}),o._size(r,o.parent()),o.find(".calendar-body")._outerHeight(o.height()-o.find(".calendar-header")._outerHeight()),o.find(".calendar-menu").is(":visible")&&i(e)}function n(n){t(n).addClass("calendar").html('<div class="calendar-header"><div class="calendar-nav calendar-prevmonth"></div><div class="calendar-nav calendar-nextmonth"></div><div class="calendar-nav calendar-prevyear"></div><div class="calendar-nav calendar-nextyear"></div><div class="calendar-title"><span class="calendar-text"></span></div></div><div class="calendar-body"><div class="calendar-menu"><div class="calendar-menu-year-inner"><span class="calendar-nav calendar-menu-prev"></span><span><input class="calendar-menu-year" type="text"></input></span><span class="calendar-nav calendar-menu-next"></span></div><div class="calendar-menu-month-inner"></div></div></div>'),t(n).bind("_resize",function(r,i){return(t(this).hasClass("easyui-fluid")||i)&&e(n),!1})}function r(e){function n(e){var n=t(e).closest(".calendar-day");return n.length?n:t(e)}function r(n){var r=t(e).find(".calendar-menu"),i=r.find(".calendar-menu-year").val(),o=r.find(".calendar-selected").attr("abbr");isNaN(i)||(u.year=parseInt(i),u.month=parseInt(o),a(e)),n&&r.hide()}function o(t){u.year+=t,a(e),l.find(".calendar-menu-year").val(u.year)}function s(t){u.month+=t,u.month>12?(u.year++,u.month=1):u.month<1&&(u.year--,u.month=12),a(e),l.find("td.calendar-selected").removeClass("calendar-selected"),l.find("td:eq("+(u.month-1)+")").addClass("calendar-selected")}var u=t.data(e,"calendar").options,l=t(e).find(".calendar-menu");l.find(".calendar-menu-year").unbind(".calendar").bind("keypress.calendar",function(t){13==t.keyCode&&r(!0)}),t(e).unbind(".calendar").bind("mouseover.calendar",function(t){var e=n(t.target);(e.hasClass("calendar-nav")||e.hasClass("calendar-text")||e.hasClass("calendar-day")&&!e.hasClass("calendar-disabled"))&&e.addClass("calendar-nav-hover")}).bind("mouseout.calendar",function(t){var e=n(t.target);(e.hasClass("calendar-nav")||e.hasClass("calendar-text")||e.hasClass("calendar-day")&&!e.hasClass("calendar-disabled"))&&e.removeClass("calendar-nav-hover")}).bind("click.calendar",function(t){var c=n(t.target);if(c.hasClass("calendar-menu-next")||c.hasClass("calendar-nextyear"))o(1);else if(c.hasClass("calendar-menu-prev")||c.hasClass("calendar-prevyear"))o(-1);else if(c.hasClass("calendar-menu-month"))l.find(".calendar-selected").removeClass("calendar-selected"),c.addClass("calendar-selected"),r(!0);else if(c.hasClass("calendar-prevmonth"))s(-1);else if(c.hasClass("calendar-nextmonth"))s(1);else if(c.hasClass("calendar-text"))l.is(":visible")?l.hide():i(e);else if(c.hasClass("calendar-day")){if(c.hasClass("calendar-disabled"))return;var h=u.current;c.closest("div.calendar-body").find(".calendar-selected").removeClass("calendar-selected"),c.addClass("calendar-selected");var d=c.attr("abbr").split(","),f=parseInt(d[0]),p=parseInt(d[1]),A=parseInt(d[2]);u.current=new Date(f,p-1,A),u.onSelect.call(e,u.current),h&&h.getTime()==u.current.getTime()||u.onChange.call(e,u.current,h),u.year==f&&u.month==p||(u.year=f,u.month=p,a(e))}})}function i(e){var n=t.data(e,"calendar").options;if(t(e).find(".calendar-menu").show(),t(e).find(".calendar-menu-month-inner").is(":empty")){t(e).find(".calendar-menu-month-inner").empty();for(var r=t('<table class="calendar-mtable"></table>').appendTo(t(e).find(".calendar-menu-month-inner")),i=0,o=0;o<3;o++)for(var a=t("<tr></tr>").appendTo(r),s=0;s<4;s++)t('<td class="calendar-nav calendar-menu-month"></td>').html(n.months[i++]).attr("abbr",i).appendTo(a)}var u=t(e).find(".calendar-body"),l=t(e).find(".calendar-menu"),c=l.find(".calendar-menu-year-inner"),h=l.find(".calendar-menu-month-inner");c.find("input").val(n.year).focus(),h.find("td.calendar-selected").removeClass("calendar-selected"),h.find("td:eq("+(n.month-1)+")").addClass("calendar-selected"),l._outerWidth(u._outerWidth()),l._outerHeight(u._outerHeight()),h._outerHeight(l.height()-c._outerHeight())}function o(e,n,r){for(var i=t.data(e,"calendar").options,o=[],a=new Date(n,r,0).getDate(),s=1;s<=a;s++)o.push([n,r,s]);for(var u=[],l=[],c=-1;o.length>0;){p=o.shift();l.push(p);var h=new Date(p[0],p[1]-1,p[2]).getDay();c==h?h=0:h==(0==i.firstDay?7:i.firstDay)-1&&(u.push(l),l=[]),c=h}l.length&&u.push(l);var d=u[0];if(d.length<7)for(;d.length<7;){var f=d[0],p=new Date(f[0],f[1]-1,f[2]-1);d.unshift([p.getFullYear(),p.getMonth()+1,p.getDate()])}else{for(var f=d[0],l=[],s=1;s<=7;s++){p=new Date(f[0],f[1]-1,f[2]-s);l.unshift([p.getFullYear(),p.getMonth()+1,p.getDate()])}u.unshift(l)}for(var A=u[u.length-1];A.length<7;){var g=A[A.length-1],p=new Date(g[0],g[1]-1,g[2]+1);A.push([p.getFullYear(),p.getMonth()+1,p.getDate()])}if(u.length<6){for(var g=A[A.length-1],l=[],s=1;s<=7;s++){p=new Date(g[0],g[1]-1,g[2]+s);l.push([p.getFullYear(),p.getMonth()+1,p.getDate()])}u.push(l)}return u}function a(e){var n=t.data(e,"calendar").options;n.current&&!n.validator.call(e,n.current)&&(n.current=null);var r=new Date,i=r.getFullYear()+","+(r.getMonth()+1)+","+r.getDate(),a=n.current?n.current.getFullYear()+","+(n.current.getMonth()+1)+","+n.current.getDate():"",s=6-n.firstDay,u=s+1;s>=7&&(s-=7),u>=7&&(u-=7),t(e).find(".calendar-title span").html(n.months[n.month-1]+" "+n.year);var l=t(e).find("div.calendar-body");l.children("table").remove();var c=['<table class="calendar-dtable" cellspacing="0" cellpadding="0" border="0">'];c.push("<thead><tr>"),n.showWeek&&c.push('<th class="calendar-week">'+n.weekNumberHeader+"</th>");for(d=n.firstDay;d<n.weeks.length;d++)c.push("<th>"+n.weeks[d]+"</th>");for(d=0;d<n.firstDay;d++)c.push("<th>"+n.weeks[d]+"</th>");c.push("</tr></thead>"),c.push("<tbody>");for(var h=o(e,n.year,n.month),d=0;d<h.length;d++){var f=h[d],p="";if(0==d?p="calendar-first":d==h.length-1&&(p="calendar-last"),c.push('<tr class="'+p+'">'),n.showWeek){var A=n.getWeekNumber(new Date(f[0][0],parseInt(f[0][1])-1,f[0][2]));c.push('<td class="calendar-week">'+A+"</td>")}for(var g=0;g<f.length;g++){var v=f[g],m=v[0]+","+v[1]+","+v[2],y=new Date(v[0],parseInt(v[1])-1,v[2]),b=n.formatter.call(e,y),_=n.styler.call(e,y),w="",x="";"string"==typeof _?x=_:_&&(w=_.class||"",x=_.style||"");p="calendar-day";n.year==v[0]&&n.month==v[1]||(p+=" calendar-other-month"),m==i&&(p+=" calendar-today"),m==a&&(p+=" calendar-selected"),g==s?p+=" calendar-saturday":g==u&&(p+=" calendar-sunday"),0==g?p+=" calendar-first":g==f.length-1&&(p+=" calendar-last"),p+=" "+w,n.validator.call(e,y)||(p+=" calendar-disabled"),c.push('<td class="'+p+'" abbr="'+m+'" style="'+x+'">'+b+"</td>")}c.push("</tr>")}c.push("</tbody>"),c.push("</table>"),l.append(c.join("")),l.children("table.calendar-dtable").prependTo(l),n.onNavigate.call(e,n.year,n.month)}t.fn.calendar=function(i,o){return"string"==typeof i?t.fn.calendar.methods[i](this,o):(i=i||{},this.each(function(){var o=t.data(this,"calendar");o?t.extend(o.options,i):(o=t.data(this,"calendar",{options:t.extend({},t.fn.calendar.defaults,t.fn.calendar.parseOptions(this),i)}),n(this)),0==o.options.border&&t(this).addClass("calendar-noborder"),e(this),r(this),a(this),t(this).find("div.calendar-menu").hide()}))},t.fn.calendar.methods={options:function(e){return t.data(e[0],"calendar").options},resize:function(t,n){return t.each(function(){e(this,n)})},moveTo:function(e,n){return e.each(function(){if(n){var e=t(this).calendar("options");if(e.validator.call(this,n)){var r=e.current;t(this).calendar({year:n.getFullYear(),month:n.getMonth()+1,current:n}),r&&r.getTime()==n.getTime()||e.onChange.call(this,e.current,r)}}else{var i=new Date;t(this).calendar({year:i.getFullYear(),month:i.getMonth()+1,current:n})}})}},t.fn.calendar.parseOptions=function(e){t(e);return t.extend({},t.parser.parseOptions(e,["weekNumberHeader",{firstDay:"number",fit:"boolean",border:"boolean",showWeek:"boolean"}]))},t.fn.calendar.defaults={width:180,height:180,fit:!1,border:!0,showWeek:!1,firstDay:0,weeks:["S","M","T","W","T","F","S"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,current:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}(),weekNumberHeader:"",getWeekNumber:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1},formatter:function(t){return t.getDate()},styler:function(t){return""},validator:function(t){return!0},onSelect:function(t){},onChange:function(t,e){},onNavigate:function(t,e){}}}($$),function(t){function e(e){var r=t.data(e,"spinner"),i=r.options,o=t.extend(!0,[],i.icons);if("left"==i.spinAlign||"right"==i.spinAlign){i.spinArrow=!0,i.iconAlign=i.spinAlign;var a={iconCls:"spinner-arrow",handler:function(e){var r=t(e.target).closest(".spinner-arrow-up,.spinner-arrow-down");n(e.data.target,r.hasClass("spinner-arrow-down"))}};"left"==i.spinAlign?o.unshift(a):o.push(a)}else i.spinArrow=!1,"vertical"==i.spinAlign?("top"!=i.buttonAlign&&(i.buttonAlign="bottom"),i.clsLeft="textbox-button-bottom",i.clsRight="textbox-button-top"):(i.clsLeft="textbox-button-left",i.clsRight="textbox-button-right");if(t(e).addClass("spinner-f").textbox(t.extend({},i,{icons:o,doSize:!1,onResize:function(e,n){if(!i.spinArrow){var r=t(this).next(),o=r.find(".textbox-button:not(.spinner-button)");if(o.length){var a=o.outerWidth(),s=o.outerHeight(),u=r.find(".spinner-button."+i.clsLeft),l=r.find(".spinner-button."+i.clsRight);"right"==i.buttonAlign?l.css("marginRight",a+"px"):"left"==i.buttonAlign?u.css("marginLeft",a+"px"):"top"==i.buttonAlign?l.css("marginTop",s+"px"):u.css("marginBottom",s+"px")}}i.onResize.call(this,e,n)}})),t(e).attr("spinnerName",t(e).attr("textboxName")),r.spinner=t(e).next(),r.spinner.addClass("spinner"),i.spinArrow){var s=r.spinner.find(".spinner-arrow");s.append('<a href="javascript:;" class="spinner-arrow-up" tabindex="-1"></a>'),s.append('<a href="javascript:;" class="spinner-arrow-down" tabindex="-1"></a>')}else{var u=t('<a href="javascript:;" class="textbox-button spinner-button"></a>').addClass(i.clsLeft).appendTo(r.spinner),l=t('<a href="javascript:;" class="textbox-button spinner-button"></a>').addClass(i.clsRight).appendTo(r.spinner);u.linkbutton({iconCls:i.reversed?"spinner-button-up":"spinner-button-down",onClick:function(){n(e,!i.reversed)}}),l.linkbutton({iconCls:i.reversed?"spinner-button-down":"spinner-button-up",onClick:function(){n(e,i.reversed)}}),i.disabled&&t(e).spinner("disable"),i.readonly&&t(e).spinner("readonly")}t(e).spinner("resize")}function n(e,n){var r=t(e).spinner("options");r.spin.call(e,n),r[n?"onSpinDown":"onSpinUp"].call(e),t(e).spinner("validate")}t.fn.spinner=function(n,r){if("string"==typeof n){var i=t.fn.spinner.methods[n];return i?i(this,r):this.textbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"spinner");r?t.extend(r.options,n):r=t.data(this,"spinner",{options:t.extend({},t.fn.spinner.defaults,t.fn.spinner.parseOptions(this),n)}),e(this)})},t.fn.spinner.methods={options:function(e){var n=e.textbox("options");return t.extend(t.data(e[0],"spinner").options,{width:n.width,value:n.value,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})}},t.fn.spinner.parseOptions=function(e){return t.extend({},t.fn.textbox.parseOptions(e),t.parser.parseOptions(e,["min","max","spinAlign",{increment:"number",reversed:"boolean"}]))},t.fn.spinner.defaults=t.extend({},t.fn.textbox.defaults,{min:null,max:null,increment:1,spinAlign:"right",reversed:!1,spin:function(t){},onSpinUp:function(){},onSpinDown:function(){}})}($$),function(t){function e(e){t(e).addClass("numberspinner-f");var n=t.data(e,"numberspinner").options;t(e).numberbox(t.extend({},n,{doSize:!1})).spinner(n),t(e).numberbox("setValue",n.value)}function n(e,n){var r=t.data(e,"numberspinner").options,i=parseFloat(t(e).numberbox("getValue")||r.value)||0;n?i-=r.increment:i+=r.increment,t(e).numberbox("setValue",i)}t.fn.numberspinner=function(n,r){if("string"==typeof n){var i=t.fn.numberspinner.methods[n];return i?i(this,r):this.numberbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"numberspinner");r?t.extend(r.options,n):t.data(this,"numberspinner",{options:t.extend({},t.fn.numberspinner.defaults,t.fn.numberspinner.parseOptions(this),n)}),e(this)})},t.fn.numberspinner.methods={options:function(e){var n=e.numberbox("options");return t.extend(t.data(e[0],"numberspinner").options,{width:n.width,value:n.value,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})}},t.fn.numberspinner.parseOptions=function(e){return t.extend({},t.fn.spinner.parseOptions(e),t.fn.numberbox.parseOptions(e),{})},t.fn.numberspinner.defaults=t.extend({},t.fn.spinner.defaults,t.fn.numberbox.defaults,{spin:function(t){n(this,t)}})}($$),function(t){function e(e){var n=t.data(e,"timespinner").options;t(e).addClass("timespinner-f").spinner(n);var r=n.formatter.call(e,n.parser.call(e,n.value));t(e).timespinner("initValue",r)}function n(e){for(var n=e.data.target,i=t.data(n,"timespinner").options,o=t(n).timespinner("getSelectionStart"),a=0;a<i.selections.length;a++){var s=i.selections[a];if(o>=s[0]&&o<=s[1])return void r(n,a)}}function r(e,n){var r=t.data(e,"timespinner").options;void 0!=n&&(r.highlight=n);var i=r.selections[r.highlight];if(i){var o=t(e).timespinner("textbox");t(e).timespinner("setSelectionRange",{start:i[0],end:i[1]}),o.focus()}}function i(e,n){var r=t.data(e,"timespinner").options,n=r.parser.call(e,n),i=r.formatter.call(e,n);t(e).spinner("setValue",i)}function o(e,n){var i=t.data(e,"timespinner").options,o=t(e).timespinner("getValue"),a=i.selections[i.highlight],s=o.substring(0,a[0]),u=o.substring(a[0],a[1]),l=o.substring(a[1]),c=s+((parseInt(u,10)||0)+i.increment*(n?-1:1))+l;t(e).timespinner("setValue",c),r(e)}t.fn.timespinner=function(n,r){if("string"==typeof n){var i=t.fn.timespinner.methods[n];return i?i(this,r):this.spinner(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"timespinner");r?t.extend(r.options,n):t.data(this,"timespinner",{options:t.extend({},t.fn.timespinner.defaults,t.fn.timespinner.parseOptions(this),n)}),e(this)})},t.fn.timespinner.methods={options:function(e){var n=e.data("spinner")?e.spinner("options"):{};return t.extend(t.data(e[0],"timespinner").options,{width:n.width,value:n.value,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},setValue:function(t,e){return t.each(function(){i(this,e)})},getHours:function(e){var n=t.data(e[0],"timespinner").options,r=e.timespinner("getValue").split(n.separator);return parseInt(r[0],10)},getMinutes:function(e){var n=t.data(e[0],"timespinner").options,r=e.timespinner("getValue").split(n.separator);return parseInt(r[1],10)},getSeconds:function(e){var n=t.data(e[0],"timespinner").options,r=e.timespinner("getValue").split(n.separator);return parseInt(r[2],10)||0}},t.fn.timespinner.parseOptions=function(e){return t.extend({},t.fn.spinner.parseOptions(e),t.parser.parseOptions(e,["separator",{showSeconds:"boolean",highlight:"number"}]))},t.fn.timespinner.defaults=t.extend({},t.fn.spinner.defaults,{inputEvents:t.extend({},t.fn.spinner.defaults.inputEvents,{click:function(t){n.call(this,t)},blur:function(e){var n=t(e.data.target);n.timespinner("setValue",n.timespinner("getText"))},keydown:function(e){if(13==e.keyCode){var n=t(e.data.target);n.timespinner("setValue",n.timespinner("getText"))}}}),formatter:function(e){function n(t){return(t<10?"0":"")+t}if(!e)return"";var r=t(this).timespinner("options"),i=[n(e.getHours()),n(e.getMinutes())];return r.showSeconds&&i.push(n(e.getSeconds())),i.join(r.separator)},parser:function(e){function n(t){if(!t)return null;var e=t.split(r.separator);return new Date(1900,0,0,parseInt(e[0],10)||0,parseInt(e[1],10)||0,parseInt(e[2],10)||0)}var r=t(this).timespinner("options"),i=n(e);if(i){var o=n(r.min),a=n(r.max);o&&o>i&&(i=o),a&&a<i&&(i=a)}return i},selections:[[0,2],[3,5],[6,8]],separator:":",showSeconds:!1,highlight:0,spin:function(t){o(this,t)}})}($$),function(t){function e(e){var n=t.data(e,"datetimespinner").options;t(e).addClass("datetimespinner-f").timespinner(n)}t.fn.datetimespinner=function(n,r){if("string"==typeof n){var i=t.fn.datetimespinner.methods[n];return i?i(this,r):this.timespinner(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"datetimespinner");r?t.extend(r.options,n):t.data(this,"datetimespinner",{options:t.extend({},t.fn.datetimespinner.defaults,t.fn.datetimespinner.parseOptions(this),n)}),e(this)})},t.fn.datetimespinner.methods={options:function(e){var n=e.timespinner("options");return t.extend(t.data(e[0],"datetimespinner").options,{width:n.width,value:n.value,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})}},t.fn.datetimespinner.parseOptions=function(e){return t.extend({},t.fn.timespinner.parseOptions(e),t.parser.parseOptions(e,[]))},t.fn.datetimespinner.defaults=t.extend({},t.fn.timespinner.defaults,{formatter:function(e){return e?t.fn.datebox.defaults.formatter.call(this,e)+" "+t.fn.timespinner.defaults.formatter.call(this,e):""},parser:function(e){if(!(e=t.trim(e)))return null;var n=e.split(" "),r=t.fn.datebox.defaults.parser.call(this,n[0]);if(n.length<2)return r;var i=t.fn.timespinner.defaults.parser.call(this,n[1]);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i.getHours(),i.getMinutes(),i.getSeconds())},selections:[[0,2],[3,5],[6,10],[11,13],[14,16],[17,19]]})}($$),function($){function _646(t,e){return $.easyui.indexOfArray(t,e)}function _647(t,e,n){$.easyui.removeArrayItem(t,e,n)}function _648(t,e,n){$.easyui.addArrayItem(t,e,n)}function _649(t,e){return $.data(t,"treegrid")?e.slice(1):e}function _64b(t){var e=$.data(t,"datagrid"),n=e.options,r=e.panel,i=e.dc,o=null;n.sharedStyleSheet?o="boolean"==typeof n.sharedStyleSheet?"head":n.sharedStyleSheet:(o=r.closest("div.datagrid-view")).length||(o=i.view);var a=$(o),s=$.data(a[0],"ss");return s||(s=$.data(a[0],"ss",{cache:{},dirty:[]})),{add:function(t){for(var e=['<style type="text/css" easyui="true">'],n=0;n<t.length;n++)s.cache[t[n][0]]={width:t[n][1]};var r=0;for(var i in s.cache){var o=s.cache[i];o.index=r++,e.push(i+"{width:"+o.width+"}")}e.push("</style>"),$(e.join("\n")).appendTo(a),a.children("style[easyui]:not(:last)").remove()},getRule:function(t){var e=a.children("style[easyui]:last")[0],n=e.styleSheet?e.styleSheet:e.sheet||document.styleSheets[document.styleSheets.length-1];return(n.cssRules||n.rules)[t]},set:function(t,e){var n=s.cache[t];if(n){n.width=e;var r=this.getRule(n.index);r&&(r.style.width=e)}},remove:function(t){var e=[];for(var n in s.cache)-1==n.indexOf(t)&&e.push([n,s.cache[n].width]);s.cache={},this.add(e)},dirty:function(t){t&&s.dirty.push(t)},clean:function(){for(var t=0;t<s.dirty.length;t++)this.remove(s.dirty[t]);s.dirty=[]}}}function _65a(t,e){var n=$.data(t,"datagrid"),r=n.options,i=n.panel;if(e&&$.extend(r,e),1==r.fit){var o=i.panel("panel").parent();r.width=o.width(),r.height=o.height()}i.panel("resize",r)}function _65f(t){var e=$.data(t,"datagrid"),n=e.options,r=e.dc,i=e.panel,o=i.width(),a=i.height(),s=r.view,u=r.view1,l=r.view2,c=u.children("div.datagrid-header"),h=l.children("div.datagrid-header"),d=c.find("table"),f=h.find("table");s.width(o);var p=c.children("div.datagrid-header-inner").show();u.width(p.find("table").width()),n.showHeader||p.hide(),l.width(o-u._outerWidth()),u.children()._outerWidth(u.width()),l.children()._outerWidth(l.width());var A=c.add(h).add(d).add(f);A.css("height","");var g=Math.max(d.height(),f.height());A._outerHeight(g),s.children(".datagrid-empty").css("top",g+"px"),r.body1.add(r.body2).children("table.datagrid-btable-frozen").css({position:"absolute",top:r.header2._outerHeight()});var v=r.body2.children("table.datagrid-btable-frozen")._outerHeight(),m=v+h._outerHeight()+l.children(".datagrid-footer")._outerHeight();i.children(":not(.datagrid-view,.datagrid-mask,.datagrid-mask-msg)").each(function(){m+=$(this)._outerHeight()});var y=i.outerHeight()-i.height(),b=i._size("minHeight")||"",_=i._size("maxHeight")||"";u.add(l).children("div.datagrid-body").css({marginTop:v,height:isNaN(parseInt(n.height))?"":a-m,minHeight:b?b-y-m:"",maxHeight:_?_-y-m:""}),s.height(l.height())}function _670(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=$(t[n]),i=$(e[n]);r.css("height",""),i.css("height","");var o=Math.max(r.height(),i.height());r.css("height",o),i.css("height",o)}}$.data(t,"datagrid").data.rows;var i=$.data(t,"datagrid").options,o=$.data(t,"datagrid").dc;if(!o.body1.is(":empty")&&(!i.nowrap||i.autoRowHeight||n))if(void 0!=e)r(a=i.finder.getTr(t,e,"body",1),s=i.finder.getTr(t,e,"body",2));else{var a=i.finder.getTr(t,0,"allbody",1),s=i.finder.getTr(t,0,"allbody",2);r(a,s),i.showFooter&&r(a=i.finder.getTr(t,0,"allfooter",1),s=i.finder.getTr(t,0,"allfooter",2))}if(_65f(t),"auto"==i.height){var u=o.body1.parent(),l=o.body2,c=function(t){var e=0,n=0;return $(t).children().each(function(){var t=$(this);t.is(":visible")&&(n+=t._outerHeight(),e<t._outerWidth()&&(e=t._outerWidth()))}),{width:e,height:n}}(l),h=c.height;c.width>l.width()&&(h+=18),h-=parseInt(l.css("marginTop"))||0,u.height(h),l.height(h),o.view.height(o.view2.height())}o.body2.triggerHandler("scroll")}function _67d(t,e){function n(n){var r=n?1:2,a=i.finder.getTr(t,e,"body",r);(n?o.body1:o.body2).children("table.datagrid-btable-frozen").append(a)}var r=$.data(t,"datagrid"),i=r.options,o=r.dc;o.body2.children("table.datagrid-btable-frozen").length||o.body1.add(o.body2).prepend('<table class="datagrid-btable datagrid-btable-frozen" cellspacing="0" cellpadding="0"></table>'),n(!0),n(!1),_65f(t)}function _684(_685,_686){function _687(){var _688=[],_689=[];return $(_685).children("thead").each(function(){var opt=$.parser.parseOptions(this,[{frozen:"boolean"}]);$(this).find("tr").each(function(){var cols=[];$(this).find("th").each(function(){var th=$(this),col=$.extend({},$.parser.parseOptions(this,["id","field","align","halign","order","width",{sortable:"boolean",checkbox:"boolean",resizable:"boolean",fixed:"boolean"},{rowspan:"number",colspan:"number"}]),{title:th.html()||void 0,hidden:!!th.attr("hidden")||void 0,formatter:th.attr("formatter")?eval(th.attr("formatter")):void 0,styler:th.attr("styler")?eval(th.attr("styler")):void 0,sorter:th.attr("sorter")?eval(th.attr("sorter")):void 0});if(col.width&&-1==String(col.width).indexOf("%")&&(col.width=parseInt(col.width)),th.attr("editor")){var s=$.trim(th.attr("editor"));"{"==s.substr(0,1)?col.editor=eval("("+s+")"):col.editor=s}cols.push(col)}),opt.frozen?_688.push(cols):_689.push(cols)})}),[_688,_689]}var _68a=$('<div class="datagrid-wrap"><div class="datagrid-view"><div class="datagrid-view1"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"><div class="datagrid-body-inner"></div></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div><div class="datagrid-view2"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div></div></div>').insertAfter(_685);_68a.panel({doSize:!1,cls:"datagrid"}),$(_685).addClass("datagrid-f").hide().appendTo(_68a.children("div.datagrid-view"));var cc=_687(),view=_68a.children("div.datagrid-view"),_68b=view.children("div.datagrid-view1"),_68c=view.children("div.datagrid-view2");return{panel:_68a,frozenColumns:cc[0],columns:cc[1],dc:{view:view,view1:_68b,view2:_68c,header1:_68b.children("div.datagrid-header").children("div.datagrid-header-inner"),header2:_68c.children("div.datagrid-header").children("div.datagrid-header-inner"),body1:_68b.children("div.datagrid-body").children("div.datagrid-body-inner"),body2:_68c.children("div.datagrid-body"),footer1:_68b.children("div.datagrid-footer").children("div.datagrid-footer-inner"),footer2:_68c.children("div.datagrid-footer").children("div.datagrid-footer-inner")}}}function _68d(_68e){function _693(t,e,n){if(e){$(t).show(),$(t).empty();var r=$('<div class="datagrid-cell" style="position:absolute;left:-99999px"></div>').appendTo("body");r._outerWidth(99);var i=100-parseInt(r[0].style.width);r.remove();var o=[],a=[],s=[];opts.sortName&&(o=opts.sortName.split(","),a=opts.sortOrder.split(","));for(var u=$('<table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0"><tbody></tbody></table>').appendTo(t),l=0;l<e.length;l++)for(var c=$('<tr class="datagrid-header-row"></tr>').appendTo($("tbody",u)),h=e[l],d=0;d<h.length;d++){var f=h[d],p="";f.rowspan&&(p+='rowspan="'+f.rowspan+'" '),f.colspan&&(p+='colspan="'+f.colspan+'" ',f.id||(f.id=["datagrid-td-group"+_645,l,d].join("-"))),f.id&&(p+='id="'+f.id+'"');m=$("<td "+p+"></td>").appendTo(c);if(f.checkbox)m.attr("field",f.field),$('<div class="datagrid-header-check"></div>').html('<input type="checkbox"/>').appendTo(m);else if(f.field){m.attr("field",f.field),m.append('<div class="datagrid-cell"><span></span><span class="datagrid-sort-icon"></span></div>'),m.find("span:first").html(f.title);var A=m.find("div.datagrid-cell"),g=_646(o,f.field);if(g>=0&&A.addClass("datagrid-sort-"+a[g]),f.sortable&&A.addClass("datagrid-sort"),0==f.resizable&&A.attr("resizable","false"),f.width){var v=$.parser.parseValue("width",f.width,dc.view,opts.scrollbarSize+(opts.rownumbers?opts.rownumberWidth:0));f.deltaWidth=i,f.boxWidth=v-i}else f.auto=!0;A.css("text-align",f.halign||f.align||""),f.cellClass=_68f.cellClassPrefix+"-"+f.field.replace(/[\.|\s]/g,"-"),A.addClass(f.cellClass)}else $('<div class="datagrid-cell-group"></div>').html(f.title).appendTo(m);f.hidden&&(m.hide(),s.push(f.field))}if(n&&opts.rownumbers){var m=$('<td rowspan="'+opts.frozenColumns.length+'"><div class="datagrid-header-rownumber"></div></td>');0==$("tr",u).length?m.wrap('<tr class="datagrid-header-row"></tr>').parent().appendTo($("tbody",u)):m.prependTo($("tr:first",u))}for(l=0;l<s.length;l++)_6e1(_68e,s[l],-1)}}function _694(){for(var t=[[".datagrid-header-rownumber",opts.rownumberWidth-1+"px"],[".datagrid-cell-rownumber",opts.rownumberWidth-1+"px"]],e=_6a2(_68e,!0).concat(_6a2(_68e)),n=0;n<e.length;n++){var r=_6a3(_68e,e[n]);r&&!r.checkbox&&t.push(["."+r.cellClass,r.boxWidth?r.boxWidth+"px":"auto"])}_68f.ss.add(t),_68f.ss.dirty(_68f.cellSelectorPrefix),_68f.cellSelectorPrefix="."+_68f.cellClassPrefix}var _68f=$.data(_68e,"datagrid"),opts=_68f.options,dc=_68f.dc,_690=_68f.panel;if(_68f.ss=$(_68e).datagrid("createStyleSheet"),_690.panel($.extend({},opts,{id:null,doSize:!1,onResize:function(t,e){$.data(_68e,"datagrid")&&(_65f(_68e),$(_68e).datagrid("fitColumns"),opts.onResize.call(_690,t,e))},onExpand:function(){$.data(_68e,"datagrid")&&($(_68e).datagrid("fixRowHeight").datagrid("fitColumns"),opts.onExpand.call(_690))}})),_68f.rowIdPrefix="datagrid-row-r"+ ++_645,_68f.cellClassPrefix="datagrid-cell-c"+_645,_693(dc.header1,opts.frozenColumns,!0),_693(dc.header2,opts.columns,!1),_694(),dc.header1.add(dc.header2).css("display",opts.showHeader?"block":"none"),dc.footer1.add(dc.footer2).css("display",opts.showFooter?"block":"none"),opts.toolbar)if($.isArray(opts.toolbar)){$("div.datagrid-toolbar",_690).remove();for(var tb=$('<div class="datagrid-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_690),tr=tb.find("tr"),i=0;i<opts.toolbar.length;i++){var btn=opts.toolbar[i];if("-"==btn)$('<td><div class="datagrid-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:;"></a>').appendTo(td);tool[0].onclick=eval(btn.handler||function(){}),tool.linkbutton($.extend({},btn,{plain:!0}))}}}else $(opts.toolbar).addClass("datagrid-toolbar").prependTo(_690),$(opts.toolbar).show();else $("div.datagrid-toolbar",_690).remove();if($("div.datagrid-pager",_690).remove(),opts.pagination){var _695=$('<div class="datagrid-pager"></div>');if("bottom"==opts.pagePosition)_695.appendTo(_690);else if("top"==opts.pagePosition)_695.addClass("datagrid-pager-top").prependTo(_690);else{var ptop=$('<div class="datagrid-pager datagrid-pager-top"></div>').prependTo(_690);_695.appendTo(_690),_695=_695.add(ptop)}_695.pagination({total:0,pageNumber:opts.pageNumber,pageSize:opts.pageSize,pageList:opts.pageList,onSelectPage:function(t,e){opts.pageNumber=t||1,opts.pageSize=e,_695.pagination("refresh",{pageNumber:t,pageSize:e}),_6df(_68e)}}),opts.pageSize=_695.pagination("options").pageSize}}function _6a4(t){var e=$.data(t,"datagrid"),n=e.panel,r=e.options,i=e.dc,o=i.header1.add(i.header2);o.unbind(".datagrid");for(var a in r.headerEvents)o.bind(a+".datagrid",r.headerEvents[a]);var s=o.find("div.datagrid-cell"),u="right"==r.resizeHandle?"e":"left"==r.resizeHandle?"w":"e,w";s.each(function(){$(this).resizable({handles:u,disabled:!!$(this).attr("resizable")&&"false"==$(this).attr("resizable"),minWidth:25,onStartResize:function(t){e.resizing=!0,o.css("cursor",$("body").css("cursor")),e.proxy||(e.proxy=$('<div class="datagrid-resize-proxy"></div>').appendTo(i.view)),e.proxy.css({left:t.pageX-$(n).offset().left-1,display:"none"}),setTimeout(function(){e.proxy&&e.proxy.show()},500)},onResize:function(t){return e.proxy.css({left:t.pageX-$(n).offset().left-1,display:"block"}),!1},onStopResize:function(n){o.css("cursor",""),$(this).css("height","");var i=$(this).parent().attr("field"),a=_6a3(t,i);a.width=$(this)._outerWidth(),a.boxWidth=a.width-a.deltaWidth,a.auto=void 0,$(this).css("width",""),$(t).datagrid("fixColumnSize",i),e.proxy.remove(),e.proxy=null,$(this).parents("div:first.datagrid-header").parent().hasClass("datagrid-view1")&&_65f(t),$(t).datagrid("fitColumns"),r.onResizeColumn.call(t,i,a.width),setTimeout(function(){e.resizing=!1},0)}})});var l=i.body1.add(i.body2);l.unbind();for(var a in r.rowEvents)l.bind(a,r.rowEvents[a]);i.body1.bind("mousewheel DOMMouseScroll",function(t){t.preventDefault();var e=t.originalEvent||window.event,n=e.wheelDelta||-1*e.detail;"deltaY"in e&&(n=-1*e.deltaY);var r=$(t.target).closest("div.datagrid-view").children(".datagrid-f").data("datagrid").dc;r.body2.scrollTop(r.body2.scrollTop()-n)}),i.body2.bind("scroll",function(){var t=i.view1.children("div.datagrid-body");t.scrollTop($(this).scrollTop());var e=i.body1.children(":first"),n=i.body2.children(":first");if(e.length&&n.length){var r=e.offset().top,o=n.offset().top;r!=o&&t.scrollTop(t.scrollTop()+r-o)}i.view2.children("div.datagrid-header,div.datagrid-footer")._scrollLeft($(this)._scrollLeft()),i.body2.children("table.datagrid-btable-frozen").css("left",-$(this)._scrollLeft())})}function _6ae(t){return function(e){var n=$(e.target).closest("td[field]");if(n.length){var r=_6b1(n);!$(r).data("datagrid").resizing&&t?n.addClass("datagrid-header-over"):n.removeClass("datagrid-header-over")}}}function _6b2(t){var e=_6b1(t.target),n=$(e).datagrid("options"),r=$(t.target).closest("input[type=checkbox]");if(r.length){if(n.singleSelect&&n.selectOnCheck)return!1;r.is(":checked")?_6b4(e):_6b5(e),t.stopPropagation()}else{var i=$(t.target).closest(".datagrid-cell");if(i.length){var o=i.offset().left+5,a=i.offset().left+i._outerWidth()-5;t.pageX<a&&t.pageX>o&&_6b6(e,i.parent().attr("field"))}}}function _6b7(t){var e=_6b1(t.target),n=$(e).datagrid("options"),r=$(t.target).closest(".datagrid-cell");if(r.length){var i=r.offset().left+5,o=r.offset().left+r._outerWidth()-5;if("right"==n.resizeHandle?t.pageX>o:"left"==n.resizeHandle?t.pageX<i:t.pageX<i||t.pageX>o){var a=r.parent().attr("field"),s=_6a3(e,a);if(0==s.resizable)return;$(e).datagrid("autoSizeColumn",a),s.auto=!1}}}function _6ba(t){var e=_6b1(t.target),n=$(e).datagrid("options"),r=$(t.target).closest("td[field]");n.onHeaderContextMenu.call(e,t,r.attr("field"))}function _6bc(t){return function(e){var n=_6be(e.target);if(n){var r=_6b1(n);if(!$.data(r,"datagrid").resizing){var i=_6c1(n);t?_6c2(r,i):$.data(r,"datagrid").options.finder.getTr(r,i).removeClass("datagrid-row-over")}}}}function _6c3(t){var e=_6be(t.target);if(e){var n=_6b1(e),r=$.data(n,"datagrid").options,i=_6c1(e),o=$(t.target);if(o.parent().hasClass("datagrid-cell-check"))r.singleSelect&&r.selectOnCheck?(o._propAttr("checked",!o.is(":checked")),_6c6(n,i)):o.is(":checked")?(o._propAttr("checked",!1),_6c6(n,i)):(o._propAttr("checked",!0),_6c7(n,i));else{var a=r.finder.getRow(n,i),s=o.closest("td[field]",e);if(s.length){var u=s.attr("field");r.onClickCell.call(n,i,u,a[u])}if(1==r.singleSelect)_6c9(n,i);else if(r.ctrlSelect)if(t.metaKey||t.ctrlKey)e.hasClass("datagrid-row-selected")?_6ca(n,i):_6c9(n,i);else if(t.shiftKey){$(n).datagrid("clearSelections");for(var l=Math.min(r.lastSelectedIndex||0,i),c=Math.max(r.lastSelectedIndex||0,i),h=l;h<=c;h++)_6c9(n,h)}else $(n).datagrid("clearSelections"),_6c9(n,i),r.lastSelectedIndex=i;else e.hasClass("datagrid-row-selected")?_6ca(n,i):_6c9(n,i);r.onClickRow.apply(n,_649(n,[i,a]))}}}function _6cd(t){var e=_6be(t.target);if(e){var n=_6b1(e),r=$.data(n,"datagrid").options,i=_6c1(e),o=r.finder.getRow(n,i),a=$(t.target).closest("td[field]",e);if(a.length){var s=a.attr("field");r.onDblClickCell.call(n,i,s,o[s])}r.onDblClickRow.apply(n,_649(n,[i,o]))}}function _6d1(t){var e=_6be(t.target);if(e){var n=_6b1(e),r=$.data(n,"datagrid").options,i=_6c1(e),o=r.finder.getRow(n,i);r.onRowContextMenu.call(n,t,i,o)}else{var a=_6be(t.target,".datagrid-body");if(a){n=_6b1(a);(r=$.data(n,"datagrid").options).onRowContextMenu.call(n,t,-1,null)}}}function _6b1(t){return $(t).closest("div.datagrid-view").children(".datagrid-f")[0]}function _6be(t,e){var n=$(t).closest(e||"tr.datagrid-row");return n.length&&n.parent().length?n:void 0}function _6c1(t){return t.attr("datagrid-row-index")?parseInt(t.attr("datagrid-row-index")):t.attr("node-id")}function _6b6(t,e){var n=$.data(t,"datagrid"),r=n.options;e=e||{};var i={sortName:r.sortName,sortOrder:r.sortOrder};"object"==typeof e&&$.extend(i,e);var o=[],a=[];if(i.sortName&&(o=i.sortName.split(","),a=i.sortOrder.split(",")),"string"==typeof e){var s=e;if(!(p=_6a3(t,s)).sortable||n.resizing)return;var u=p.order||"asc",l=_646(o,s);if(l>=0){var c="asc"==a[l]?"desc":"asc";r.multiSort&&c==u?(o.splice(l,1),a.splice(l,1)):a[l]=c}else r.multiSort?(o.push(s),a.push(u)):(o=[s],a=[u]);i.sortName=o.join(","),i.sortOrder=a.join(",")}if(0!=r.onBeforeSortColumn.call(t,i.sortName,i.sortOrder)){$.extend(r,i);var h=n.dc,d=h.header1.add(h.header2);d.find("div.datagrid-cell").removeClass("datagrid-sort-asc datagrid-sort-desc");for(var f=0;f<o.length;f++){var p=_6a3(t,o[f]);d.find("div."+p.cellClass).addClass("datagrid-sort-"+a[f])}r.remoteSort?_6df(t):_6e0(t,$(t).datagrid("getData")),r.onSortColumn.call(t,r.sortName,r.sortOrder)}}function _6e1(t,e,n){function r(r){var i=_6e7(t,r);if(i.length){var o=_646(i[i.length-1],e);if(o>=0)for(var a=0;a<i.length-1;a++){var s=$("#"+i[a][o]),u=parseInt(s.attr("colspan")||1)+(n||0);s.attr("colspan",u),u?s.show():s.hide()}}}r(!0),r(!1)}function _6ec(t){function e(e){var n=o.header1.add(o.header2).find(".datagrid-cell-group");n.length&&(n.each(function(){$(this)._outerWidth(e?$(this).parent().width():10)}),e&&_65f(t))}function n(t){return!(String(t.width||"").indexOf("%")>=0)&&(!(t.hidden||t.checkbox||t.auto||t.fixed)||void 0)}var r=$.data(t,"datagrid"),i=r.options,o=r.dc,a=o.view2.children("div.datagrid-header");o.body2.css("overflow-x",""),e(),function(){var e=!1,n=_6a2(t,!0).concat(_6a2(t,!1));$.map(n,function(n){var r=_6a3(t,n);if(String(r.width||"").indexOf("%")>=0){var a=$.parser.parseValue("width",r.width,o.view,i.scrollbarSize+(i.rownumbers?i.rownumberWidth:0))-r.deltaWidth;a>0&&(r.boxWidth=a,e=!0)}}),e&&$(t).datagrid("fixColumnSize")}(),function(){if(i.fitColumns){r.leftWidth||(r.leftWidth=0);for(var e=0,o=[],s=_6a2(t,!1),u=0;u<s.length;u++){var l=_6a3(t,s[u]);n(l)&&(e+=l.width,o.push({field:l.field,col:l,addingWidth:0}))}if(e){o[o.length-1].addingWidth-=r.leftWidth;var c=a.children("div.datagrid-header-inner").show(),h=a.width()-a.find("table").width()-i.scrollbarSize+r.leftWidth,d=h/e;for(i.showHeader||c.hide(),u=0;u<o.length;u++){var f=o[u],p=parseInt(f.col.width*d);f.addingWidth+=p,h-=p}for(o[o.length-1].addingWidth+=h,u=0;u<o.length;u++)(f=o[u]).col.boxWidth+f.addingWidth>0&&(f.col.boxWidth+=f.addingWidth,f.col.width+=f.addingWidth);r.leftWidth=h,$(t).datagrid("fixColumnSize")}}}(),e(!0),a.width()>=a.find("table").width()&&o.body2.css("overflow-x","hidden")}function _6fe(t,e){function n(e){function n(n){function o(t){return t.is(":visible")?t._outerWidth():a.html(t.html())._outerWidth()}var s=0;return"header"==n?s=o(r):i.finder.getTr(t,0,n).find('td[field="'+e+'"] div.datagrid-cell').each(function(){var t=o($(this));s<t&&(s=t)}),s}var r=o.view.find('div.datagrid-header td[field="'+e+'"] div.datagrid-cell');r.css("width","");var s=$(t).datagrid("getColumnOption",e);s.width=void 0,s.boxWidth=void 0,s.auto=!0,$(t).datagrid("fixColumnSize",e);var u=Math.max(n("header"),n("allbody"),n("allfooter"))+1;r._outerWidth(u-1),s.width=u,s.boxWidth=parseInt(r[0].style.width),s.deltaWidth=u-s.boxWidth,r.css("width",""),$(t).datagrid("fixColumnSize",e),i.onResizeColumn.call(t,e,s.width)}var r=$.data(t,"datagrid"),i=r.options,o=r.dc,a=$('<div class="datagrid-cell" style="position:absolute;left:-9999px"></div>').appendTo("body");if(e)n(e),$(t).datagrid("fitColumns");else{for(var s=!1,u=_6a2(t,!0).concat(_6a2(t,!1)),l=0;l<u.length;l++){var e=u[l];_6a3(t,e).auto&&(n(e),s=!0)}s&&$(t).datagrid("fitColumns")}a.remove()}function _70a(t,e){function n(e){var n=_6a3(t,e);n.cellClass&&r.ss.set("."+n.cellClass,n.boxWidth?n.boxWidth+"px":"auto")}var r=$.data(t,"datagrid"),i=(r.options,r.dc.view.find("table.datagrid-btable,table.datagrid-ftable"));if(i.css("table-layout","fixed"),e)n(e);else for(var o=_6a2(t,!0).concat(_6a2(t,!1)),a=0;a<o.length;a++)n(o[a]);i.css("table-layout",""),_70f(t),_670(t),_710(t)}function _70f(t,e){var n=$.data(t,"datagrid").dc;(e=e||n.view.find("td.datagrid-td-merged")).each(function(){var e=$(this),n=e.attr("colspan")||1;if(n>1){for(var r=_6a3(t,e.attr("field")),i=r.boxWidth+r.deltaWidth-1,o=1;o<n;o++)e=e.next(),i+=(r=_6a3(t,e.attr("field"))).boxWidth+r.deltaWidth;$(this).children("div.datagrid-cell")._outerWidth(i)}})}function _710(t){$.data(t,"datagrid").dc.view.find("div.datagrid-editable").each(function(){var e=$(this),n=e.parent().attr("field"),r=$(t).datagrid("getColumnOption",n);e._outerWidth(r.boxWidth+r.deltaWidth-1);var i=$.data(this,"datagrid.editor");i.actions.resize&&i.actions.resize(i.target,e.width())})}function _6a3(t,e){function n(t){if(t)for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];if(o.field==e)return o}return null}var r=$.data(t,"datagrid").options,i=n(r.columns);return i||(i=n(r.frozenColumns)),i}function _6e7(t,e){function n(t){for(var e=0;e<t.length;e++)if(void 0==t[e])return e;return-1}for(var r=$.data(t,"datagrid").options,i=e?r.frozenColumns:r.columns,o=[],a=function(){var t=0;return $.map(i[0]||[],function(e){t+=e.colspan||1}),t}(),s=0;s<i.length;s++)o[s]=new Array(a);for(var u=0;u<i.length;u++)$.map(i[u],function(t){var e=n(o[u]);if(e>=0)for(var r=t.field||t.id||"",i=0;i<(t.colspan||1);i++){for(var a=0;a<(t.rowspan||1);a++)o[u+a][e]=r;e++}});return o}function _6a2(t,e){var n=_6e7(t,e);return n.length?n[n.length-1]:n}function _6e0(t,e){var n=$.data(t,"datagrid"),r=n.options,i=n.dc;if(e=r.loadFilter.call(t,e),$.isArray(e)&&(e={total:e.length,rows:e}),e.total=parseInt(e.total),n.data=e,e.footer&&(n.footer=e.footer),!r.remoteSort&&r.sortName){var o=r.sortName.split(","),a=r.sortOrder.split(",");e.rows.sort(function(e,n){for(var r=0,i=0;i<o.length;i++){var s=o[i],u=a[i];if(0!=(r=(_6a3(t,s).sorter||function(t,e){return t==e?0:t>e?1:-1})(e[s],n[s])*("asc"==u?1:-1)))return r}return r})}r.view.onBeforeRender&&r.view.onBeforeRender.call(r.view,t,e.rows),r.view.render.call(r.view,t,i.body2,!1),r.view.render.call(r.view,t,i.body1,!0),r.showFooter&&(r.view.renderFooter.call(r.view,t,i.footer2,!1),r.view.renderFooter.call(r.view,t,i.footer1,!0)),r.view.onAfterRender&&r.view.onAfterRender.call(r.view,t),n.ss.clean();var s=$(t).datagrid("getPager");if(s.length){var u=s.pagination("options");u.total!=e.total&&(s.pagination("refresh",{total:e.total}),r.pageNumber!=u.pageNumber&&u.pageNumber>0&&(r.pageNumber=u.pageNumber,_6df(t)))}_670(t),i.body2.triggerHandler("scroll"),$(t).datagrid("setSelectionState"),$(t).datagrid("autoSizeColumn"),r.onLoadSuccess.call(t,e)}function _72d(t){function e(t,e){for(var n=0;n<t.length;n++)if(t[n][r.idField]==e[r.idField])return t[n]=e,!0;return!1}var n=$.data(t,"datagrid"),r=n.options,i=n.dc;if(i.header1.add(i.header2).find("input[type=checkbox]")._propAttr("checked",!1),r.idField){var o=!!$.data(t,"treegrid"),a=r.onSelect,s=r.onCheck;r.onSelect=r.onCheck=function(){};for(var u=r.finder.getRows(t),l=0;l<u.length;l++){var c=u[l],h=o?c[r.idField]:$(t).datagrid("getRowIndex",c[r.idField]);e(n.selectedRows,c)&&_6c9(t,h,!0,!0),e(n.checkedRows,c)&&_6c6(t,h,!0)}r.onSelect=a,r.onCheck=s}}function _735(t,e){var n=$.data(t,"datagrid"),r=n.options,i=n.data.rows;if("object"==typeof e)return _646(i,e);for(var o=0;o<i.length;o++)if(i[o][r.idField]==e)return o;return-1}function _738(t){var e=$.data(t,"datagrid"),n=e.options;e.data;if(n.idField)return e.selectedRows;var r=[];return n.finder.getTr(t,"","selected",2).each(function(){r.push(n.finder.getRow(t,$(this)))}),r}function _73b(t){var e=$.data(t,"datagrid"),n=e.options;if(n.idField)return e.checkedRows;var r=[];return n.finder.getTr(t,"","checked",2).each(function(){r.push(n.finder.getRow(t,$(this)))}),r}function _73e(t,e){var n=$.data(t,"datagrid"),r=n.dc,i=n.options,o=i.finder.getTr(t,e);if(o.length){if(o.closest("table").hasClass("datagrid-btable-frozen"))return;var a=r.view2.children("div.datagrid-header")._outerHeight(),s=r.body2,u=i.scrollbarSize;s[0].offsetHeight&&s[0].clientHeight&&s[0].offsetHeight<=s[0].clientHeight&&(u=0);var l=s.outerHeight(!0)-s.outerHeight(),c=o.position().top-a-l;c<0?s.scrollTop(s.scrollTop()+c):c+o._outerHeight()>s.height()-u&&s.scrollTop(s.scrollTop()+c+o._outerHeight()-s.height()+u)}}function _6c2(t,e){var n=$.data(t,"datagrid"),r=n.options;r.finder.getTr(t,n.highlightIndex).removeClass("datagrid-row-over"),r.finder.getTr(t,e).addClass("datagrid-row-over"),n.highlightIndex=e}function _6c9(t,e,n,r){var i=$.data(t,"datagrid"),o=i.options,a=o.finder.getRow(t,e);a&&0!=o.onBeforeSelect.apply(t,_649(t,[e,a]))&&(o.singleSelect&&(_74e(t,!0),i.selectedRows=[]),!n&&o.checkOnSelect&&_6c6(t,e,!0),o.idField&&_648(i.selectedRows,o.idField,a),o.finder.getTr(t,e).addClass("datagrid-row-selected"),o.onSelect.apply(t,_649(t,[e,a])),!r&&o.scrollOnSelect&&_73e(t,e))}function _6ca(t,e,n){var r=$.data(t,"datagrid"),i=(r.dc,r.options),o=i.finder.getRow(t,e);o&&0!=i.onBeforeUnselect.apply(t,_649(t,[e,o]))&&(!n&&i.checkOnSelect&&_6c7(t,e,!0),i.finder.getTr(t,e).removeClass("datagrid-row-selected"),i.idField&&_647(r.selectedRows,i.idField,o[i.idField]),i.onUnselect.apply(t,_649(t,[e,o])))}function _753(t,e){var n=$.data(t,"datagrid").options,r=n.finder.getRows(t),i=$.data(t,"datagrid").selectedRows;if(!e&&n.checkOnSelect&&_6b4(t,!0),n.finder.getTr(t,"","allbody").addClass("datagrid-row-selected"),n.idField)for(var o=0;o<r.length;o++)_648(i,n.idField,r[o]);n.onSelectAll.call(t,r)}function _74e(t,e){var n=$.data(t,"datagrid").options,r=n.finder.getRows(t),i=$.data(t,"datagrid").selectedRows;if(!e&&n.checkOnSelect&&_6b5(t,!0),n.finder.getTr(t,"","selected").removeClass("datagrid-row-selected"),n.idField)for(var o=0;o<r.length;o++)_647(i,n.idField,r[o][n.idField]);n.onUnselectAll.call(t,r)}function _6c6(t,e,n){var r=$.data(t,"datagrid"),i=r.options,o=i.finder.getRow(t,e);if(o&&0!=i.onBeforeCheck.apply(t,_649(t,[e,o]))){i.singleSelect&&i.selectOnCheck&&(_6b5(t,!0),r.checkedRows=[]),!n&&i.selectOnCheck&&_6c9(t,e,!0);var a=i.finder.getTr(t,e).addClass("datagrid-row-checked");if(a.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0),(a=i.finder.getTr(t,"","checked",2)).length==i.finder.getRows(t).length){var s=r.dc;s.header1.add(s.header2).find("input[type=checkbox]")._propAttr("checked",!0)}i.idField&&_648(r.checkedRows,i.idField,o),i.onCheck.apply(t,_649(t,[e,o]))}}function _6c7(t,e,n){var r=$.data(t,"datagrid"),i=r.options,o=i.finder.getRow(t,e);if(o&&0!=i.onBeforeUncheck.apply(t,_649(t,[e,o]))){!n&&i.selectOnCheck&&_6ca(t,e,!0),i.finder.getTr(t,e).removeClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!1);var a=r.dc;a.header1.add(a.header2).find("input[type=checkbox]")._propAttr("checked",!1),i.idField&&_647(r.checkedRows,i.idField,o[i.idField]),i.onUncheck.apply(t,_649(t,[e,o]))}}function _6b4(t,e){var n=$.data(t,"datagrid"),r=n.options,i=r.finder.getRows(t);!e&&r.selectOnCheck&&_753(t,!0);var o=n.dc,a=o.header1.add(o.header2).find("input[type=checkbox]"),s=r.finder.getTr(t,"","allbody").addClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");if(a.add(s)._propAttr("checked",!0),r.idField)for(var u=0;u<i.length;u++)_648(n.checkedRows,r.idField,i[u]);r.onCheckAll.call(t,i)}function _6b5(t,e){var n=$.data(t,"datagrid"),r=n.options,i=r.finder.getRows(t);!e&&r.selectOnCheck&&_74e(t,!0);var o=n.dc,a=o.header1.add(o.header2).find("input[type=checkbox]"),s=r.finder.getTr(t,"","checked").removeClass("datagrid-row-checked").find("div.datagrid-cell-check input[type=checkbox]");if(a.add(s)._propAttr("checked",!1),r.idField)for(var u=0;u<i.length;u++)_647(n.checkedRows,r.idField,i[u][r.idField]);r.onUncheckAll.call(t,i)}function _76d(t,e){var n=$.data(t,"datagrid").options,r=n.finder.getTr(t,e),i=n.finder.getRow(t,e);r.hasClass("datagrid-row-editing")||0!=n.onBeforeEdit.apply(t,_649(t,[e,i]))&&(r.addClass("datagrid-row-editing"),_770(t,e),_710(t),r.find("div.datagrid-editable").each(function(){var t=$(this).parent().attr("field"),e=$.data(this,"datagrid.editor");e.actions.setValue(e.target,i[t])}),_772(t,e),n.onBeginEdit.apply(t,_649(t,[e,i])))}function _773(t,e,n){var r=$.data(t,"datagrid"),i=r.options,o=r.updatedRows,a=r.insertedRows,s=i.finder.getTr(t,e),u=i.finder.getRow(t,e);if(s.hasClass("datagrid-row-editing")){if(!n){if(!_772(t,e))return;var l=!1,c={};s.find("div.datagrid-editable").each(function(){var t=$(this).parent().attr("field"),e=$.data(this,"datagrid.editor"),n=$(e.target),r=n.data("textbox")?n.textbox("textbox"):n;r.is(":focus")&&r.triggerHandler("blur");var i=e.actions.getValue(e.target);u[t]!==i&&(u[t]=i,l=!0,c[t]=i)}),l&&-1==_646(a,u)&&-1==_646(o,u)&&o.push(u),i.onEndEdit.apply(t,_649(t,[e,u,c]))}s.removeClass("datagrid-row-editing"),_77f(t,e),$(t).datagrid("refreshRow",e),n?i.onCancelEdit.apply(t,_649(t,[e,u])):i.onAfterEdit.apply(t,_649(t,[e,u,c]))}}function _780(t,e){var n=[];return $.data(t,"datagrid").options.finder.getTr(t,e).children("td").each(function(){var t=$(this).find("div.datagrid-editable");if(t.length){var e=$.data(t[0],"datagrid.editor");n.push(e)}}),n}function _784(t,e){for(var n=_780(t,void 0!=e.index?e.index:e.id),r=0;r<n.length;r++)if(n[r].field==e.field)return n[r];return null}function _770(t,e){var n=$.data(t,"datagrid").options;n.finder.getTr(t,e).children("td").each(function(){var e=$(this).find("div.datagrid-cell"),r=$(this).attr("field"),i=_6a3(t,r);if(i&&i.editor){var o,a;"string"==typeof i.editor?o=i.editor:(o=i.editor.type,a=i.editor.options);var s=n.editors[o];if(s){var u=e.html(),l=e._outerWidth();e.addClass("datagrid-editable"),e._outerWidth(l),e.html('<table border="0" cellspacing="0" cellpadding="1"><tr><td></td></tr></table>'),e.children("table").bind("click dblclick contextmenu",function(t){t.stopPropagation()}),$.data(e[0],"datagrid.editor",{actions:s,target:s.init(e.find("td"),$.extend({height:n.editorHeight},a)),field:r,type:o,oldHtml:u})}}}),_670(t,e,!0)}function _77f(t,e){$.data(t,"datagrid").options.finder.getTr(t,e).children("td").each(function(){var t=$(this).find("div.datagrid-editable");if(t.length){var e=$.data(t[0],"datagrid.editor");e.actions.destroy&&e.actions.destroy(e.target),t.html(e.oldHtml),$.removeData(t[0],"datagrid.editor"),t.removeClass("datagrid-editable"),t.css("width","")}})}function _772(t,e){var n=$.data(t,"datagrid").options.finder.getTr(t,e);if(!n.hasClass("datagrid-row-editing"))return!0;var r=n.find(".validatebox-text");return r.validatebox("validate"),r.trigger("mouseleave"),0==n.find(".validatebox-invalid").length}function _795(t,e){var n=$.data(t,"datagrid").insertedRows,r=$.data(t,"datagrid").deletedRows,i=$.data(t,"datagrid").updatedRows;if(!e){var o=[];return o=o.concat(n),o=o.concat(r),o=o.concat(i)}return"inserted"==e?n:"deleted"==e?r:"updated"==e?i:[]}function _79b(t,e){var n=$.data(t,"datagrid"),r=n.options,i=n.data,o=n.insertedRows,a=n.deletedRows;$(t).datagrid("cancelEdit",e);var s=r.finder.getRow(t,e);_646(o,s)>=0?_647(o,s):a.push(s),_647(n.selectedRows,r.idField,s[r.idField]),_647(n.checkedRows,r.idField,s[r.idField]),r.view.deleteRow.call(r.view,t,e),"auto"==r.height&&_670(t),$(t).datagrid("getPager").pagination("refresh",{total:i.total})}function _7a1(t,e){var n=$.data(t,"datagrid").data,r=$.data(t,"datagrid").options.view,i=$.data(t,"datagrid").insertedRows;r.insertRow.call(r,t,e.index,e.row),i.push(e.row),$(t).datagrid("getPager").pagination("refresh",{total:n.total})}function _7a5(t,e){var n=$.data(t,"datagrid").data,r=$.data(t,"datagrid").options.view,i=$.data(t,"datagrid").insertedRows;r.insertRow.call(r,t,null,e),i.push(e),$(t).datagrid("getPager").pagination("refresh",{total:n.total})}function _7a8(t,e){var n=$.data(t,"datagrid"),r=n.options,i=r.finder.getRow(t,e.index),o=!1;e.row=e.row||{};for(var a in e.row)if(i[a]!==e.row[a]){o=!0;break}o&&(-1==_646(n.insertedRows,i)&&-1==_646(n.updatedRows,i)&&n.updatedRows.push(i),r.view.updateRow.call(r.view,t,e.index,e.row))}function _7ae(t){for(var e=$.data(t,"datagrid"),n=e.data.rows,r=[],i=0;i<n.length;i++)r.push($.extend({},n[i]));e.originalRows=r,e.updatedRows=[],e.insertedRows=[],e.deletedRows=[]}function _7b2(t){for(var e=!0,n=0,r=$.data(t,"datagrid").data.rows.length;n<r;n++)_772(t,n)?$(t).datagrid("endEdit",n):e=!1;e&&_7ae(t)}function _7b4(t){function e(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n][i.idField]);return e}function n(e,n){for(var r=0;r<e.length;r++){var i=_735(t,e[r]);i>=0&&("s"==n?_6c9:_6c6)(t,i,!0)}}for(var r=$.data(t,"datagrid"),i=r.options,o=r.originalRows,a=r.insertedRows,s=r.deletedRows,u=r.selectedRows,l=r.checkedRows,c=r.data,h=0;h<c.rows.length;h++)$(t).datagrid("cancelEdit",h);var d=e(u),f=e(l);u.splice(0,u.length),l.splice(0,l.length),c.total+=s.length-a.length,c.rows=o,_6e0(t,c),n(d,"s"),n(f,"c"),_7ae(t)}function _6df(t,e,n){var r=$.data(t,"datagrid").options;e&&(r.queryParams=e);var i=$.extend({},r.queryParams);r.pagination&&$.extend(i,{page:r.pageNumber||1,rows:r.pageSize}),r.sortName&&$.extend(i,{sort:r.sortName,order:r.sortOrder}),0!=r.onBeforeLoad.call(t,i)&&($(t).datagrid("loading"),0==r.loader.call(t,i,function(e){$(t).datagrid("loaded"),$(t).datagrid("loadData",e),n&&n()},function(){$(t).datagrid("loaded"),r.onLoadError.apply(t,arguments)})&&$(t).datagrid("loaded"))}function _7c6(t,e){function n(t,e){for(var n=0;n<e;n++)t.hide(),t=t.next()}var r=$.data(t,"datagrid").options;if(e.type=e.type||"body",e.rowspan=e.rowspan||1,e.colspan=e.colspan||1,1!=e.rowspan||1!=e.colspan){var i=r.finder.getTr(t,void 0!=e.index?e.index:e.id,e.type);if(i.length){var o=i.find('td[field="'+e.field+'"]');o.attr("rowspan",e.rowspan).attr("colspan",e.colspan),o.addClass("datagrid-td-merged"),n(o.next(),e.colspan-1);for(var a=1;a<e.rowspan&&(i=i.next()).length;a++)n(i.find('td[field="'+e.field+'"]'),e.colspan);_70f(t,o)}}}function _7cf(t){function e(t){function e(e){return void 0!=$.data($(e)[0],t)}return{init:function(e,n){var r=$('<input type="text" class="datagrid-editable-input">').appendTo(e);return r[t]&&"text"!=t?r[t](n):r},destroy:function(n){e(n)&&$(n)[t]("destroy")},getValue:function(n){if(e(n)){var r=$(n)[t]("options");return r.multiple?$(n)[t]("getValues").join(r.separator):$(n)[t]("getValue")}return $(n).val()},setValue:function(n,r){if(e(n)){var i=$(n)[t]("options");i.multiple?r?$(n)[t]("setValues",r.split(i.separator)):$(n)[t]("clear"):$(n)[t]("setValue",r)}else $(n).val(r)},resize:function(n,r){e(n)?$(n)[t]("resize",r):$(n)._size({width:r,height:$.fn.datagrid.defaults.editorHeight})}}}var n={};return $.map(t,function(t){n[t]=e(t)}),n}var _645=0;$.fn.datagrid=function(t,e){return"string"==typeof t?$.fn.datagrid.methods[t](this,e):(t=t||{},this.each(function(){var e,n=$.data(this,"datagrid");if(n)e=$.extend(n.options,t),n.options=e;else{e=$.extend({},$.extend({},$.fn.datagrid.defaults,{queryParams:{}}),$.fn.datagrid.parseOptions(this),t),$(this).css("width","").css("height","");var r=_684(this,e.rownumbers);e.columns||(e.columns=r.columns),e.frozenColumns||(e.frozenColumns=r.frozenColumns),e.columns=$.extend(!0,[],e.columns),e.frozenColumns=$.extend(!0,[],e.frozenColumns),e.view=$.extend({},e.view),$.data(this,"datagrid",{options:e,panel:r.panel,dc:r.dc,ss:null,selectedRows:[],checkedRows:[],data:{total:0,rows:[]},originalRows:[],updatedRows:[],insertedRows:[],deletedRows:[]})}if(_68d(this),_6a4(this),_65a(this),e.data)$(this).datagrid("loadData",e.data);else{var i=$.fn.datagrid.parseData(this);i.total>0?$(this).datagrid("loadData",i):(e.view.setEmptyMsg(this),$(this).datagrid("autoSizeColumn"))}_6df(this)}))};var _7dd=$.extend({},_7cf(["text","textbox","passwordbox","filebox","numberbox","numberspinner","combobox","combotree","combogrid","combotreegrid","datebox","datetimebox","timespinner","datetimespinner"]),{textarea:{init:function(t,e){var n=$('<textarea class="datagrid-editable-input"></textarea>').appendTo(t);return n.css("vertical-align","middle")._outerHeight(e.height),n},getValue:function(t){return $(t).val()},setValue:function(t,e){$(t).val(e)},resize:function(t,e){$(t)._outerWidth(e)}},checkbox:{init:function(t,e){var n=$('<input type="checkbox">').appendTo(t);return n.val(e.on),n.attr("offval",e.off),n},getValue:function(t){return $(t).is(":checked")?$(t).val():$(t).attr("offval")},setValue:function(t,e){var n=!1;$(t).val()==e&&(n=!0),$(t)._propAttr("checked",n)}},validatebox:{init:function(t,e){var n=$('<input type="text" class="datagrid-editable-input">').appendTo(t);return n.validatebox(e),n},destroy:function(t){$(t).validatebox("destroy")},getValue:function(t){return $(t).val()},setValue:function(t,e){$(t).val(e)},resize:function(t,e){$(t)._outerWidth(e)._outerHeight($.fn.datagrid.defaults.editorHeight)}}});$.fn.datagrid.methods={options:function(t){var e=$.data(t[0],"datagrid").options,n=$.data(t[0],"datagrid").panel.panel("options");return $.extend(e,{width:n.width,height:n.height,closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized})},setSelectionState:function(t){return t.each(function(){_72d(this)})},createStyleSheet:function(t){return _64b(t[0])},getPanel:function(t){return $.data(t[0],"datagrid").panel},getPager:function(t){return $.data(t[0],"datagrid").panel.children("div.datagrid-pager")},getColumnFields:function(t,e){return _6a2(t[0],e)},getColumnOption:function(t,e){return _6a3(t[0],e)},resize:function(t,e){return t.each(function(){_65a(this,e)})},load:function(t,e){return t.each(function(){var t=$(this).datagrid("options");"string"==typeof e&&(t.url=e,e=null),t.pageNumber=1,$(this).datagrid("getPager").pagination("refresh",{pageNumber:1}),_6df(this,e)})},reload:function(t,e){return t.each(function(){var t=$(this).datagrid("options");"string"==typeof e&&(t.url=e,e=null),_6df(this,e)})},reloadFooter:function(t,e){return t.each(function(){var t=$.data(this,"datagrid").options,n=$.data(this,"datagrid").dc;e&&($.data(this,"datagrid").footer=e),t.showFooter&&(t.view.renderFooter.call(t.view,this,n.footer2,!1),t.view.renderFooter.call(t.view,this,n.footer1,!0),t.view.onAfterRender&&t.view.onAfterRender.call(t.view,this),$(this).datagrid("fixRowHeight"))})},loading:function(t){return t.each(function(){var t=$.data(this,"datagrid").options;if($(this).datagrid("getPager").pagination("loading"),t.loadMsg){var e=$(this).datagrid("getPanel");if(!e.children("div.datagrid-mask").length){$('<div class="datagrid-mask" style="display:block"></div>').appendTo(e);var n=$('<div class="datagrid-mask-msg" style="display:block;left:50%"></div>').html(t.loadMsg).appendTo(e);n._outerHeight(40),n.css({marginLeft:-n.outerWidth()/2,lineHeight:n.height()+"px"})}}})},loaded:function(t){return t.each(function(){$(this).datagrid("getPager").pagination("loaded");var t=$(this).datagrid("getPanel");t.children("div.datagrid-mask-msg").remove(),t.children("div.datagrid-mask").remove()})},fitColumns:function(t){return t.each(function(){_6ec(this)})},fixColumnSize:function(t,e){return t.each(function(){_70a(this,e)})},fixRowHeight:function(t,e){return t.each(function(){_670(this,e)})},freezeRow:function(t,e){return t.each(function(){_67d(this,e)})},autoSizeColumn:function(t,e){return t.each(function(){_6fe(this,e)})},loadData:function(t,e){return t.each(function(){_6e0(this,e),_7ae(this)})},getData:function(t){return $.data(t[0],"datagrid").data},getRows:function(t){return $.data(t[0],"datagrid").data.rows},getFooterRows:function(t){return $.data(t[0],"datagrid").footer},getRowIndex:function(t,e){return _735(t[0],e)},getChecked:function(t){return _73b(t[0])},getSelected:function(t){var e=_738(t[0]);return e.length>0?e[0]:null},getSelections:function(t){return _738(t[0])},clearSelections:function(t){return t.each(function(){var t=$.data(this,"datagrid"),e=t.selectedRows,n=t.checkedRows;e.splice(0,e.length),_74e(this),t.options.checkOnSelect&&n.splice(0,n.length)})},clearChecked:function(t){return t.each(function(){var t=$.data(this,"datagrid"),e=t.selectedRows,n=t.checkedRows;n.splice(0,n.length),_6b5(this),t.options.selectOnCheck&&e.splice(0,e.length)})},scrollTo:function(t,e){return t.each(function(){_73e(this,e)})},highlightRow:function(t,e){return t.each(function(){_6c2(this,e),_73e(this,e)})},selectAll:function(t){return t.each(function(){_753(this)})},unselectAll:function(t){return t.each(function(){_74e(this)})},selectRow:function(t,e){return t.each(function(){_6c9(this,e)})},selectRecord:function(t,e){return t.each(function(){if($.data(this,"datagrid").options.idField){var t=_735(this,e);t>=0&&$(this).datagrid("selectRow",t)}})},unselectRow:function(t,e){return t.each(function(){_6ca(this,e)})},checkRow:function(t,e){return t.each(function(){_6c6(this,e)})},uncheckRow:function(t,e){return t.each(function(){_6c7(this,e)})},checkAll:function(t){return t.each(function(){_6b4(this)})},uncheckAll:function(t){return t.each(function(){_6b5(this)})},beginEdit:function(t,e){return t.each(function(){_76d(this,e)})},endEdit:function(t,e){return t.each(function(){_773(this,e,!1)})},cancelEdit:function(t,e){return t.each(function(){_773(this,e,!0)})},getEditors:function(t,e){return _780(t[0],e)},getEditor:function(t,e){return _784(t[0],e)},refreshRow:function(t,e){return t.each(function(){var t=$.data(this,"datagrid").options;t.view.refreshRow.call(t.view,this,e)})},validateRow:function(t,e){return _772(t[0],e)},updateRow:function(t,e){return t.each(function(){_7a8(this,e)})},appendRow:function(t,e){return t.each(function(){_7a5(this,e)})},insertRow:function(t,e){return t.each(function(){_7a1(this,e)})},deleteRow:function(t,e){return t.each(function(){_79b(this,e)})},getChanges:function(t,e){return _795(t[0],e)},acceptChanges:function(t){return t.each(function(){_7b2(this)})},rejectChanges:function(t){return t.each(function(){_7b4(this)})},mergeCells:function(t,e){return t.each(function(){_7c6(this,e)})},showColumn:function(t,e){return t.each(function(){var t=$(this).datagrid("getColumnOption",e);t.hidden&&(t.hidden=!1,$(this).datagrid("getPanel").find('td[field="'+e+'"]').show(),_6e1(this,e,1),$(this).datagrid("fitColumns"))})},hideColumn:function(t,e){return t.each(function(){var t=$(this).datagrid("getColumnOption",e);t.hidden||(t.hidden=!0,$(this).datagrid("getPanel").find('td[field="'+e+'"]').hide(),_6e1(this,e,-1),$(this).datagrid("fitColumns"))})},sort:function(t,e){return t.each(function(){_6b6(this,e)})},gotoPage:function(t,e){return t.each(function(){var t,n,r=this;"object"==typeof e?(t=e.page,n=e.callback):t=e,$(r).datagrid("options").pageNumber=t,$(r).datagrid("getPager").pagination("refresh",{pageNumber:t}),_6df(r,null,function(){n&&n.call(r,t)})})}},$.fn.datagrid.parseOptions=function(_823){var t=$(_823);return $.extend({},$.fn.panel.parseOptions(_823),$.parser.parseOptions(_823,["url","toolbar","idField","sortName","sortOrder","pagePosition","resizeHandle",{sharedStyleSheet:"boolean",fitColumns:"boolean",autoRowHeight:"boolean",striped:"boolean",nowrap:"boolean"},{rownumbers:"boolean",singleSelect:"boolean",ctrlSelect:"boolean",checkOnSelect:"boolean",selectOnCheck:"boolean"},{pagination:"boolean",pageSize:"number",pageNumber:"number"},{multiSort:"boolean",remoteSort:"boolean",showHeader:"boolean",showFooter:"boolean"},{scrollbarSize:"number",scrollOnSelect:"boolean"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):void 0,loadMsg:void 0!=t.attr("loadMsg")?t.attr("loadMsg"):void 0,rowStyler:t.attr("rowStyler")?eval(t.attr("rowStyler")):void 0})},$.fn.datagrid.parseData=function(t){var e=$(t),n={total:0,rows:[]},r=e.datagrid("getColumnFields",!0).concat(e.datagrid("getColumnFields",!1));return e.find("tbody tr").each(function(){n.total++;var t={};$.extend(t,$.parser.parseOptions(this,["iconCls","state"]));for(var e=0;e<r.length;e++)t[r[e]]=$(this).find("td:eq("+e+")").html();n.rows.push(t)}),n};var _826={render:function(t,e,n){var r=$(t).datagrid("getRows");$(e).html(this.renderTable(t,0,r,n))},renderFooter:function(t,e,n){$.data(t,"datagrid").options;for(var r=$.data(t,"datagrid").footer||[],i=$(t).datagrid("getColumnFields",n),o=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'],a=0;a<r.length;a++)o.push('<tr class="datagrid-row" datagrid-row-index="'+a+'">'),o.push(this.renderRow.call(this,t,i,n,a,r[a])),o.push("</tr>");o.push("</tbody></table>"),$(e).html(o.join(""))},renderTable:function(t,e,n,r){var i=$.data(t,"datagrid"),o=i.options;if(r&&!(o.rownumbers||o.frozenColumns&&o.frozenColumns.length))return"";for(var a=$(t).datagrid("getColumnFields",r),s=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'],u=0;u<n.length;u++){var l=n[u],c=o.rowStyler?o.rowStyler.call(t,e,l):"",h=this.getStyleValue(c),d='class="datagrid-row '+(e%2&&o.striped?"datagrid-row-alt ":" ")+h.c+'"',f=h.s?'style="'+h.s+'"':"",p=i.rowIdPrefix+"-"+(r?1:2)+"-"+e;s.push('<tr id="'+p+'" datagrid-row-index="'+e+'" '+d+" "+f+">"),s.push(this.renderRow.call(this,t,a,r,e,l)),s.push("</tr>"),e++}return s.push("</tbody></table>"),s.join("")},renderRow:function(t,e,n,r,i){var o=$.data(t,"datagrid").options,a=[];if(n&&o.rownumbers){var s=r+1;o.pagination&&(s+=(o.pageNumber-1)*o.pageSize),a.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+s+"</div></td>")}for(var u=0;u<e.length;u++){var l=e[u],c=$(t).datagrid("getColumnOption",l);if(c){var h=i[l],d=c.styler?c.styler.call(t,h,i,r)||"":"",f=this.getStyleValue(d),p=f.c?'class="'+f.c+'"':"",A=c.hidden?'style="display:none;'+f.s+'"':f.s?'style="'+f.s+'"':"";a.push('<td field="'+l+'" '+p+" "+A+">");A="";c.checkbox||(c.align&&(A+="text-align:"+c.align+";"),o.nowrap?o.autoRowHeight&&(A+="height:auto;"):A+="white-space:normal;height:auto;"),a.push('<div style="'+A+'" '),a.push(c.checkbox?'class="datagrid-cell-check"':'class="datagrid-cell '+c.cellClass+'"'),a.push(">"),c.checkbox?(a.push('<input type="checkbox" '+(i.checked?'checked="checked"':"")),a.push(' name="'+l+'" value="'+(void 0!=h?h:"")+'">')):c.formatter?a.push(c.formatter(h,i,r)):a.push(h),a.push("</div>"),a.push("</td>")}}return a.join("")},getStyleValue:function(t){var e="",n="";return"string"==typeof t?n=t:t&&(e=t.class||"",n=t.style||""),{c:e,s:n}},refreshRow:function(t,e){this.updateRow.call(this,t,e,{})},updateRow:function(t,e,n){function r(n){var r=i.finder.getTr(t,e,"body",n?1:2);if(r.length){var a=$(t).datagrid("getColumnFields",n),l=r.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");r.html(this.renderRow.call(this,t,a,n,e,o));var c=(r.hasClass("datagrid-row-checked")?" datagrid-row-checked":"")+(r.hasClass("datagrid-row-selected")?" datagrid-row-selected":"");r.attr("style",s).attr("class",u+c),l&&r.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}}var i=$.data(t,"datagrid").options,o=i.finder.getRow(t,e);$.extend(o,n);var a=function(e){var n=i.rowStyler?i.rowStyler.call(t,e,o):"";return this.getStyleValue(n)}.call(this,e),s=a.s,u="datagrid-row "+(e%2&&i.striped?"datagrid-row-alt ":" ")+a.c;r.call(this,!0),r.call(this,!1),$(t).datagrid("fixRowHeight",e)},insertRow:function(t,e,n){function r(n){for(var r=n?1:2,i=u.rows.length-1;i>=e;i--){var s=a.finder.getTr(t,i,"body",r);if(s.attr("datagrid-row-index",i+1),s.attr("id",o.rowIdPrefix+"-"+r+"-"+(i+1)),n&&a.rownumbers){var l=i+2;a.pagination&&(l+=(a.pageNumber-1)*a.pageSize),s.find("div.datagrid-cell-rownumber").html(l)}a.striped&&s.removeClass("datagrid-row-alt").addClass((i+1)%2?"datagrid-row-alt":"")}}function i(n){var r=n?1:2,i=($(t).datagrid("getColumnFields",n),'<tr id="'+(o.rowIdPrefix+"-"+r+"-"+e)+'" class="datagrid-row" datagrid-row-index="'+e+'"></tr>');e>=u.rows.length?u.rows.length?a.finder.getTr(t,"","last",r).after(i):(n?s.body1:s.body2).html('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'+i+"</tbody></table>"):a.finder.getTr(t,e+1,"body",r).before(i)}var o=$.data(t,"datagrid"),a=o.options,s=o.dc,u=o.data;void 0!=e&&null!=e||(e=u.rows.length),e>u.rows.length&&(e=u.rows.length),r.call(this,!0),r.call(this,!1),i.call(this,!0),i.call(this,!1),u.total+=1,u.rows.splice(e,0,n),this.setEmptyMsg(t),this.refreshRow.call(this,t,e)},deleteRow:function(t,e){function n(n){for(var a=n?1:2,s=e+1;s<o.rows.length;s++){var u=i.finder.getTr(t,s,"body",a);if(u.attr("datagrid-row-index",s-1),u.attr("id",r.rowIdPrefix+"-"+a+"-"+(s-1)),n&&i.rownumbers){var l=s;i.pagination&&(l+=(i.pageNumber-1)*i.pageSize),u.find("div.datagrid-cell-rownumber").html(l)}i.striped&&u.removeClass("datagrid-row-alt").addClass((s-1)%2?"datagrid-row-alt":"")}}var r=$.data(t,"datagrid"),i=r.options,o=r.data;i.finder.getTr(t,e).remove(),n.call(this,!0),n.call(this,!1),o.total-=1,o.rows.splice(e,1),this.setEmptyMsg(t)},onBeforeRender:function(t,e){},onAfterRender:function(t){$.data(t,"datagrid").options.showFooter&&$(t).datagrid("getPanel").find("div.datagrid-footer").find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility","hidden"),this.setEmptyMsg(t)},setEmptyMsg:function(t){var e=$.data(t,"datagrid"),n=e.options,r=0==n.finder.getRows(t).length;if(r&&this.renderEmptyRow(t),n.emptyMsg&&(e.dc.view.children(".datagrid-empty").remove(),r)){var i=e.dc.header2.parent().outerHeight();$('<div class="datagrid-empty"></div>').appendTo(e.dc.view).html(n.emptyMsg).css("top",i+"px")}},renderEmptyRow:function(t){var e=$.map($(t).datagrid("getColumnFields"),function(e){return $(t).datagrid("getColumnOption",e)});$.map(e,function(t){t.formatter1=t.formatter,t.styler1=t.styler,t.formatter=t.styler=void 0});var n=$.data(t,"datagrid").dc.body2;n.html(this.renderTable(t,0,[{}],!1)),n.find("tbody *").css({height:1,borderColor:"transparent",background:"transparent"});var r=n.find(".datagrid-row");r.removeClass("datagrid-row").removeAttr("datagrid-row-index"),r.find(".datagrid-cell,.datagrid-cell-check").empty(),$.map(e,function(t){t.formatter=t.formatter1,t.styler=t.styler1,t.formatter1=t.styler1=void 0})}};$.fn.datagrid.defaults=$.extend({},$.fn.panel.defaults,{sharedStyleSheet:!1,frozenColumns:void 0,columns:void 0,fitColumns:!1,resizeHandle:"right",autoRowHeight:!0,toolbar:null,striped:!1,method:"post",nowrap:!0,idField:null,url:null,data:null,loadMsg:"Processing, please wait ...",emptyMsg:"",rownumbers:!1,singleSelect:!1,ctrlSelect:!1,selectOnCheck:!0,checkOnSelect:!0,pagination:!1,pagePosition:"bottom",pageNumber:1,pageSize:10,pageList:[10,20,30,40,50],queryParams:{},sortName:null,sortOrder:"asc",multiSort:!1,remoteSort:!0,showHeader:!0,showFooter:!1,scrollOnSelect:!0,scrollbarSize:18,rownumberWidth:30,editorHeight:24,headerEvents:{mouseover:_6ae(!0),mouseout:_6ae(!1),click:_6b2,dblclick:_6b7,contextmenu:_6ba},rowEvents:{mouseover:_6bc(!0),mouseout:_6bc(!1),click:_6c3,dblclick:_6cd,contextmenu:_6d1},rowStyler:function(t,e){},loader:function(t,e,n){var r=$(this).datagrid("options");if(!r.url)return!1;$.ajax({type:r.method,url:r.url,data:t,dataType:"json",success:function(t){e(t)},error:function(){n.apply(this,arguments)}})},loadFilter:function(t){return t},editors:_7dd,finder:{getTr:function(t,e,n,r){n=n||"body",r=r||0;var i=$.data(t,"datagrid"),o=i.dc,a=i.options;if(0==r){var s=a.finder.getTr(t,e,n,1),u=a.finder.getTr(t,e,n,2);return s.add(u)}if("body"==n){var l=$("#"+i.rowIdPrefix+"-"+r+"-"+e);return l.length||(l=(1==r?o.body1:o.body2).find(">table>tbody>tr[datagrid-row-index="+e+"]")),l}return"footer"==n?(1==r?o.footer1:o.footer2).find(">table>tbody>tr[datagrid-row-index="+e+"]"):"selected"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr.datagrid-row-selected"):"highlight"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr.datagrid-row-over"):"checked"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr.datagrid-row-checked"):"editing"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr.datagrid-row-editing"):"last"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr[datagrid-row-index]:last"):"allbody"==n?(1==r?o.body1:o.body2).find(">table>tbody>tr[datagrid-row-index]"):"allfooter"==n?(1==r?o.footer1:o.footer2).find(">table>tbody>tr[datagrid-row-index]"):void 0},getRow:function(t,e){var n="object"==typeof e?e.attr("datagrid-row-index"):e;return $.data(t,"datagrid").data.rows[parseInt(n)]},getRows:function(t){return $(t).datagrid("getRows")}},view:_826,onBeforeLoad:function(t){},onLoadSuccess:function(){},onLoadError:function(){},onClickRow:function(t,e){},onDblClickRow:function(t,e){},onClickCell:function(t,e,n){},onDblClickCell:function(t,e,n){},onBeforeSortColumn:function(t,e){},onSortColumn:function(t,e){},onResizeColumn:function(t,e){},onBeforeSelect:function(t,e){},onSelect:function(t,e){},onBeforeUnselect:function(t,e){},onUnselect:function(t,e){},onSelectAll:function(t){},onUnselectAll:function(t){},onBeforeCheck:function(t,e){},onCheck:function(t,e){},onBeforeUncheck:function(t,e){},onUncheck:function(t,e){},onCheckAll:function(t){},onUncheckAll:function(t){},onBeforeEdit:function(t,e){},onBeginEdit:function(t,e){},onEndEdit:function(t,e,n){},onAfterEdit:function(t,e,n){},onCancelEdit:function(t,e){},onHeaderContextMenu:function(t,e){},onRowContextMenu:function(t,e,n){}})}($$),function(t){function e(e){t.data(e,"propertygrid");var i=t.data(e,"propertygrid").options;t(e).datagrid(t.extend({},i,{cls:"propertygrid",view:i.showGroup?i.groupView:i.view,onBeforeEdit:function(n,r){if(0==i.onBeforeEdit.call(e,n,r))return!1;var o=t(this),r=o.datagrid("getRows")[n];o.datagrid("getColumnOption","value").editor=r.editor},onClickCell:function(o,a,s){if(r!=this&&(n(r),r=this),i.editIndex!=o){n(r),t(this).datagrid("beginEdit",o);var u=t(this).datagrid("getEditor",{index:o,field:a});if(u||(u=t(this).datagrid("getEditor",{index:o,field:"value"})),u){var l=t(u.target);(l.data("textbox")?l.textbox("textbox"):l).focus(),i.editIndex=o}}i.onClickCell.call(e,o,a,s)},loadFilter:function(t){return n(this),i.loadFilter.call(this,t)}}))}function n(e){var n=t(e);if(n.length){var r=t.data(e,"propertygrid").options;r.finder.getTr(e,null,"editing").each(function(){var e=parseInt(t(this).attr("datagrid-row-index"));n.datagrid("validateRow",e)?n.datagrid("endEdit",e):n.datagrid("cancelEdit",e)}),r.editIndex=void 0}}var r;t(document).unbind(".propertygrid").bind("mousedown.propertygrid",function(e){t(e.target).closest("div.datagrid-view,div.combo-panel").length||(n(r),r=void 0)}),t.fn.propertygrid=function(n,r){if("string"==typeof n){var i=t.fn.propertygrid.methods[n];return i?i(this,r):this.datagrid(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"propertygrid");if(r)t.extend(r.options,n);else{var i=t.extend({},t.fn.propertygrid.defaults,t.fn.propertygrid.parseOptions(this),n);i.frozenColumns=t.extend(!0,[],i.frozenColumns),i.columns=t.extend(!0,[],i.columns),t.data(this,"propertygrid",{options:i})}e(this)})},t.fn.propertygrid.methods={options:function(e){return t.data(e[0],"propertygrid").options}},t.fn.propertygrid.parseOptions=function(e){return t.extend({},t.fn.datagrid.parseOptions(e),t.parser.parseOptions(e,[{showGroup:"boolean"}]))};var i=t.extend({},t.fn.datagrid.defaults.view,{render:function(e,n,r){for(var i=[],o=this.groups,a=0;a<o.length;a++)i.push(this.renderGroup.call(this,e,a,o[a],r));t(n).html(i.join(""))},renderGroup:function(e,n,r,i){var o=t.data(e,"datagrid"),a=o.options,s=t(e).datagrid("getColumnFields",i),u=[];u.push('<div class="datagrid-group" group-index='+n+">"),(i&&(a.rownumbers||a.frozenColumns.length)||!i&&!a.rownumbers&&!a.frozenColumns.length)&&(u.push('<span class="datagrid-group-expander">'),u.push('<span class="datagrid-row-expander datagrid-row-collapse">&nbsp;</span>'),u.push("</span>")),i||(u.push('<span class="datagrid-group-title">'),u.push(a.groupFormatter.call(e,r.value,r.rows)),u.push("</span>")),u.push("</div>"),u.push('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>');for(var l=r.startIndex,c=0;c<r.rows.length;c++){var h=a.rowStyler?a.rowStyler.call(e,l,r.rows[c]):"",d="",f="";"string"==typeof h?f=h:h&&(d=h.class||"",f=h.style||"");var p='class="datagrid-row '+(l%2&&a.striped?"datagrid-row-alt ":" ")+d+'"',A=f?'style="'+f+'"':"",g=o.rowIdPrefix+"-"+(i?1:2)+"-"+l;u.push('<tr id="'+g+'" datagrid-row-index="'+l+'" '+p+" "+A+">"),u.push(this.renderRow.call(this,e,s,i,l,r.rows[c])),u.push("</tr>"),l++}return u.push("</tbody></table>"),u.join("")},bindEvents:function(e){var n=t.data(e,"datagrid").dc,r=n.body1.add(n.body2),i=(t.data(r[0],"events")||t._data(r[0],"events")).click[0].handler;r.unbind("click").bind("click",function(n){var r=t(n.target).closest("span.datagrid-row-expander");if(r.length){var o=r.closest("div.datagrid-group").attr("group-index");r.hasClass("datagrid-row-collapse")?t(e).datagrid("collapseGroup",o):t(e).datagrid("expandGroup",o)}else i(n);n.stopPropagation()})},onBeforeRender:function(e,n){var r=t.data(e,"datagrid"),i=r.options;t("#datagrid-group-style").length||t("head").append('<style id="datagrid-group-style">.datagrid-group{height:'+i.groupHeight+"px;overflow:hidden;font-weight:bold;border-bottom:1px solid #ccc;}.datagrid-group-title,.datagrid-group-expander{display:inline-block;vertical-align:bottom;height:100%;line-height:"+i.groupHeight+"px;padding:0 4px;}.datagrid-group-expander{width:"+i.expanderWidth+"px;text-align:center;padding:0}.datagrid-row-expander{margin:"+Math.floor((i.groupHeight-16)/2)+"px 0;display:inline-block;width:16px;height:16px;cursor:pointer}</style>");for(var o=[],a=0;a<n.length;a++){var s=n[a];(c=function(t){for(var e=0;e<o.length;e++){var n=o[e];if(n.value==t)return n}return null}(s[i.groupField]))?c.rows.push(s):(c={value:s[i.groupField],rows:[s]},o.push(c))}for(var u=0,l=[],a=0;a<o.length;a++){var c=o[a];c.startIndex=u,u+=c.rows.length,l=l.concat(c.rows)}r.data.rows=l,this.groups=o;var h=this;setTimeout(function(){h.bindEvents(e)},0)}});t.extend(t.fn.datagrid.methods,{groups:function(t){return t.datagrid("options").view.groups},expandGroup:function(e,n){return e.each(function(){var e=t.data(this,"datagrid").dc.view.find(void 0!=n?'div.datagrid-group[group-index="'+n+'"]':"div.datagrid-group"),r=e.find("span.datagrid-row-expander");r.hasClass("datagrid-row-expand")&&(r.removeClass("datagrid-row-expand").addClass("datagrid-row-collapse"),e.next("table").show()),t(this).datagrid("fixRowHeight")})},collapseGroup:function(e,n){return e.each(function(){var e=t.data(this,"datagrid").dc.view.find(void 0!=n?'div.datagrid-group[group-index="'+n+'"]':"div.datagrid-group"),r=e.find("span.datagrid-row-expander");r.hasClass("datagrid-row-collapse")&&(r.removeClass("datagrid-row-collapse").addClass("datagrid-row-expand"),e.next("table").hide()),t(this).datagrid("fixRowHeight")})}}),t.extend(i,{refreshGroupTitle:function(e,n){var r=t.data(e,"datagrid"),i=r.options,o=r.dc,a=this.groups[n];o.body2.children("div.datagrid-group[group-index="+n+"]").find("span.datagrid-group-title").html(i.groupFormatter.call(e,a.value,a.rows))},insertRow:function(e,n,r){function i(t,n){var r=n?1:2,i=s.finder.getTr(e,t-1,"body",r);s.finder.getTr(e,t,"body",r).insertAfter(i)}var o,a=t.data(e,"datagrid"),s=a.options,u=a.dc,l=null;if(a.data.rows.length){for(var c=0;c<this.groups.length;c++)if(this.groups[c].value==r[s.groupField]){l=this.groups[c],o=c;break}l?(void 0!=n&&null!=n||(n=a.data.rows.length),n<l.startIndex?n=l.startIndex:n>l.startIndex+l.rows.length&&(n=l.startIndex+l.rows.length),t.fn.datagrid.defaults.view.insertRow.call(this,e,n,r),n>=l.startIndex+l.rows.length&&(i(n,!0),i(n,!1)),l.rows.splice(n-l.startIndex,0,r)):(l={value:r[s.groupField],rows:[r],startIndex:a.data.rows.length},o=this.groups.length,u.body1.append(this.renderGroup.call(this,e,o,l,!0)),u.body2.append(this.renderGroup.call(this,e,o,l,!1)),this.groups.push(l),a.data.rows.push(r)),this.refreshGroupTitle(e,o)}else t(e).datagrid("loadData",[r])},updateRow:function(e,n,r){var i=t.data(e,"datagrid").options;t.fn.datagrid.defaults.view.updateRow.call(this,e,n,r);var o=i.finder.getTr(e,n,"body",2).closest("table.datagrid-btable"),a=parseInt(o.prev().attr("group-index"));this.refreshGroupTitle(e,a)},deleteRow:function(e,n){var r=t.data(e,"datagrid"),i=r.options,o=r.dc,a=o.body1.add(o.body2),s=i.finder.getTr(e,n,"body",2).closest("table.datagrid-btable"),u=parseInt(s.prev().attr("group-index"));t.fn.datagrid.defaults.view.deleteRow.call(this,e,n);var l=this.groups[u];if(l.rows.length>1)l.rows.splice(n-l.startIndex,1),this.refreshGroupTitle(e,u);else{a.children("div.datagrid-group[group-index="+u+"]").remove();for(c=u+1;c<this.groups.length;c++)a.children("div.datagrid-group[group-index="+c+"]").attr("group-index",c-1);this.groups.splice(u,1)}for(var n=0,c=0;c<this.groups.length;c++)(l=this.groups[c]).startIndex=n,n+=l.rows.length}}),t.fn.propertygrid.defaults=t.extend({},t.fn.datagrid.defaults,{groupHeight:21,expanderWidth:16,singleSelect:!0,remoteSort:!1,fitColumns:!0,loadMsg:"",frozenColumns:[[{field:"f",width:16,resizable:!1}]],columns:[[{field:"name",title:"Name",width:100,sortable:!0},{field:"value",title:"Value",width:100,resizable:!1}]],showGroup:!1,groupView:i,groupField:"group",groupFormatter:function(t,e){return t}})}($$),function(t){function e(e){var r=t.data(e,"treegrid"),i=r.options;t(e).datagrid(t.extend({},i,{url:null,data:null,loader:function(){return!1},onBeforeLoad:function(){return!1},onLoadSuccess:function(){},onResizeColumn:function(t,r){n(e),i.onResizeColumn.call(e,t,r)},onBeforeSortColumn:function(t,n){if(0==i.onBeforeSortColumn.call(e,t,n))return!1},onSortColumn:function(n,r){if(i.sortName=n,i.sortOrder=r,i.remoteSort)p(e);else{var o=t(e).treegrid("getData");f(e,null,o)}i.onSortColumn.call(e,n,r)},onClickCell:function(t,n){i.onClickCell.call(e,n,b(e,t))},onDblClickCell:function(t,n){i.onDblClickCell.call(e,n,b(e,t))},onRowContextMenu:function(t,n){i.onContextMenu.call(e,t,b(e,n))}}));var o=t.data(e,"datagrid").options;if(i.columns=o.columns,i.frozenColumns=o.frozenColumns,r.dc=t.data(e,"datagrid").dc,i.pagination){var a=t(e).datagrid("getPager");a.pagination({pageNumber:i.pageNumber,pageSize:i.pageSize,pageList:i.pageList,onSelectPage:function(t,n){i.pageNumber=t,i.pageSize=n,p(e)}}),i.pageSize=a.pagination("options").pageSize}}function n(e,n){var r=t.data(e,"datagrid").options;if(!t.data(e,"datagrid").dc.body1.is(":empty")&&(!r.nowrap||r.autoRowHeight)&&void 0!=n)for(var i=m(e,n),o=0;o<i.length;o++)!function(t){var n=r.finder.getTr(e,t,"body",1),i=r.finder.getTr(e,t,"body",2);n.css("height",""),i.css("height","");var o=Math.max(n.height(),i.height());n.css("height",o),i.css("height",o)}(i[o][r.idField]);t(e).datagrid("fixRowHeight",n)}function r(e){var n=t.data(e,"datagrid").dc;t.data(e,"treegrid").options.rownumbers&&n.body1.find("div.datagrid-cell-rownumber").each(function(e){t(this).html(e+1)})}function i(e){return function(n){t.fn.datagrid.defaults.rowEvents[e?"mouseover":"mouseout"](n);var r=t(n.target),i=e?"addClass":"removeClass";r.hasClass("tree-hit")&&(r.hasClass("tree-expanded")?r[i]("tree-expanded-hover"):r[i]("tree-collapsed-hover"))}}function o(e){return t(e).closest("div.datagrid-view").children(".datagrid-f")[0]}function a(e,n,r,i){var o=t.data(e,"treegrid"),a=(o.checkedRows,o.options);if(a.checkbox){var c=b(e,n);if(c.checkState){var h=a.finder.getTr(e,n).find(".tree-checkbox");if(void 0==r&&(h.hasClass("tree-checkbox1")?r=!1:h.hasClass("tree-checkbox0")?r=!0:(void 0==c._checked&&(c._checked=h.hasClass("tree-checkbox1")),r=!c._checked)),c._checked=r,r){if(h.hasClass("tree-checkbox1"))return}else if(h.hasClass("tree-checkbox0"))return;(i||0!=a.onBeforeCheckNode.call(e,c,r))&&(a.cascadeCheck?(u(e,c,r),l(e,c)):s(e,c,r?"1":"0"),i||a.onCheckNode.call(e,c,r))}}}function s(e,n,r){var i=t.data(e,"treegrid"),o=i.checkedRows,a=i.options;if(n.checkState&&void 0!=r){var s=a.finder.getTr(e,n[a.idField]).find(".tree-checkbox");s.length&&(n.checkState=["unchecked","checked","indeterminate"][r],n.checked="checked"==n.checkState,s.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),s.addClass("tree-checkbox"+r),0==r?t.easyui.removeArrayItem(o,a.idField,n[a.idField]):t.easyui.addArrayItem(o,a.idField,n))}}function u(e,n,r){var i=r?1:0;s(e,n,i),t.easyui.forEach(n.children||[],!0,function(t){s(e,t,i)})}function l(e,n){var r=v(e,n[t.data(e,"treegrid").options.idField]);r&&(s(e,r,c(r)),l(e,r))}function c(e){var n=0,r=0,i=0;if(t.easyui.forEach(e.children||[],!1,function(t){t.checkState&&(n++,"checked"==t.checkState?i++:"unchecked"==t.checkState&&r++)}),0!=n){return r==n?0:i==n?1:2}}function h(e,n){var r=t.data(e,"treegrid").options;if(r.checkbox){var i=b(e,n),o=r.finder.getTr(e,n),s=o.find(".tree-checkbox");if(r.view.hasCheckbox(e,i))if(s.length||(i.checkState=i.checkState||"unchecked",t('<span class="tree-checkbox"></span>').insertBefore(o.find(".tree-title"))),"checked"==i.checkState)a(e,n,!0,!0);else if("unchecked"==i.checkState)a(e,n,!1,!0);else{var u=c(i);0===u?a(e,n,!1,!0):1===u&&a(e,n,!0,!0)}else s.remove(),i.checkState=void 0,i.checked=void 0,l(e,i)}}function d(e,n){function r(e,n){t('<tr class="treegrid-tr-tree"><td style="border:0px" colspan="'+n+'"><div></div></td></tr>').insertAfter(e)}var i=t.data(e,"treegrid").options,o=i.finder.getTr(e,n,"body",1),a=i.finder.getTr(e,n,"body",2),s=t(e).datagrid("getColumnFields",!0).length+(i.rownumbers?1:0),u=t(e).datagrid("getColumnFields",!1).length;r(o,s),r(a,u)}function f(e,i,o,a,s){var u=t.data(e,"treegrid"),l=u.options,c=u.dc;o=l.loadFilter.call(e,o,i);var h=b(e,i);if(h){var d=l.finder.getTr(e,i,"body",1),f=l.finder.getTr(e,i,"body",2),p=d.next("tr.treegrid-tr-tree").children("td").children("div"),A=f.next("tr.treegrid-tr-tree").children("td").children("div");a||(h.children=[])}else{var p=c.body1,A=c.body2;a||(u.data=[])}if(a||(p.empty(),A.empty()),l.view.onBeforeRender&&l.view.onBeforeRender.call(l.view,e,i,o),l.view.render.call(l.view,e,p,!0),l.view.render.call(l.view,e,A,!1),l.showFooter&&(l.view.renderFooter.call(l.view,e,c.footer1,!0),l.view.renderFooter.call(l.view,e,c.footer2,!1)),l.view.onAfterRender&&l.view.onAfterRender.call(l.view,e),!i&&l.pagination){var g=t.data(e,"treegrid").total,v=t(e).datagrid("getPager");v.pagination("options").total!=g&&v.pagination({total:g})}n(e),r(e),t(e).treegrid("showLines"),t(e).treegrid("setSelectionState"),t(e).treegrid("autoSizeColumn"),s||l.onLoadSuccess.call(e,h,o)}function p(e,n,r,i,o){var a=t.data(e,"treegrid").options,s=t(e).datagrid("getPanel").find("div.datagrid-body");void 0==n&&a.queryParams&&(a.queryParams.id=void 0),r&&(a.queryParams=r);var u=t.extend({},a.queryParams);a.pagination&&t.extend(u,{page:a.pageNumber,rows:a.pageSize}),a.sortName&&t.extend(u,{sort:a.sortName,order:a.sortOrder});var l=b(e,n);if(0!=a.onBeforeLoad.call(e,l,u)){var c=s.find('tr[node-id="'+n+'"] span.tree-folder');c.addClass("tree-loading"),t(e).treegrid("loading"),0==a.loader.call(e,u,function(r){c.removeClass("tree-loading"),t(e).treegrid("loaded"),f(e,n,r,i),o&&o()},function(){c.removeClass("tree-loading"),t(e).treegrid("loaded"),a.onLoadError.apply(e,arguments),o&&o()})&&(c.removeClass("tree-loading"),t(e).treegrid("loaded"))}}function A(t){var e=g(t);return e.length?e[0]:null}function g(e){return t.data(e,"treegrid").data}function v(t,e){var n=b(t,e);return n._parentId?b(t,n._parentId):null}function m(e,n){var r=t.data(e,"treegrid").data;if(n){var i=b(e,n);r=i?i.children||[]:[]}var o=[];return t.easyui.forEach(r,!0,function(t){o.push(t)}),o}function y(e,n){var r=t.data(e,"treegrid").options;return r.finder.getTr(e,n).children('td[field="'+r.treeField+'"]').find("span.tree-indent,span.tree-hit").length}function b(e,n){var r=t.data(e,"treegrid"),i=r.options,o=null;return t.easyui.forEach(r.data,!0,function(t){if(t[i.idField]==n)return o=t,!1}),o}function _(e,r){var i=t.data(e,"treegrid").options,o=b(e,r),a=i.finder.getTr(e,r),s=a.find("span.tree-hit");if(0!=s.length&&!s.hasClass("tree-collapsed")&&0!=i.onBeforeCollapse.call(e,o)){s.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),s.next().removeClass("tree-folder-open"),o.state="closed";var u=(a=a.next("tr.treegrid-tr-tree")).children("td").children("div");i.animate?u.slideUp("normal",function(){t(e).treegrid("autoSizeColumn"),n(e,r),i.onCollapse.call(e,o)}):(u.hide(),t(e).treegrid("autoSizeColumn"),n(e,r),i.onCollapse.call(e,o))}}function w(e,r){function i(i){u.state="open",o.animate?i.slideDown("normal",function(){t(e).treegrid("autoSizeColumn"),n(e,r),o.onExpand.call(e,u)}):(i.show(),t(e).treegrid("autoSizeColumn"),n(e,r),o.onExpand.call(e,u))}var o=t.data(e,"treegrid").options,a=o.finder.getTr(e,r),s=a.find("span.tree-hit"),u=b(e,r);if(0!=s.length&&!s.hasClass("tree-expanded")&&0!=o.onBeforeExpand.call(e,u)){s.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),s.next().addClass("tree-folder-open");var l=a.next("tr.treegrid-tr-tree");if(l.length)i(c=l.children("td").children("div"));else{d(e,u[o.idField]);var c=(l=a.next("tr.treegrid-tr-tree")).children("td").children("div");c.hide();var h=t.extend({},o.queryParams||{});h.id=u[o.idField],p(e,u[o.idField],h,!0,function(){c.is(":empty")?l.remove():i(c)})}}}function x(e,n){t.data(e,"treegrid").options.finder.getTr(e,n).find("span.tree-hit").hasClass("tree-expanded")?_(e,n):w(e,n)}function C(e,n){var r=t.data(e,"treegrid").options,i=m(e,n);n&&i.unshift(b(e,n));for(var o=0;o<i.length;o++)_(e,i[o][r.idField])}function E(e,n){var r=t.data(e,"treegrid").options,i=m(e,n);n&&i.unshift(b(e,n));for(var o=0;o<i.length;o++)w(e,i[o][r.idField])}function B(e,n){for(var r=t.data(e,"treegrid").options,i=[],o=v(e,n);o;){var a=o[r.idField];i.unshift(a),o=v(e,a)}for(var s=0;s<i.length;s++)w(e,i[s])}function N(e,n){var r=t.data(e,"treegrid"),i=r.options;if(n.parent){var o=i.finder.getTr(e,n.parent);0==o.next("tr.treegrid-tr-tree").length&&d(e,n.parent);var a=o.children('td[field="'+i.treeField+'"]').children("div.datagrid-cell").children("span.tree-icon");if(a.hasClass("tree-file")){a.removeClass("tree-file").addClass("tree-folder tree-folder-open");var s=t('<span class="tree-hit tree-expanded"></span>').insertBefore(a);s.prev().length&&s.prev().remove()}}f(e,n.parent,n.data,r.data.length>0,!0)}function T(e,n){function i(t){var r=t?1:2,i=a.finder.getTr(e,n.data[a.idField],"body",r),s=i.closest("table.datagrid-btable");i=i.parent().children();var u=a.finder.getTr(e,o,"body",r);if(n.before)i.insertBefore(u);else{var l=u.next("tr.treegrid-tr-tree");i.insertAfter(l.length?l:u)}s.remove()}var o=n.before||n.after,a=t.data(e,"treegrid").options,s=v(e,o);N(e,{parent:s?s[a.idField]:null,data:[n.data]});for(var u=s?s.children:t(e).treegrid("getRoots"),l=0;l<u.length;l++)if(u[l][a.idField]==o){var c=u[u.length-1];u.splice(n.before?l:l+1,0,c),u.splice(u.length-1,1);break}i(!0),i(!1),r(e),t(e).treegrid("showLines")}function I(e,n){var i=t.data(e,"treegrid"),o=i.options,a=v(e,n);t(e).datagrid("deleteRow",n),t.easyui.removeArrayItem(i.checkedRows,o.idField,n),r(e),a&&h(e,a[o.idField]),i.total-=1,t(e).datagrid("getPager").pagination("refresh",{total:i.total}),t(e).treegrid("showLines")}function F(e){function n(e){if(t.map(e,function(t){t.children&&t.children.length?n(t.children):i(t).find(".tree-icon").prev().addClass("tree-join")}),e.length){var r=i(e[e.length-1]);r.addClass("tree-node-last"),r.find(".tree-join").removeClass("tree-join").addClass("tree-joinbottom")}}function r(n){t.map(n,function(t){t.children&&t.children.length&&r(t.children)});for(var i=0;i<n.length-1;i++){var s=n[i],u=o.treegrid("getLevel",s[a.idField]);a.finder.getTr(e,s[a.idField]).next().find('tr.datagrid-row td[field="'+a.treeField+'"] div.datagrid-cell').find("span:eq("+(u-1)+")").addClass("tree-line")}}function i(t){return a.finder.getTr(e,t[a.idField]).find('td[field="'+a.treeField+'"] div.datagrid-cell')}var o=t(e),a=o.treegrid("options");if(a.lines){o.treegrid("getPanel").addClass("tree-lines"),o.treegrid("getPanel").find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),o.treegrid("getPanel").find("div.datagrid-cell").removeClass("tree-node-last tree-root-first tree-root-one");var s=o.treegrid("getRoots");s.length>1?i(s[0]).addClass("tree-root-first"):1==s.length&&i(s[0]).addClass("tree-root-one"),n(s),r(s)}else o.treegrid("getPanel").removeClass("tree-lines")}t.fn.treegrid=function(n,r){if("string"==typeof n){var i=t.fn.treegrid.methods[n];return i?i(this,r):this.datagrid(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"treegrid");r?t.extend(r.options,n):r=t.data(this,"treegrid",{options:t.extend({},t.fn.treegrid.defaults,t.fn.treegrid.parseOptions(this),n),data:[],checkedRows:[],tmpIds:[]}),e(this),r.options.data&&t(this).treegrid("loadData",r.options.data),p(this)})},t.fn.treegrid.methods={options:function(e){return t.data(e[0],"treegrid").options},resize:function(e,n){return e.each(function(){t(this).datagrid("resize",n)})},fixRowHeight:function(t,e){return t.each(function(){n(this,e)})},loadData:function(t,e){return t.each(function(){f(this,e.parent,e)})},load:function(e,n){return e.each(function(){t(this).treegrid("options").pageNumber=1,t(this).treegrid("getPager").pagination({pageNumber:1}),t(this).treegrid("reload",n)})},reload:function(e,n){return e.each(function(){var e=t(this).treegrid("options"),r={};if("object"==typeof n?r=n:(r=t.extend({},e.queryParams)).id=n,r.id){var i=t(this).treegrid("find",r.id);i.children&&i.children.splice(0,i.children.length),e.queryParams=r;var o=e.finder.getTr(this,r.id);o.next("tr.treegrid-tr-tree").remove(),o.find("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),w(this,r.id)}else p(this,null,r)})},reloadFooter:function(e,n){return e.each(function(){var e=t.data(this,"treegrid").options,r=t.data(this,"datagrid").dc;n&&(t.data(this,"treegrid").footer=n),e.showFooter&&(e.view.renderFooter.call(e.view,this,r.footer1,!0),e.view.renderFooter.call(e.view,this,r.footer2,!1),e.view.onAfterRender&&e.view.onAfterRender.call(e.view,this),t(this).treegrid("fixRowHeight"))})},getData:function(e){return t.data(e[0],"treegrid").data},getFooterRows:function(e){return t.data(e[0],"treegrid").footer},getRoot:function(t){return A(t[0])},getRoots:function(t){return g(t[0])},getParent:function(t,e){return v(t[0],e)},getChildren:function(t,e){return m(t[0],e)},getLevel:function(t,e){return y(t[0],e)},find:function(t,e){return b(t[0],e)},isLeaf:function(e,n){return 0==t.data(e[0],"treegrid").options.finder.getTr(e[0],n).find("span.tree-hit").length},select:function(e,n){return e.each(function(){t(this).datagrid("selectRow",n)})},unselect:function(e,n){return e.each(function(){t(this).datagrid("unselectRow",n)})},collapse:function(t,e){return t.each(function(){_(this,e)})},expand:function(t,e){return t.each(function(){w(this,e)})},toggle:function(t,e){return t.each(function(){x(this,e)})},collapseAll:function(t,e){return t.each(function(){C(this,e)})},expandAll:function(t,e){return t.each(function(){E(this,e)})},expandTo:function(t,e){return t.each(function(){B(this,e)})},append:function(t,e){return t.each(function(){N(this,e)})},insert:function(t,e){return t.each(function(){T(this,e)})},remove:function(t,e){return t.each(function(){I(this,e)})},pop:function(t,e){var n=t.treegrid("find",e);return t.treegrid("remove",e),n},refresh:function(e,n){return e.each(function(){var e=t.data(this,"treegrid").options;e.view.refreshRow.call(e.view,this,n)})},update:function(e,n){return e.each(function(){var e=t.data(this,"treegrid").options,r=n.row;e.view.updateRow.call(e.view,this,n.id,r),void 0!=r.checked&&(r=b(this,n.id),t.extend(r,{checkState:r.checked?"checked":!1===r.checked?"unchecked":void 0}),h(this,n.id))})},beginEdit:function(e,n){return e.each(function(){t(this).datagrid("beginEdit",n),t(this).treegrid("fixRowHeight",n)})},endEdit:function(e,n){return e.each(function(){t(this).datagrid("endEdit",n)})},cancelEdit:function(e,n){return e.each(function(){t(this).datagrid("cancelEdit",n)})},showLines:function(t){return t.each(function(){F(this)})},setSelectionState:function(e){return e.each(function(){t(this).datagrid("setSelectionState");for(var e=t(this).data("treegrid"),n=0;n<e.tmpIds.length;n++)a(this,e.tmpIds[n],!0,!0);e.tmpIds=[]})},getCheckedNodes:function(e,n){n=n||"checked";var r=[];return t.easyui.forEach(e.data("treegrid").checkedRows,!1,function(t){t.checkState==n&&r.push(t)}),r},checkNode:function(t,e){return t.each(function(){a(this,e,!0)})},uncheckNode:function(t,e){return t.each(function(){a(this,e,!1)})},clearChecked:function(e){return e.each(function(){var e=this,n=t(e).treegrid("options");t(e).datagrid("clearChecked"),t.map(t(e).treegrid("getCheckedNodes"),function(t){a(e,t[n.idField],!1,!0)})})}},t.fn.treegrid.parseOptions=function(e){return t.extend({},t.fn.datagrid.parseOptions(e),t.parser.parseOptions(e,["treeField",{checkbox:"boolean",cascadeCheck:"boolean",onlyLeafCheck:"boolean"},{animate:"boolean"}]))};var S=t.extend({},t.fn.datagrid.defaults.view,{render:function(e,n,r){function i(n,r,l){for(var c=t(e).treegrid("getParent",l[0][o.idField]),h=(c?c.children.length:t(e).treegrid("getRoots").length)-l.length,d=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'],f=0;f<l.length;f++){var p=l[f];"open"!=p.state&&"closed"!=p.state&&(p.state="open");var A=o.rowStyler?o.rowStyler.call(e,p):"",g=this.getStyleValue(A),v='class="datagrid-row '+(h++%2&&o.striped?"datagrid-row-alt ":" ")+g.c+'"',m=g.s?'style="'+g.s+'"':"",y=s+"-"+(n?1:2)+"-"+p[o.idField];if(d.push('<tr id="'+y+'" node-id="'+p[o.idField]+'" '+v+" "+m+">"),(d=d.concat(u.renderRow.call(u,e,a,n,r,p))).push("</tr>"),p.children&&p.children.length){var b=i.call(this,n,r+1,p.children),_="closed"==p.state?"none":"block";d.push('<tr class="treegrid-tr-tree"><td style="border:0px" colspan='+(a.length+(o.rownumbers?1:0))+'><div style="display:'+_+'">'),(d=d.concat(b)).push("</div></td></tr>")}}return d.push("</tbody></table>"),d}var o=t.data(e,"treegrid").options,a=t(e).datagrid("getColumnFields",r),s=t.data(e,"datagrid").rowIdPrefix;if(!r||o.rownumbers||o.frozenColumns&&o.frozenColumns.length){var u=this;if(this.treeNodes&&this.treeNodes.length){var l=i.call(this,r,this.treeLevel,this.treeNodes);t(n).append(l.join(""))}}},renderFooter:function(e,n,r){for(var i=t.data(e,"treegrid").options,o=t.data(e,"treegrid").footer||[],a=t(e).datagrid("getColumnFields",r),s=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'],u=0;u<o.length;u++){var l=o[u];l[i.idField]=l[i.idField]||"foot-row-id"+u,s.push('<tr class="datagrid-row" node-id="'+l[i.idField]+'">'),s.push(this.renderRow.call(this,e,a,r,0,l)),s.push("</tr>")}s.push("</tbody></table>"),t(n).html(s.join(""))},renderRow:function(e,n,r,i,o){var a=t.data(e,"treegrid"),s=a.options,u=[];r&&s.rownumbers&&u.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">0</div></td>');for(var l=0;l<n.length;l++){var c=n[l],h=t(e).datagrid("getColumnOption",c);if(h){var d=h.styler?h.styler(o[c],o)||"":"",f=this.getStyleValue(d),p=f.c?'class="'+f.c+'"':"",A=h.hidden?'style="display:none;'+f.s+'"':f.s?'style="'+f.s+'"':"";u.push('<td field="'+c+'" '+p+" "+A+">");A="";if(h.checkbox||(h.align&&(A+="text-align:"+h.align+";"),s.nowrap?s.autoRowHeight&&(A+="height:auto;"):A+="white-space:normal;height:auto;"),u.push('<div style="'+A+'" '),h.checkbox?u.push('class="datagrid-cell-check '):u.push('class="datagrid-cell '+h.cellClass),u.push('">'),h.checkbox)o.checked?u.push('<input type="checkbox" checked="checked"'):u.push('<input type="checkbox"'),u.push(' name="'+c+'" value="'+(void 0!=o[c]?o[c]:"")+'">');else{var g=null;if(g=h.formatter?h.formatter(o[c],o):o[c],c==s.treeField){for(var v=0;v<i;v++)u.push('<span class="tree-indent"></span>');if("closed"==o.state?(u.push('<span class="tree-hit tree-collapsed"></span>'),u.push('<span class="tree-icon tree-folder '+(o.iconCls?o.iconCls:"")+'"></span>')):o.children&&o.children.length?(u.push('<span class="tree-hit tree-expanded"></span>'),u.push('<span class="tree-icon tree-folder tree-folder-open '+(o.iconCls?o.iconCls:"")+'"></span>')):(u.push('<span class="tree-indent"></span>'),u.push('<span class="tree-icon tree-file '+(o.iconCls?o.iconCls:"")+'"></span>')),this.hasCheckbox(e,o)){var m=0,y=t.easyui.getArrayItem(a.checkedRows,s.idField,o[s.idField]);if(y)m="checked"==y.checkState?1:2,o.checkState=y.checkState,o.checked=y.checked,t.easyui.addArrayItem(a.checkedRows,s.idField,o);else{var b=t.easyui.getArrayItem(a.checkedRows,s.idField,o._parentId);b&&"checked"==b.checkState&&s.cascadeCheck?(m=1,o.checked=!0,t.easyui.addArrayItem(a.checkedRows,s.idField,o)):o.checked&&t.easyui.addArrayItem(a.tmpIds,o[s.idField]),o.checkState=m?"checked":"unchecked"}u.push('<span class="tree-checkbox tree-checkbox'+m+'"></span>')}else o.checkState=void 0,o.checked=void 0;u.push('<span class="tree-title">'+g+"</span>")}else u.push(g)}u.push("</div>"),u.push("</td>")}}return u.join("")},hasCheckbox:function(e,n){var r=t.data(e,"treegrid").options;if(r.checkbox){if(t.isFunction(r.checkbox))return!!r.checkbox.call(e,n);if(!r.onlyLeafCheck)return!0;if(!("open"!=n.state||n.children&&n.children.length))return!0}return!1},refreshRow:function(t,e){this.updateRow.call(this,t,e,{})},updateRow:function(e,n,r){function i(r){var i=t(e).treegrid("getColumnFields",r),h=o.finder.getTr(e,n,"body",r?1:2),d=h.find("div.datagrid-cell-rownumber").html(),f=h.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");h.html(this.renderRow(e,i,r,s,a)),h.attr("style",u||""),h.find("div.datagrid-cell-rownumber").html(d),f&&h.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0),c!=n&&(h.attr("id",l+"-"+(r?1:2)+"-"+c),h.attr("node-id",c))}var o=t.data(e,"treegrid").options,a=t(e).treegrid("find",n);t.extend(a,r);var s=t(e).treegrid("getLevel",n)-1,u=o.rowStyler?o.rowStyler.call(e,a):"",l=t.data(e,"datagrid").rowIdPrefix,c=a[o.idField];i.call(this,!0),i.call(this,!1),t(e).treegrid("fixRowHeight",n)},deleteRow:function(e,n){var r=t.data(e,"treegrid").options,i=r.finder.getTr(e,n);i.next("tr.treegrid-tr-tree").remove(),i.remove();var o=function(n){var i,o=t(e).treegrid("getParent",n);i=o?o.children:t(e).treegrid("getData");for(var a=0;a<i.length;a++)if(i[a][r.idField]==n){i.splice(a,1);break}return o}(n);if(o&&0==o.children.length){(i=r.finder.getTr(e,o[r.idField])).next("tr.treegrid-tr-tree").remove();var a=i.children('td[field="'+r.treeField+'"]').children("div.datagrid-cell");a.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),a.find(".tree-hit").remove(),t('<span class="tree-indent"></span>').prependTo(a)}this.setEmptyMsg(e)},onBeforeRender:function(e,n,r){function i(t,e){for(var n=0;n<t.length;n++){var r=t[n];r._parentId=e,r.children&&r.children.length&&i(r.children,r[a.idField])}}if(t.isArray(n)&&(r={total:n.length,rows:n},n=null),!r)return!1;var o=t.data(e,"treegrid"),a=o.options;void 0==r.length?(r.footer&&(o.footer=r.footer),r.total&&(o.total=r.total),r=this.transfer(e,n,r.rows)):i(r,n),this.sort(e,r),this.treeNodes=r,this.treeLevel=t(e).treegrid("getLevel",n);var s=b(e,n);s?s.children?s.children=s.children.concat(r):s.children=r:o.data=o.data.concat(r)},sort:function(e,n){function r(n){n.sort(function(n,r){for(var i=0,s=0;s<o.length;s++){var u=o[s],l=a[s];if(0!=(i=(t(e).treegrid("getColumnOption",u).sorter||function(t,e){return t==e?0:t>e?1:-1})(n[u],r[u])*("asc"==l?1:-1)))return i}return i});for(var i=0;i<n.length;i++){var s=n[i].children;s&&s.length&&r(s)}}var i=t.data(e,"treegrid").options;if(!i.remoteSort&&i.sortName){var o=i.sortName.split(","),a=i.sortOrder.split(",");r(n)}},transfer:function(e,n,r){function i(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r];i._parentId==t&&(n.push(i),e.splice(r,1),r--)}return n}for(var o=t.data(e,"treegrid").options,a=t.extend([],r),s=i(n,a),u=t.extend([],s);u.length;){var l=u.shift(),c=i(l[o.idField],a);c.length&&(l.children?l.children=l.children.concat(c):l.children=c,u=u.concat(c))}return s}});t.fn.treegrid.defaults=t.extend({},t.fn.datagrid.defaults,{treeField:null,checkbox:!1,cascadeCheck:!0,onlyLeafCheck:!1,lines:!1,animate:!1,singleSelect:!0,view:S,rowEvents:t.extend({},t.fn.datagrid.defaults.rowEvents,{mouseover:i(!0),mouseout:i(!1),click:function(e){var n=t(e.target),r=n.closest("tr.datagrid-row");if(r.length&&r.parent().length){var i=r.attr("node-id"),s=o(r);if(n.hasClass("tree-hit"))x(s,i);else if(n.hasClass("tree-checkbox"))a(s,i);else{var u=t(s).datagrid("options");if(n.parent().hasClass("datagrid-cell-check")||u.singleSelect||!e.shiftKey)t.fn.datagrid.defaults.rowEvents.click(e);else{var l=t(s).treegrid("getChildren"),c=t.easyui.indexOfArray(l,u.idField,u.lastSelectedIndex),h=t.easyui.indexOfArray(l,u.idField,i),d=Math.min(Math.max(c,0),h),f=Math.max(c,h),p=l[h],A=n.closest("td[field]",r);if(A.length){var g=A.attr("field");u.onClickCell.call(s,i,g,p[g])}t(s).treegrid("clearSelections");for(var v=d;v<=f;v++)t(s).treegrid("selectRow",l[v][u.idField]);u.onClickRow.call(s,p)}}}}}),loader:function(e,n,r){var i=t(this).treegrid("options");if(!i.url)return!1;t.ajax({type:i.method,url:i.url,data:e,dataType:"json",success:function(t){n(t)},error:function(){r.apply(this,arguments)}})},loadFilter:function(t,e){return t},finder:{getTr:function(e,n,r,i){r=r||"body",i=i||0;var o=t.data(e,"datagrid").dc;if(0==i){var a=t.data(e,"treegrid").options,s=a.finder.getTr(e,n,r,1),u=a.finder.getTr(e,n,r,2);return s.add(u)}if("body"==r){var l=t("#"+t.data(e,"datagrid").rowIdPrefix+"-"+i+"-"+n);return l.length||(l=(1==i?o.body1:o.body2).find('tr[node-id="'+n+'"]')),l}return"footer"==r?(1==i?o.footer1:o.footer2).find('tr[node-id="'+n+'"]'):"selected"==r?(1==i?o.body1:o.body2).find("tr.datagrid-row-selected"):"highlight"==r?(1==i?o.body1:o.body2).find("tr.datagrid-row-over"):"checked"==r?(1==i?o.body1:o.body2).find("tr.datagrid-row-checked"):"last"==r?(1==i?o.body1:o.body2).find("tr:last[node-id]"):"allbody"==r?(1==i?o.body1:o.body2).find("tr[node-id]"):"allfooter"==r?(1==i?o.footer1:o.footer2).find("tr[node-id]"):void 0},getRow:function(e,n){var r="object"==typeof n?n.attr("node-id"):n;return t(e).treegrid("find",r)},getRows:function(e){return t(e).treegrid("getChildren")}},onBeforeLoad:function(t,e){},onLoadSuccess:function(t,e){},onLoadError:function(){},onBeforeCollapse:function(t){},onCollapse:function(t){},onBeforeExpand:function(t){},onExpand:function(t){},onClickRow:function(t){},onDblClickRow:function(t){},onClickCell:function(t,e){},onDblClickCell:function(t,e){},onContextMenu:function(t,e){},onBeforeEdit:function(t){},onAfterEdit:function(t,e){},onCancelEdit:function(t){},onBeforeCheckNode:function(t,e){},onCheckNode:function(t,e){}})}($$),function(t){function e(e){var n=t.data(e,"datalist").options;t(e).datagrid(t.extend({},n,{cls:"datalist"+(n.lines?" datalist-lines":""),frozenColumns:n.frozenColumns&&n.frozenColumns.length?n.frozenColumns:n.checkbox?[[{field:"_ck",checkbox:!0}]]:void 0,columns:n.columns&&n.columns.length?n.columns:[[{field:n.textField,width:"100%",formatter:function(t,e,r){return n.textFormatter?n.textFormatter(t,e,r):t}}]]}))}var n=t.extend({},t.fn.datagrid.defaults.view,{render:function(e,n,r){var i=t.data(e,"datagrid");if(i.options.groupField){var o=this.groupRows(e,i.data.rows);this.groups=o.groups,i.data.rows=o.rows;for(var a=[],s=0;s<o.groups.length;s++)a.push(this.renderGroup.call(this,e,s,o.groups[s],r));t(n).html(a.join(""))}else t(n).html(this.renderTable(e,0,i.data.rows,r))},renderGroup:function(e,n,r,i){var o=t.data(e,"datagrid").options,a=(t(e).datagrid("getColumnFields",i),[]);return a.push('<div class="datagrid-group" group-index='+n+">"),i||(a.push('<span class="datagrid-group-title">'),a.push(o.groupFormatter.call(e,r.value,r.rows)),a.push("</span>")),a.push("</div>"),a.push(this.renderTable(e,r.startIndex,r.rows,i)),a.join("")},groupRows:function(e,n){for(var r=t.data(e,"datagrid").options,i=[],o=0;o<n.length;o++){var a=n[o];(u=function(t){for(var e=0;e<i.length;e++){var n=i[e];if(n.value==t)return n}return null}(a[r.groupField]))?u.rows.push(a):(u={value:a[r.groupField],rows:[a]},i.push(u))}for(var s=0,n=[],o=0;o<i.length;o++){var u=i[o];u.startIndex=s,s+=u.rows.length,n=n.concat(u.rows)}return{groups:i,rows:n}}});t.fn.datalist=function(n,r){if("string"==typeof n){var i=t.fn.datalist.methods[n];return i?i(this,r):this.datagrid(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"datalist");if(r)t.extend(r.options,n);else{var i=t.extend({},t.fn.datalist.defaults,t.fn.datalist.parseOptions(this),n);i.columns=t.extend(!0,[],i.columns),r=t.data(this,"datalist",{options:i})}if(e(this),!r.options.data){var o=t.fn.datalist.parseData(this);o.total&&t(this).datalist("loadData",o)}})},t.fn.datalist.methods={options:function(e){return t.data(e[0],"datalist").options}},t.fn.datalist.parseOptions=function(e){return t.extend({},t.fn.datagrid.parseOptions(e),t.parser.parseOptions(e,["valueField","textField","groupField",{checkbox:"boolean",lines:"boolean"}]))},t.fn.datalist.parseData=function(e){var n=t.data(e,"datalist").options,r={total:0,rows:[]};return t(e).children().each(function(){var e=t.parser.parseOptions(this,["value","group"]),i={},o=t(this).html();i[n.valueField]=void 0!=e.value?e.value:o,i[n.textField]=o,n.groupField&&(i[n.groupField]=e.group),r.total++,r.rows.push(i)}),r},t.fn.datalist.defaults=t.extend({},t.fn.datagrid.defaults,{fitColumns:!0,singleSelect:!0,showHeader:!1,checkbox:!1,lines:!1,valueField:"value",textField:"text",groupField:"",view:n,textFormatter:function(t,e){return t},groupFormatter:function(t,e){return t}})}($$),function(t){function e(e){var n=t.data(e,"combo"),o=n.options;n.panel||(n.panel=t('<div class="combo-panel"></div>').appendTo("body"),n.panel.panel({minWidth:o.panelMinWidth,maxWidth:o.panelMaxWidth,minHeight:o.panelMinHeight,maxHeight:o.panelMaxHeight,doSize:!1,closed:!0,cls:"combo-p",style:{position:"absolute",zIndex:10},onOpen:function(){var e=t(this).panel("options").comboTarget,n=t.data(e,"combo");n&&n.options.onShowPanel.call(e)},onBeforeClose:function(){i(t(this).parent())},onClose:function(){var e=t(this).panel("options").comboTarget,n=t(e).data("combo");n&&n.options.onHidePanel.call(e)}}));var a=t.extend(!0,[],o.icons);o.hasDownArrow&&a.push({iconCls:"combo-arrow",handler:function(t){r(t.data.target)}}),t(e).addClass("combo-f").textbox(t.extend({},o,{icons:a,onChange:function(){}})),t(e).attr("comboName",t(e).attr("textboxName")),n.combo=t(e).next(),n.combo.addClass("combo")}function n(e){var n=t.data(e,"combo"),r=n.options,i=n.panel;i.is(":visible")&&i.panel("close"),r.cloned||i.panel("destroy"),t(e).textbox("destroy")}function r(e){var n=t.data(e,"combo").panel;if(n.is(":visible")){var r=n.combo("combo");s(r),r!=e&&t(e).combo("showPanel")}else{var i=t(e).closest("div.combo-p").children(".combo-panel");t("div.combo-panel:visible").not(n).not(i).panel("close"),t(e).combo("showPanel")}t(e).combo("textbox").focus()}function i(e){t(e).find(".combo-f").each(function(){var e=t(this).combo("panel");e.is(":visible")&&e.panel("close")})}function o(e){var n=e.data.target,r=t(n),i=r.data("combo"),o=r.combo("options");switch(i.panel.panel("options").comboTarget=n,e.keyCode){case 38:o.keyHandler.up.call(n,e);break;case 40:o.keyHandler.down.call(n,e);break;case 37:o.keyHandler.left.call(n,e);break;case 39:o.keyHandler.right.call(n,e);break;case 13:return e.preventDefault(),o.keyHandler.enter.call(n,e),!1;case 9:case 27:s(n);break;default:o.editable&&(i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){var t=r.combo("getText");i.previousText!=t&&(i.previousText=t,r.combo("showPanel"),o.keyHandler.query.call(n,t,e),r.combo("validate"))},o.delay))}}function a(e){function n(){var e=o.offset().left;return"right"==s.panelAlign&&(e+=o._outerWidth()-a._outerWidth()),e+a._outerWidth()>t(window)._outerWidth()+t(document).scrollLeft()&&(e=t(window)._outerWidth()+t(document).scrollLeft()-a._outerWidth()),e<0&&(e=0),e}function r(){var e=o.offset().top+o._outerHeight();return e+a._outerHeight()>t(window)._outerHeight()+t(document).scrollTop()&&(e=o.offset().top-a._outerHeight()),e<t(document).scrollTop()&&(e=o.offset().top+o._outerHeight()),e}var i=t.data(e,"combo"),o=i.combo,a=i.panel,s=t(e).combo("options"),u=a.panel("options");u.comboTarget=e,u.closed&&(a.panel("panel").show().css({zIndex:t.fn.menu?t.fn.menu.defaults.zIndex++:t.fn.window?t.fn.window.defaults.zIndex++:99,left:-999999}),a.panel("resize",{width:s.panelWidth?s.panelWidth:o._outerWidth(),height:s.panelHeight}),a.panel("panel").hide(),a.panel("open")),function(){u.comboTarget==e&&a.is(":visible")&&(a.panel("move",{left:n(),top:r()}),setTimeout(arguments.callee,200))}()}function s(e){t.data(e,"combo").panel.panel("close")}function u(e,n){var r=t.data(e,"combo");t(e).textbox("getText")!=n&&t(e).textbox("setText",n),r.previousText=n}function l(e){var n=t.data(e,"combo").options,r=[];return t(e).next().find(".textbox-value").each(function(){r.push(t(this).val())}),n.multivalue?r:r.length?r[0].split(n.separator):r}function c(e,n){function r(n){var r=t(e).attr("textboxName")||"",a=t('<input type="hidden" class="textbox-value">').appendTo(i);a.attr("name",r),o.disabled&&a.attr("disabled","disabled"),a.val(n)}var i=t.data(e,"combo").combo,o=t(e).combo("options");t.isArray(n)||(n=n.split(o.separator));var a=l(e);if(i.find(".textbox-value").remove(),n.length)if(o.multivalue)for(var s=0;s<n.length;s++)r(n[s]);else r(n.join(o.separator));(function(){if(a.length!=n.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!=a[t])return!0;return!1})()&&(t(e).val(n.join(o.separator)),o.multiple?o.onChange.call(e,n,a):o.onChange.call(e,n[0],a[0]),t(e).closest("form").trigger("_change",[e]))}function h(t){return l(t)[0]}function d(t,e){c(t,[e])}function f(e){var n=t.data(e,"combo").options,r=n.onChange;n.onChange=function(){},n.multiple?c(e,n.value?n.value:[]):d(e,n.value),n.onChange=r}t(function(){t(document).unbind(".combo").bind("mousedown.combo mousewheel.combo",function(e){var n=t(e.target).closest("span.combo,div.combo-p,div.menu");n.length?i(n):t("body>div.combo-p>div.combo-panel:visible").panel("close")})}),t.fn.combo=function(n,r){if("string"==typeof n){var i=t.fn.combo.methods[n];return i?i(this,r):this.textbox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"combo");r?(t.extend(r.options,n),void 0!=n.value&&(r.options.originalValue=n.value)):(r=t.data(this,"combo",{options:t.extend({},t.fn.combo.defaults,t.fn.combo.parseOptions(this),n),previousText:""})).options.originalValue=r.options.value,e(this),f(this)})},t.fn.combo.methods={options:function(e){var n=e.textbox("options");return t.extend(t.data(e[0],"combo").options,{width:n.width,height:n.height,disabled:n.disabled,readonly:n.readonly})},cloneFrom:function(e,n){return e.each(function(){t(this).textbox("cloneFrom",n),t.data(this,"combo",{options:t.extend(!0,{cloned:!0},t(n).combo("options")),combo:t(this).next(),panel:t(n).combo("panel")}),t(this).addClass("combo-f").attr("comboName",t(this).attr("textboxName"))})},combo:function(t){return t.closest(".combo-panel").panel("options").comboTarget},panel:function(e){return t.data(e[0],"combo").panel},destroy:function(t){return t.each(function(){n(this)})},showPanel:function(t){return t.each(function(){a(this)})},hidePanel:function(t){return t.each(function(){s(this)})},clear:function(e){return e.each(function(){t(this).textbox("setText",""),t.data(this,"combo").options.multiple?t(this).combo("setValues",[]):t(this).combo("setValue","")})},reset:function(e){return e.each(function(){var e=t.data(this,"combo").options;e.multiple?t(this).combo("setValues",e.originalValue):t(this).combo("setValue",e.originalValue)})},setText:function(t,e){return t.each(function(){u(this,e)})},getValues:function(t){return l(t[0])},setValues:function(t,e){return t.each(function(){c(this,e)})},getValue:function(t){return h(t[0])},setValue:function(t,e){return t.each(function(){d(this,e)})}},t.fn.combo.parseOptions=function(e){var n=t(e);return t.extend({},t.fn.textbox.parseOptions(e),t.parser.parseOptions(e,["separator","panelAlign",{panelWidth:"number",hasDownArrow:"boolean",delay:"number",reversed:"boolean",multivalue:"boolean",selectOnNavigation:"boolean"},{panelMinWidth:"number",panelMaxWidth:"number",panelMinHeight:"number",panelMaxHeight:"number"}]),{panelHeight:"auto"==n.attr("panelHeight")?"auto":parseInt(n.attr("panelHeight"))||void 0,multiple:!!n.attr("multiple")||void 0})},t.fn.combo.defaults=t.extend({},t.fn.textbox.defaults,{inputEvents:{click:function(e){var n=e.data.target;if(t.data(n,"combo").options.editable){var i=t(n).closest("div.combo-p").children(".combo-panel");t("div.combo-panel:visible").not(i).each(function(){var e=t(this).combo("combo");e!=n&&s(e)})}else r(n)},keydown:o,paste:o,drop:o},panelWidth:null,panelHeight:200,panelMinWidth:null,panelMaxWidth:null,panelMinHeight:null,panelMaxHeight:null,panelAlign:"left",reversed:!1,multiple:!1,multivalue:!0,selectOnNavigation:!0,separator:",",hasDownArrow:!0,delay:200,keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){},query:function(t,e){}},onShowPanel:function(){},onHidePanel:function(){},onChange:function(t,e){}})}($$),function(t){function e(e,n){var r=t.data(e,"combobox");return t.easyui.indexOfArray(r.data,r.options.valueField,n)}function n(e,n){var r=t.data(e,"combobox").options,i=t(e).combo("panel"),o=r.finder.getEl(e,n);if(o.length)if(o.position().top<=0){a=i.scrollTop()+o.position().top;i.scrollTop(a)}else if(o.position().top+o.outerHeight()>i.height()){var a=i.scrollTop()+o.position().top+o.outerHeight()-i.height();i.scrollTop(a)}i.triggerHandler("scroll")}function r(e,n){var r=t.data(e,"combobox").options,o=t(e).combobox("panel"),a=o.children("div.combobox-item-hover");a.length||(a=o.children("div.combobox-item-selected")),a.removeClass("combobox-item-hover");var s="div.combobox-item:visible:not(.combobox-item-disabled):first",u="div.combobox-item:visible:not(.combobox-item-disabled):last";if(a.length?"next"==n?(a=a.nextAll(s)).length||(a=o.children(s)):(a=a.prevAll(s)).length||(a=o.children(u)):a=o.children("next"==n?s:u),a.length){a.addClass("combobox-item-hover");var l=r.finder.getRow(e,a);l&&(t(e).combobox("scrollTo",l[r.valueField]),r.selectOnNavigation&&i(e,l[r.valueField]))}}function i(e,n,r){var i=t.data(e,"combobox").options,o=t(e).combo("getValues");-1==t.inArray(n+"",o)&&(i.multiple?o.push(n):o=[n],a(e,o,r))}function o(e,n){t.data(e,"combobox").options;var r=t(e).combo("getValues"),i=t.inArray(n+"",r);i>=0&&(r.splice(i,1),a(e,r))}function a(e,n,r){var i=t.data(e,"combobox").options,o=t(e).combo("panel");t.isArray(n)||(n=n.split(i.separator)),i.multiple||(n=n.length?[n[0]]:[""]);var a=t(e).combo("getValues");o.is(":visible")&&o.find(".combobox-item-selected").each(function(){var n=i.finder.getRow(e,t(this));n&&-1==t.easyui.indexOfArray(a,n[i.valueField])&&t(this).removeClass("combobox-item-selected")}),t.map(a,function(r){if(-1==t.easyui.indexOfArray(n,r)){var o=i.finder.getEl(e,r);o.hasClass("combobox-item-selected")&&(o.removeClass("combobox-item-selected"),i.onUnselect.call(e,i.finder.getRow(e,r)))}});for(var s=null,u=[],l=[],c=0;c<n.length;c++){var h=n[c],d=h,f=i.finder.getRow(e,h);if(f){d=f[i.textField],s=f;var p=i.finder.getEl(e,h);p.hasClass("combobox-item-selected")||(p.addClass("combobox-item-selected"),i.onSelect.call(e,f))}u.push(h),l.push(d)}if(r||t(e).combo("setText",l.join(i.separator)),i.showItemIcon){var A=t(e).combobox("textbox");A.removeClass("textbox-bgicon "+i.textboxIconCls),s&&s.iconCls&&(A.addClass("textbox-bgicon "+s.iconCls),i.textboxIconCls=s.iconCls)}t(e).combo("setValues",u),o.triggerHandler("scroll")}function s(e,n,r){var i=t.data(e,"combobox"),o=i.options;i.data=o.loadFilter.call(e,n),o.view.render.call(o.view,e,t(e).combo("panel"),i.data);var s=t(e).combobox("getValues");t.easyui.forEach(i.data,!1,function(e){e.selected&&t.easyui.addArrayItem(s,e[o.valueField]+"")}),o.multiple?a(e,s,r):a(e,s.length?[s[s.length-1]]:[],r),o.onLoadSuccess.call(e,n)}function u(e,n,r,i){var o=t.data(e,"combobox").options;n&&(o.url=n),r=t.extend({},o.queryParams,r||{}),0!=o.onBeforeLoad.call(e,r)&&o.loader.call(e,r,function(t){s(e,t,i)},function(){o.onLoadError.apply(this,arguments)})}function l(e,n){function r(t){s.reversed?l.addClass("combobox-item-hover"):a(e,s.multiple?n?t:[]:t,!0)}var o=t.data(e,"combobox"),s=o.options,l=t(),c=s.multiple?n.split(s.separator):[n];if("remote"==s.mode)r(c),u(e,null,{q:n},!0);else{var h=t(e).combo("panel");h.find(".combobox-item-hover").removeClass("combobox-item-hover"),h.find(".combobox-item,.combobox-group").hide();var d=o.data,f=[];t.map(c,function(n){var r=n=t.trim(n),o=void 0;l=t();for(var a=0;a<d.length;a++){var u=d[a];if(s.filter.call(e,n,u)){var c=u[s.valueField],h=u[s.textField],p=u[s.groupField],A=s.finder.getEl(e,c).show();h.toLowerCase()==n.toLowerCase()&&(r=c,s.reversed?l=A:i(e,c,!0)),s.groupField&&o!=p&&(s.finder.getGroupEl(e,p).show(),o=p)}}f.push(r)}),r(f)}}function c(n){var r=t(n),i=r.combobox("options"),o=r.combobox("panel").children("div.combobox-item-hover");if(o.length){o.removeClass("combobox-item-hover");var a=i.finder.getRow(n,o)[i.valueField];i.multiple&&o.hasClass("combobox-item-selected")?r.combobox("unselect",a):r.combobox("select",a)}var s=[];t.map(r.combobox("getValues"),function(t){e(n,t)>=0&&s.push(t)}),r.combobox("setValues",s),i.multiple||r.combobox("hidePanel")}function h(e){var n=t.data(e,"combobox").options;t(e).addClass("combobox-f"),t(e).combo(t.extend({},n,{onShowPanel:function(){t(this).combo("panel").find("div.combobox-item:hidden,div.combobox-group:hidden").show(),a(this,t(this).combobox("getValues"),!0),t(this).combobox("scrollTo",t(this).combobox("getValue")),n.onShowPanel.call(this)}}));var r=t(e).combo("panel");r.unbind(".combobox");for(var i in n.panelEvents)r.bind(i+".combobox",{target:e},n.panelEvents[i])}t.fn.combobox=function(e,n){if("string"==typeof e){var r=t.fn.combobox.methods[e];return r?r(this,n):this.combo(e,n)}return e=e||{},this.each(function(){var n=t.data(this,"combobox");if(n?t.extend(n.options,e):n=t.data(this,"combobox",{options:t.extend({},t.fn.combobox.defaults,t.fn.combobox.parseOptions(this),e),data:[]}),h(this),n.options.data)s(this,n.options.data);else{var r=t.fn.combobox.parseData(this);r.length&&s(this,r)}u(this)})},t.fn.combobox.methods={options:function(e){var n=e.combo("options");return t.extend(t.data(e[0],"combobox").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},cloneFrom:function(e,n){return e.each(function(){t(this).combo("cloneFrom",n),t.data(this,"combobox",t(n).data("combobox")),t(this).addClass("combobox-f").attr("comboboxName",t(this).attr("textboxName"))})},getData:function(e){return t.data(e[0],"combobox").data},setValues:function(t,e){return t.each(function(){a(this,e)})},setValue:function(e,n){return e.each(function(){a(this,t.isArray(n)?n:[n])})},clear:function(t){return t.each(function(){a(this,[])})},reset:function(e){return e.each(function(){var e=t(this).combobox("options");e.multiple?t(this).combobox("setValues",e.originalValue):t(this).combobox("setValue",e.originalValue)})},loadData:function(t,e){return t.each(function(){s(this,e)})},reload:function(e,n){return e.each(function(){"string"==typeof n?u(this,n):(n&&(t(this).combobox("options").queryParams=n),u(this))})},select:function(t,e){return t.each(function(){i(this,e)})},unselect:function(t,e){return t.each(function(){o(this,e)})},scrollTo:function(t,e){return t.each(function(){n(this,e)})}},t.fn.combobox.parseOptions=function(e){t(e);return t.extend({},t.fn.combo.parseOptions(e),t.parser.parseOptions(e,["valueField","textField","groupField","groupPosition","mode","method","url",{showItemIcon:"boolean",limitToList:"boolean"}]))},t.fn.combobox.parseData=function(e){function n(e,n){var o=t(e),a={};a[i.valueField]=void 0!=o.attr("value")?o.attr("value"):o.text(),a[i.textField]=o.text(),a.selected=o.is(":selected"),a.disabled=o.is(":disabled"),n&&(i.groupField=i.groupField||"group",a[i.groupField]=n),r.push(a)}var r=[],i=t(e).combobox("options");return t(e).children().each(function(){if("optgroup"==this.tagName.toLowerCase()){var e=t(this).attr("label");t(this).children().each(function(){n(this,e)})}else n(this)}),r};var d=0,f={render:function(e,n,r){var i=t.data(e,"combobox"),o=i.options;d++,i.itemIdPrefix="_easyui_combobox_i"+d,i.groupIdPrefix="_easyui_combobox_g"+d,i.groups=[];for(var a=[],s=void 0,u=0;u<r.length;u++){var l=r[u],c=(l[o.valueField],l[o.textField]),h=l[o.groupField];h?s!=h?(s=h,i.groups.push({value:h,startIndex:u,count:1}),a.push('<div id="'+i.groupIdPrefix+"_"+(i.groups.length-1)+'" class="combobox-group">'),a.push(o.groupFormatter?o.groupFormatter.call(e,h):h),a.push("</div>")):i.groups[i.groups.length-1].count++:s=void 0;var f="combobox-item"+(l.disabled?" combobox-item-disabled":"")+(h?" combobox-gitem":"");a.push('<div id="'+i.itemIdPrefix+"_"+u+'" class="'+f+'">'),o.showItemIcon&&l.iconCls&&a.push('<span class="combobox-icon '+l.iconCls+'"></span>'),a.push(o.formatter?o.formatter.call(e,l):c),a.push("</div>")}t(n).html(a.join(""))}};t.fn.combobox.defaults=t.extend({},t.fn.combo.defaults,{valueField:"value",textField:"text",groupPosition:"static",groupField:null,groupFormatter:function(t){return t},mode:"local",method:"post",url:null,data:null,queryParams:{},showItemIcon:!1,limitToList:!1,view:f,keyHandler:{up:function(t){r(this,"prev"),t.preventDefault()},down:function(t){r(this,"next"),t.preventDefault()},left:function(t){},right:function(t){},enter:function(t){c(this)},query:function(t,e){l(this,t)}},inputEvents:t.extend({},t.fn.combo.defaults.inputEvents,{blur:function(e){var n=e.data.target,r=t(n).combobox("options");(r.reversed||r.limitToList)&&(r.blurTimer&&clearTimeout(r.blurTimer),r.blurTimer=setTimeout(function(){t(n).parent().length&&(r.reversed?t(n).combobox("setValues",t(n).combobox("getValues")):r.limitToList&&c(n),r.blurTimer=null)},50))}}),panelEvents:{mouseover:function(e){t(this).children("div.combobox-item-hover").removeClass("combobox-item-hover");var n=t(e.target).closest("div.combobox-item");n.hasClass("combobox-item-disabled")||n.addClass("combobox-item-hover"),e.stopPropagation()},mouseout:function(e){t(e.target).closest("div.combobox-item").removeClass("combobox-item-hover"),e.stopPropagation()},click:function(e){var n=t(this).panel("options").comboTarget;if(n){var r=t(n).combobox("options"),a=t(e.target).closest("div.combobox-item");if(a.length&&!a.hasClass("combobox-item-disabled")){var s=r.finder.getRow(n,a);if(s){r.blurTimer&&(clearTimeout(r.blurTimer),r.blurTimer=null),r.onClick.call(n,s);var u=s[r.valueField];r.multiple?a.hasClass("combobox-item-selected")?o(n,u):i(n,u):t(n).combobox("setValue",u).combobox("hidePanel"),e.stopPropagation()}}}},scroll:function(e){var n=t(this).panel("options").comboTarget;if(n){var r=t(n).combobox("options");if("sticky"==r.groupPosition){var i=t(this).children(".combobox-stick");i.length||(i=t('<div class="combobox-stick"></div>').appendTo(this)),i.hide();var o=t(n).data("combobox");t(this).children(".combobox-group:visible").each(function(){var e=t(this),a=r.finder.getGroup(n,e),s=o.data[a.startIndex+a.count-1],u=r.finder.getEl(n,s[r.valueField]);if(e.position().top<0&&u.position().top>0)return i.show().html(e.html()),!1})}}}},filter:function(e,n){return n[t(this).combobox("options").textField].toLowerCase().indexOf(e.toLowerCase())>=0},formatter:function(e){return e[t(this).combobox("options").textField]},loader:function(e,n,r){var i=t(this).combobox("options");if(!i.url)return!1;t.ajax({type:i.method,url:i.url,data:e,dataType:"json",success:function(t){n(t)},error:function(){r.apply(this,arguments)}})},loadFilter:function(t){return t},finder:{getEl:function(n,r){var i=e(n,r),o=t.data(n,"combobox").itemIdPrefix+"_"+i;return t("#"+o)},getGroupEl:function(e,n){var r=t.data(e,"combobox"),i=t.easyui.indexOfArray(r.groups,"value",n),o=r.groupIdPrefix+"_"+i;return t("#"+o)},getGroup:function(e,n){var r=t.data(e,"combobox"),i=n.attr("id").substr(r.groupIdPrefix.length+1);return r.groups[parseInt(i)]},getRow:function(n,r){var i=t.data(n,"combobox"),o=r instanceof t?r.attr("id").substr(i.itemIdPrefix.length+1):e(n,r);return i.data[parseInt(o)]}},onBeforeLoad:function(t){},onLoadSuccess:function(t){},onLoadError:function(){},onSelect:function(t){},onUnselect:function(t){},onClick:function(t){}})}($$),function(t){function e(e){var i=t.data(e,"combotree"),o=i.options,a=i.tree;t(e).addClass("combotree-f"),t(e).combo(t.extend({},o,{onShowPanel:function(){o.editable&&a.tree("doFilter",""),o.onShowPanel.call(this)}}));var s=t(e).combo("panel");a||(a=t("<ul></ul>").appendTo(s),i.tree=a),a.tree(t.extend({},o,{checkbox:o.multiple,onLoadSuccess:function(n,s){var u=t(e).combotree("getValues");o.multiple&&t.map(a.tree("getChecked"),function(e){t.easyui.addArrayItem(u,e.id)}),r(e,u,i.remainText),o.onLoadSuccess.call(this,n,s)},onClick:function(r){o.multiple?t(this).tree(r.checked?"uncheck":"check",r.target):t(e).combo("hidePanel"),i.remainText=!1,n(e),o.onClick.call(this,r)},onCheck:function(t,r){i.remainText=!1,n(e),o.onCheck.call(this,t,r)}}))}function n(e){var n=t.data(e,"combotree"),i=n.options,o=n.tree,a=[];if(i.multiple)a=t.map(o.tree("getChecked"),function(t){return t.id});else{var s=o.tree("getSelected");s&&a.push(s.id)}r(e,a=a.concat(i.unselectedValues),n.remainText)}function r(e,n,r){function i(e,n){var r=t.easyui.getArrayItem(n,"id",e);return r?o(r):void 0}function o(t){return t[s.textField||""]||t.text}var a=t.data(e,"combotree"),s=a.options,u=a.tree,l=u.tree("options"),c=l.onBeforeCheck,h=l.onCheck,d=l.onSelect;l.onBeforeCheck=l.onCheck=l.onSelect=function(){},t.isArray(n)||(n=n.split(s.separator)),s.multiple||(n=n.length?[n[0]]:[""]);var f=t.map(n,function(t){return String(t)});u.find("div.tree-node-selected").removeClass("tree-node-selected"),t.map(u.tree("getChecked"),function(e){-1==t.inArray(String(e.id),f)&&u.tree("uncheck",e.target)});var p=[];if(s.unselectedValues=[],t.map(f,function(t){var e=u.tree("find",t);e?(u.tree("check",e.target).tree("select",e.target),p.push(o(e))):(p.push(i(t,s.mappingRows)||t),s.unselectedValues.push(t))}),s.multiple&&t.map(u.tree("getChecked"),function(e){var n=String(e.id);-1==t.inArray(n,f)&&(f.push(n),p.push(o(e)))}),l.onBeforeCheck=c,l.onCheck=h,l.onSelect=d,!r){var A=p.join(s.separator);t(e).combo("getText")!=A&&t(e).combo("setText",A)}t(e).combo("setValues",f)}function i(e,n){var r=t.data(e,"combotree"),i=r.options,o=r.tree;r.remainText=!0,o.tree("doFilter",i.multiple?n.split(i.separator):n)}function o(e){t.data(e,"combotree").remainText=!1,t(e).combotree("setValues",t(e).combotree("getValues")),t(e).combotree("hidePanel")}t.fn.combotree=function(n,r){if("string"==typeof n){var i=t.fn.combotree.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"combotree");r?t.extend(r.options,n):t.data(this,"combotree",{options:t.extend({},t.fn.combotree.defaults,t.fn.combotree.parseOptions(this),n)}),e(this)})},t.fn.combotree.methods={options:function(e){var n=e.combo("options");return t.extend(t.data(e[0],"combotree").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},clone:function(e,n){var r=e.combo("clone",n);return r.data("combotree",{options:t.extend(!0,{},e.combotree("options")),tree:e.combotree("tree")}),r},tree:function(e){return t.data(e[0],"combotree").tree},loadData:function(e,n){return e.each(function(){t.data(this,"combotree").options.data=n,t.data(this,"combotree").tree.tree("loadData",n)})},reload:function(e,n){return e.each(function(){var e=t.data(this,"combotree").options,r=t.data(this,"combotree").tree;n&&(e.url=n),r.tree({url:e.url})})},setValues:function(e,n){return e.each(function(){var e=t(this).combotree("options");t.isArray(n)&&(n=t.map(n,function(n){return n&&"object"==typeof n?(t.easyui.addArrayItem(e.mappingRows,"id",n),n.id):n})),r(this,n)})},setValue:function(e,n){return e.each(function(){t(this).combotree("setValues",t.isArray(n)?n:[n])})},clear:function(e){return e.each(function(){t(this).combotree("setValues",[])})},reset:function(e){return e.each(function(){var e=t(this).combotree("options");e.multiple?t(this).combotree("setValues",e.originalValue):t(this).combotree("setValue",e.originalValue)})}},t.fn.combotree.parseOptions=function(e){return t.extend({},t.fn.combo.parseOptions(e),t.fn.tree.parseOptions(e))},t.fn.combotree.defaults=t.extend({},t.fn.combo.defaults,t.fn.tree.defaults,{editable:!1,textField:null,unselectedValues:[],mappingRows:[],keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){o(this)},query:function(t,e){i(this,t)}}})}($$),function(t){function e(e){function n(n){return t(n).closest(".combo-panel").panel("options").comboTarget||e}function i(e){return function(r,i){var a=n(this),s=t(a).combogrid("options");"onUnselectAll"==e?s.multiple&&o.call(this):o.call(this),s[e].call(this,r,i)}}function o(){var e=t(this),i=n(e),o=t(i).data("combogrid"),a=o.options,s=t.map(e.datagrid("getSelections"),function(t){return t[a.idField]});r(i,s=s.concat(a.unselectedValues),o.remainText)}var a=t.data(e,"combogrid"),s=a.options,u=a.grid;t(e).addClass("combogrid-f").combo(t.extend({},s,{onShowPanel:function(){r(this,t(this).combogrid("getValues"),!0);var e=t(this).combogrid("panel"),n=e.outerHeight()-e.height(),i=e._size("minHeight"),o=e._size("maxHeight"),a=t(this).combogrid("grid");a.datagrid("resize",{width:"100%",height:isNaN(parseInt(s.panelHeight))?"auto":"100%",minHeight:i?i-n:"",maxHeight:o?o-n:""});var u=a.datagrid("getSelected");u&&a.datagrid("scrollTo",a.datagrid("getRowIndex",u)),s.onShowPanel.call(this)}}));var l=t(e).combo("panel");u||(u=t("<table></table>").appendTo(l),a.grid=u),u.datagrid(t.extend({},s,{border:!1,singleSelect:!s.multiple,onLoadSuccess:function(e){var i=n(this),o=t(i).data("combogrid"),a=o.options;r(i,t(i).combo("getValues"),o.remainText),a.onLoadSuccess.call(this,e)},onClickRow:function(e,r){var i=n(this),a=t(i).data("combogrid"),s=a.options;a.remainText=!1,o.call(this),s.multiple||t(i).combo("hidePanel"),s.onClickRow.call(this,e,r)},onSelect:i("onSelect"),onUnselect:i("onUnselect"),onSelectAll:i("onSelectAll"),onUnselectAll:i("onUnselectAll")}))}function n(e,n){var r=t.data(e,"combogrid"),i=r.options,o=r.grid,a=o.datagrid("getRows").length;if(a){var s=i.finder.getTr(o[0],null,"highlight");s.length||(s=i.finder.getTr(o[0],null,"selected"));if(s.length){var u=parseInt(s.attr("datagrid-row-index"));(u+="next"==n?1:-1)<0&&(u=a-1),u>=a&&(u=0)}else u="next"==n?0:a-1;o.datagrid("highlightRow",u),i.selectOnNavigation&&(r.remainText=!1,o.datagrid("selectRow",u))}}function r(e,n,r){function i(e,n){var r=t.easyui.getArrayItem(n,a.idField,e);return r?r[a.textField]:void 0}var o=t.data(e,"combogrid"),a=o.options,s=o.grid,u=t(e).combo("getValues"),l=t(e).combo("options"),c=l.onChange;l.onChange=function(){};var h=s.datagrid("options"),d=h.onSelect,f=h.onUnselectAll;h.onSelect=h.onUnselectAll=function(){},t.isArray(n)||(n=n.split(a.separator)),a.multiple||(n=n.length?[n[0]]:[""]);var p=t.map(n,function(t){return String(t)});p=t.grep(p,function(e,n){return n===t.inArray(e,p)});var A=t.grep(s.datagrid("getSelections"),function(e,n){return t.inArray(String(e[a.idField]),p)>=0});s.datagrid("clearSelections"),s.data("datagrid").selectedRows=A;var g=[];if(a.unselectedValues=[],t.map(p,function(t){var e=s.datagrid("getRowIndex",t);e>=0?s.datagrid("selectRow",e):a.unselectedValues.push(t),g.push(i(t,s.datagrid("getRows"))||i(t,A)||i(t,a.mappingRows)||t)}),t(e).combo("setValues",u),l.onChange=c,h.onSelect=d,h.onUnselectAll=f,!r){var v=g.join(a.separator);t(e).combo("getText")!=v&&t(e).combo("setText",v)}t(e).combo("setValues",n)}function i(e,n){function i(t,e){for(var n=0;n<t.length;n++){var r=t[n];if((r[s.textField]||"").toLowerCase()==e.toLowerCase())return h.push(r[s.idField]),n}return-1}function o(t){s.reversed||r(e,t,!0)}var a=t.data(e,"combogrid"),s=a.options,u=a.grid;a.remainText=!0;var l=s.multiple?n.split(s.separator):[n];if(l=t.grep(l,function(e){return""!=t.trim(e)}),"remote"==s.mode)o(l),u.datagrid("load",t.extend({},s.queryParams,{q:n}));else{u.datagrid("highlightRow",-1);var c=u.datagrid("getRows"),h=[];t.map(l,function(n){n=t.trim(n);i(s.mappingRows,n),i(u.datagrid("getSelections"),n);var r=i(c,n);r>=0?s.reversed&&u.datagrid("highlightRow",r):t.map(c,function(t,r){s.filter.call(e,n,t)&&u.datagrid("highlightRow",r)})}),o(h)}}function o(e){var n=t.data(e,"combogrid"),r=n.options,i=n.grid,o=r.finder.getTr(i[0],null,"highlight");if(n.remainText=!1,o.length){var a=parseInt(o.attr("datagrid-row-index"));r.multiple&&o.hasClass("datagrid-row-selected")?i.datagrid("unselectRow",a):i.datagrid("selectRow",a)}var s=[];t.map(i.datagrid("getSelections"),function(t){s.push(t[r.idField])}),t.map(r.unselectedValues,function(e){t.easyui.indexOfArray(r.mappingRows,r.idField,e)>=0&&t.easyui.addArrayItem(s,e)}),t(e).combogrid("setValues",s),r.multiple||t(e).combogrid("hidePanel")}t.fn.combogrid=function(n,r){if("string"==typeof n){var i=t.fn.combogrid.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"combogrid");r?t.extend(r.options,n):r=t.data(this,"combogrid",{options:t.extend({},t.fn.combogrid.defaults,t.fn.combogrid.parseOptions(this),n)}),e(this)})},t.fn.combogrid.methods={options:function(e){var n=e.combo("options");return t.extend(t.data(e[0],"combogrid").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},cloneFrom:function(e,n){return e.each(function(){t(this).combo("cloneFrom",n),t.data(this,"combogrid",{options:t.extend(!0,{cloned:!0},t(n).combogrid("options")),combo:t(this).next(),panel:t(n).combo("panel"),grid:t(n).combogrid("grid")})})},grid:function(e){return t.data(e[0],"combogrid").grid},setValues:function(e,n){return e.each(function(){var e=t(this).combogrid("options");t.isArray(n)&&(n=t.map(n,function(n){return n&&"object"==typeof n?(t.easyui.addArrayItem(e.mappingRows,e.idField,n),n[e.idField]):n})),r(this,n)})},setValue:function(e,n){return e.each(function(){t(this).combogrid("setValues",t.isArray(n)?n:[n])})},clear:function(e){return e.each(function(){t(this).combogrid("setValues",[])})},reset:function(e){return e.each(function(){var e=t(this).combogrid("options");e.multiple?t(this).combogrid("setValues",e.originalValue):t(this).combogrid("setValue",e.originalValue)})}},t.fn.combogrid.parseOptions=function(e){t(e);return t.extend({},t.fn.combo.parseOptions(e),t.fn.datagrid.parseOptions(e),t.parser.parseOptions(e,["idField","textField","mode"]))},t.fn.combogrid.defaults=t.extend({},t.fn.combo.defaults,t.fn.datagrid.defaults,{loadMsg:null,idField:null,textField:null,unselectedValues:[],mappingRows:[],mode:"local",keyHandler:{up:function(t){n(this,"prev"),t.preventDefault()},down:function(t){n(this,"next"),t.preventDefault()},left:function(t){},right:function(t){},enter:function(t){o(this)},query:function(t,e){i(this,t)}},inputEvents:t.extend({},t.fn.combo.defaults.inputEvents,{blur:function(e){var n=e.data.target;t(n).combogrid("options").reversed&&t(n).combogrid("setValues",t(n).combogrid("getValues"))}}),filter:function(e,n){return(n[t(this).combogrid("options").textField]||"").toLowerCase().indexOf(e.toLowerCase())>=0}})}($$),function(t){function e(e){var i=t.data(e,"combotreegrid"),o=i.options;if(t(e).addClass("combotreegrid-f").combo(t.extend({},o,{onShowPanel:function(){var e=t(this).combotreegrid("panel"),n=e.outerHeight()-e.height(),r=e._size("minHeight"),i=e._size("maxHeight"),a=t(this).combotreegrid("grid");a.treegrid("resize",{width:"100%",height:isNaN(parseInt(o.panelHeight))?"auto":"100%",minHeight:r?r-n:"",maxHeight:i?i-n:""});var s=a.treegrid("getSelected");s&&a.treegrid("scrollTo",s[o.idField]),o.onShowPanel.call(this)}})),!i.grid){var a=t(e).combo("panel");i.grid=t("<table></table>").appendTo(a)}i.grid.treegrid(t.extend({},o,{border:!1,checkbox:o.multiple,onLoadSuccess:function(n,a){var s=t(e).combotreegrid("getValues");o.multiple&&t.map(t(this).treegrid("getCheckedNodes"),function(e){t.easyui.addArrayItem(s,e[o.idField])}),r(e,s),o.onLoadSuccess.call(this,n,a),i.remainText=!1},onClickRow:function(r){o.multiple?(t(this).treegrid(r.checked?"uncheckNode":"checkNode",r[o.idField]),t(this).treegrid("unselect",r[o.idField])):t(e).combo("hidePanel"),n(e),o.onClickRow.call(this,r)},onCheckNode:function(t,r){n(e),o.onCheckNode.call(this,t,r)}}))}function n(e){var n=t.data(e,"combotreegrid"),i=n.options,o=n.grid,a=[];if(i.multiple)a=t.map(o.treegrid("getCheckedNodes"),function(t){return t[i.idField]});else{var s=o.treegrid("getSelected");s&&a.push(s[i.idField])}r(e,a=a.concat(i.unselectedValues))}function r(e,n){function r(e,n){var r=t.easyui.getArrayItem(n,a.idField,e);return r?i(r):void 0}function i(t){return t[a.textField||""]||t[a.treeField]}var o=t.data(e,"combotreegrid"),a=o.options,s=o.grid;t.isArray(n)||(n=n.split(a.separator)),a.multiple||(n=n.length?[n[0]]:[""]);var u=t.map(n,function(t){return String(t)});u=t.grep(u,function(e,n){return n===t.inArray(e,u)});var l=s.treegrid("getSelected");l&&s.treegrid("unselect",l[a.idField]),t.map(s.treegrid("getCheckedNodes"),function(e){-1==t.inArray(String(e[a.idField]),u)&&s.treegrid("uncheckNode",e[a.idField])});var c=[];if(a.unselectedValues=[],t.map(u,function(t){var e=s.treegrid("find",t);e?(a.multiple?s.treegrid("checkNode",t):s.treegrid("select",t),c.push(i(e))):(c.push(r(t,a.mappingRows)||t),a.unselectedValues.push(t))}),a.multiple&&t.map(s.treegrid("getCheckedNodes"),function(e){var n=String(e[a.idField]);-1==t.inArray(n,u)&&(u.push(n),c.push(i(e)))}),!o.remainText){var h=c.join(a.separator);t(e).combo("getText")!=h&&t(e).combo("setText",h)}t(e).combo("setValues",u)}function i(e,n){var i=t.data(e,"combotreegrid"),o=i.options,a=i.grid;if(i.remainText=!0,a.treegrid("clearSelections").treegrid("clearChecked").treegrid("highlightRow",-1),"remote"==o.mode)t(e).combotreegrid("clear"),a.treegrid("load",t.extend({},o.queryParams,{q:n}));else if(n){var s=a.treegrid("getData"),u=[],l=o.multiple?n.split(o.separator):[n];t.map(l,function(n){if(n=t.trim(n)){var r=void 0;t.easyui.forEach(s,!0,function(t){return n.toLowerCase()==String(t[o.treeField]).toLowerCase()?(r=t[o.idField],!1):o.filter.call(e,n,t)?(a.treegrid("expandTo",t[o.idField]),a.treegrid("highlightRow",t[o.idField]),!1):void 0}),void 0==r&&t.easyui.forEach(o.mappingRows,!1,function(t){if(n.toLowerCase()==String(t[o.treeField]))return r=t[o.idField],!1}),void 0!=r&&u.push(r)}}),r(e,u),i.remainText=!1}}function o(t){n(t)}t.fn.combotreegrid=function(n,r){if("string"==typeof n){var i=t.fn.combotreegrid.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"combotreegrid");r?t.extend(r.options,n):r=t.data(this,"combotreegrid",{options:t.extend({},t.fn.combotreegrid.defaults,t.fn.combotreegrid.parseOptions(this),n)}),e(this)})},t.fn.combotreegrid.methods={options:function(e){var n=e.combo("options");return t.extend(t.data(e[0],"combotreegrid").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},grid:function(e){return t.data(e[0],"combotreegrid").grid},setValues:function(e,n){return e.each(function(){var e=t(this).combotreegrid("options");t.isArray(n)&&(n=t.map(n,function(n){return n&&"object"==typeof n?(t.easyui.addArrayItem(e.mappingRows,e.idField,n),n[e.idField]):n})),r(this,n)})},setValue:function(e,n){return e.each(function(){t(this).combotreegrid("setValues",t.isArray(n)?n:[n])})},clear:function(e){return e.each(function(){t(this).combotreegrid("setValues",[])})},reset:function(e){return e.each(function(){var e=t(this).combotreegrid("options");e.multiple?t(this).combotreegrid("setValues",e.originalValue):t(this).combotreegrid("setValue",e.originalValue)})}},t.fn.combotreegrid.parseOptions=function(e){t(e);return t.extend({},t.fn.combo.parseOptions(e),t.fn.treegrid.parseOptions(e),t.parser.parseOptions(e,["mode",{limitToGrid:"boolean"}]))},t.fn.combotreegrid.defaults=t.extend({},t.fn.combo.defaults,t.fn.treegrid.defaults,{editable:!1,singleSelect:!0,limitToGrid:!1,unselectedValues:[],mappingRows:[],mode:"local",textField:null,keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){o(this)},query:function(t,e){i(this,t)}},inputEvents:t.extend({},t.fn.combo.defaults.inputEvents,{blur:function(e){var n=e.data.target;t(n).combotreegrid("options").limitToGrid&&o(n)}}),filter:function(e,n){return(n[t(this).combotreegrid("options").treeField]||"").toLowerCase().indexOf(e.toLowerCase())>=0}})}($$),function(t){function e(e){function r(){t(e).next().find(".tagbox-label").remove();var r=t(e).tagbox("textbox");t.map(t(e).tagbox("getValues"),function(n,i){var a=o.finder.getRow(e,n),s=o.tagFormatter.call(e,n,a),u={},l=o.tagStyler.call(e,n,a)||"";u="string"==typeof l?{s:l}:{c:l.class||"",s:l.style||""};var c=t('<span class="tagbox-label"></span>').insertBefore(r).html(s);c.attr("tagbox-index",i),c.attr("style",u.s).addClass(u.c),t('<a href="javascript:;" class="tagbox-remove"></a>').appendTo(c)}),n(e),t(e).combobox("setText","")}var o=t.data(e,"tagbox").options;t(e).addClass("tagbox-f").combobox(t.extend({},o,{cls:"tagbox",reversed:!0,onChange:function(n,i){r(),t(this).combobox("hidePanel"),o.onChange.call(e,n,i)},onResizing:function(r,a){var s=t(this).combobox("textbox"),u=t(this).data("textbox").textbox;u.css({height:"",paddingLeft:s.css("marginLeft"),paddingRight:s.css("marginRight")}),s.css("margin",0),u._size({width:o.width},t(this).parent()),i(e),n(this),o.onResizing.call(e,r,a)},onLoadSuccess:function(t){r(),o.onLoadSuccess.call(e,t)}})),r(),i(e)}function n(e,n){var r=t(e).next(),i=n?t(n):r.find(".tagbox-label");if(i.length){var o=t(e).tagbox("textbox"),a=t(i[0]),s=a.outerHeight(!0)-a.outerHeight(),u=o.outerHeight()-2*s;i.css({height:u+"px",lineHeight:u+"px"}),r.find(".textbox-addon").css("height","100%").find(".textbox-icon").css("height","100%"),r.find(".textbox-button").linkbutton("resize",{height:"100%"})}}function r(e){t(e).next().unbind(".tagbox").bind("click.tagbox",function(n){var r=t(e).tagbox("options");if(!r.disabled&&!r.readonly){if(t(n.target).hasClass("tagbox-remove")){var i=parseInt(t(n.target).parent().attr("tagbox-index")),o=t(e).tagbox("getValues");if(0==r.onBeforeRemoveTag.call(e,o[i]))return;r.onRemoveTag.call(e,o[i]),o.splice(i,1),t(e).tagbox("setValues",o)}else{var a=t(n.target).closest(".tagbox-label");if(a.length){var i=parseInt(a.attr("tagbox-index")),o=t(e).tagbox("getValues");r.onClickTag.call(e,o[i])}}t(this).find(".textbox-text").focus()}}).bind("keyup.tagbox",function(t){i(e)}).bind("mouseover.tagbox",function(e){t(e.target).closest(".textbox-button,.textbox-addon,.tagbox-label").length?t(this).triggerHandler("mouseleave"):t(this).find(".textbox-text").triggerHandler("mouseenter")}).bind("mouseleave.tagbox",function(e){t(this).find(".textbox-text").triggerHandler("mouseleave")})}function i(e){function n(t){var e=t.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");return a.html(e),a.outerWidth()}var r=t(e).tagbox("options"),i=t(e).tagbox("textbox"),o=t(e).next(),a=t("<span></span>").appendTo("body");a.attr("style",i.attr("style")),a.css({position:"absolute",top:-9999,left:-9999,width:"auto",fontFamily:i.css("fontFamily"),fontSize:i.css("fontSize"),fontWeight:i.css("fontWeight"),whiteSpace:"nowrap"});var s=n(i.val()),u=n(r.prompt||"");a.remove();var l=Math.min(Math.max(s,u)+20,o.width());i._outerWidth(l),o.find(".textbox-button").linkbutton("resize",{height:"100%"})}function o(e){var n=t(e),r=n.tagbox("options");if(r.limitToList){var i=n.tagbox("panel").children("div.combobox-item-hover");if(i.length){i.removeClass("combobox-item-hover");var o=r.finder.getRow(e,i)[r.valueField];t(e).tagbox(i.hasClass("combobox-item-selected")?"unselect":"select",o)}t(e).tagbox("hidePanel")}else{var a=t.trim(t(e).tagbox("getText"));if(""!==a){var s=t(e).tagbox("getValues");s.push(a),t(e).tagbox("setValues",s)}}}function a(e,n){t(e).combobox("setText",""),i(e),t(e).combobox("setValues",n),t(e).combobox("setText",""),t(e).tagbox("validate")}t.fn.tagbox=function(n,i){if("string"==typeof n){var o=t.fn.tagbox.methods[n];return o?o(this,i):this.combobox(n,i)}return n=n||{},this.each(function(){var i=t.data(this,"tagbox");i?t.extend(i.options,n):t.data(this,"tagbox",{options:t.extend({},t.fn.tagbox.defaults,t.fn.tagbox.parseOptions(this),n)}),e(this),r(this)})},t.fn.tagbox.methods={options:function(e){var n=e.combobox("options");return t.extend(t.data(e[0],"tagbox").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},setValues:function(t,e){return t.each(function(){a(this,e)})}},t.fn.tagbox.parseOptions=function(e){return t.extend({},t.fn.combobox.parseOptions(e),t.parser.parseOptions(e,[]))},t.fn.tagbox.defaults=t.extend({},t.fn.combobox.defaults,{hasDownArrow:!1,multiple:!0,reversed:!0,selectOnNavigation:!1,tipOptions:t.extend({},t.fn.textbox.defaults.tipOptions,{showDelay:200}),val:function(e){var n=t(e).parent().prev().tagbox("getValues");return t(e).is(":focus")&&n.push(t(e).val()),n.join(",")},inputEvents:t.extend({},t.fn.combo.defaults.inputEvents,{blur:function(e){var n=e.data.target;t(n).tagbox("options").limitToList&&o(n)}}),keyHandler:t.extend({},t.fn.combobox.defaults.keyHandler,{enter:function(t){o(this)},query:function(e,n){t(this).tagbox("options").limitToList?t.fn.combobox.defaults.keyHandler.query.call(this,e,n):t(this).combobox("hidePanel")}}),tagFormatter:function(e,n){var r=t(this).tagbox("options");return n?n[r.textField]:e},tagStyler:function(t,e){return""},onClickTag:function(t){},onBeforeRemoveTag:function(t){},onRemoveTag:function(t){}})}($$),function(t){function e(e){function n(e){var n=t(e).datebox("options");t(e).combo("panel").unbind(".datebox").bind("click.datebox",function(r){if(t(r.target).hasClass("datebox-button-a")){var i=parseInt(t(r.target).attr("datebox-button-index"));n.buttons[i].handler.call(r.target,e)}})}function r(e){var n=t(e).combo("panel");if(!n.children("div.datebox-button").length){for(var r=t('<div class="datebox-button"><table cellspacing="0" cellpadding="0" style="width:100%"><tr></tr></table></div>').appendTo(n).find("tr"),i=0;i<s.buttons.length;i++){var o=t("<td></td>").appendTo(r),a=s.buttons[i];t('<a class="datebox-button-a" href="javascript:;"></a>').html(t.isFunction(a.text)?a.text(e):a.text).appendTo(o).attr("datebox-button-index",i)}r.find("td").css("width",100/s.buttons.length+"%")}}function o(e){var n=t(e).combo("panel"),r=n.children("div.datebox-calendar-inner");if(n.children()._outerWidth(n.width()),a.calendar.appendTo(r),a.calendar[0].target=e,"auto"!=s.panelHeight){var i=n.height();n.children().not(r).each(function(){i-=t(this).outerHeight()}),r._outerHeight(i)}a.calendar.calendar("resize")}var a=t.data(e,"datebox"),s=a.options;if(t(e).addClass("datebox-f").combo(t.extend({},s,{onShowPanel:function(){n(this),r(this),o(this),i(this,t(this).datebox("getText"),!0),s.onShowPanel.call(this)}})),!a.calendar){var u=t(e).combo("panel").css("overflow","hidden");u.panel("options").onBeforeDestroy=function(){var e=t(this).find(".calendar-shared");e.length&&e.insertBefore(e[0].pholder)};var l=t('<div class="datebox-calendar-inner"></div>').prependTo(u);if(s.sharedCalendar){var c=t(s.sharedCalendar);c[0].pholder||(c[0].pholder=t('<div class="calendar-pholder" style="display:none"></div>').insertAfter(c)),c.addClass("calendar-shared").appendTo(l),c.hasClass("calendar")||c.calendar(),a.calendar=c}else a.calendar=t("<div></div>").appendTo(l).calendar();t.extend(a.calendar.calendar("options"),{fit:!0,border:!1,onSelect:function(e){var n=this.target,r=t(n).datebox("options");i(n,r.formatter.call(n,e)),t(n).combo("hidePanel"),r.onSelect.call(n,e)}})}t(e).combo("textbox").parent().addClass("datebox"),t(e).datebox("initValue",s.value)}function n(t,e){i(t,e,!0)}function r(e){var n=t.data(e,"datebox"),r=n.options,o=n.calendar.calendar("options").current;o&&(i(e,r.formatter.call(e,o)),t(e).combo("hidePanel"))}function i(e,n,r){var i=t.data(e,"datebox"),o=i.options,a=i.calendar;a.calendar("moveTo",o.parser.call(e,n)),r?t(e).combo("setValue",n):(n&&(n=o.formatter.call(e,a.calendar("options").current)),t(e).combo("setText",n).combo("setValue",n))}t.fn.datebox=function(n,r){if("string"==typeof n){var i=t.fn.datebox.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"datebox");r?t.extend(r.options,n):t.data(this,"datebox",{options:t.extend({},t.fn.datebox.defaults,t.fn.datebox.parseOptions(this),n)}),e(this)})},t.fn.datebox.methods={options:function(e){var n=e.combo("options");return t.extend(t.data(e[0],"datebox").options,{width:n.width,height:n.height,originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},cloneFrom:function(e,n){return e.each(function(){t(this).combo("cloneFrom",n),t.data(this,"datebox",{options:t.extend(!0,{},t(n).datebox("options")),calendar:t(n).datebox("calendar")}),t(this).addClass("datebox-f")})},calendar:function(e){return t.data(e[0],"datebox").calendar},initValue:function(e,n){return e.each(function(){var e=t(this).datebox("options"),n=e.value;n&&(n=e.formatter.call(this,e.parser.call(this,n))),t(this).combo("initValue",n).combo("setText",n)})},setValue:function(t,e){return t.each(function(){i(this,e)})},reset:function(e){return e.each(function(){var e=t(this).datebox("options");t(this).datebox("setValue",e.originalValue)})}},t.fn.datebox.parseOptions=function(e){return t.extend({},t.fn.combo.parseOptions(e),t.parser.parseOptions(e,["sharedCalendar"]))},t.fn.datebox.defaults=t.extend({},t.fn.combo.defaults,{panelWidth:180,panelHeight:"auto",sharedCalendar:null,keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){r(this)},query:function(t,e){n(this,t)}},currentText:"Today",closeText:"Close",okText:"Ok",buttons:[{text:function(e){return t(e).datebox("options").currentText},handler:function(e){var n=new Date;t(e).datebox("calendar").calendar({year:n.getFullYear(),month:n.getMonth()+1,current:new Date(n.getFullYear(),n.getMonth(),n.getDate())}),r(e)}},{text:function(e){return t(e).datebox("options").closeText},handler:function(e){t(this).closest("div.combo-panel").panel("close")}}],formatter:function(t){var e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return(n<10?"0"+n:n)+"/"+(r<10?"0"+r:r)+"/"+e},parser:function(t){if(!t)return new Date;var e=t.split("/"),n=parseInt(e[0],10),r=parseInt(e[1],10),i=parseInt(e[2],10);return isNaN(i)||isNaN(n)||isNaN(r)?new Date:new Date(i,n-1,r)},onSelect:function(t){}})}($$),function(t){function e(e){var n=t.data(e,"datetimebox"),r=n.options;if(t(e).datebox(t.extend({},r,{onShowPanel:function(){o(this,t(this).datetimebox("getValue"),!0),r.onShowPanel.call(this)},formatter:t.fn.datebox.defaults.formatter,parser:t.fn.datebox.defaults.parser})),t(e).removeClass("datebox-f").addClass("datetimebox-f"),t(e).datebox("calendar").calendar({onSelect:function(t){r.onSelect.call(this.target,t)}}),!n.spinner){var i=t(e).datebox("panel"),a=t('<div style="padding:2px"><input></div>').insertAfter(i.children("div.datebox-calendar-inner"));n.spinner=a.children("input")}n.spinner.timespinner({width:r.spinnerWidth,showSeconds:r.showSeconds,separator:r.timeSeparator}),t(e).datetimebox("initValue",r.value)}function n(e){var n=t(e).datetimebox("calendar"),r=t(e).datetimebox("spinner"),i=n.calendar("options").current;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),r.timespinner("getHours"),r.timespinner("getMinutes"),r.timespinner("getSeconds"))}function r(t,e){o(t,e,!0)}function i(e){var r=t.data(e,"datetimebox").options,i=n(e);o(e,r.formatter.call(e,i)),t(e).combo("hidePanel")}function o(e,n,r){var i=t.data(e,"datetimebox").options;if(t(e).combo("setValue",n),!r)if(n){o=i.parser.call(e,n);t(e).combo("setText",i.formatter.call(e,o)),t(e).combo("setValue",i.formatter.call(e,o))}else t(e).combo("setText",n);var o=i.parser.call(e,n);t(e).datetimebox("calendar").calendar("moveTo",o),t(e).datetimebox("spinner").timespinner("setValue",function(n){function r(t){return(t<10?"0":"")+t}var o=[r(n.getHours()),r(n.getMinutes())];return i.showSeconds&&o.push(r(n.getSeconds())),o.join(t(e).datetimebox("spinner").timespinner("options").separator)}(o))}t.fn.datetimebox=function(n,r){if("string"==typeof n){var i=t.fn.datetimebox.methods[n];return i?i(this,r):this.datebox(n,r)}return n=n||{},this.each(function(){var r=t.data(this,"datetimebox");r?t.extend(r.options,n):t.data(this,"datetimebox",{options:t.extend({},t.fn.datetimebox.defaults,t.fn.datetimebox.parseOptions(this),n)}),e(this)})},t.fn.datetimebox.methods={options:function(e){var n=e.datebox("options");return t.extend(t.data(e[0],"datetimebox").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},cloneFrom:function(e,n){return e.each(function(){t(this).datebox("cloneFrom",n),t.data(this,"datetimebox",{options:t.extend(!0,{},t(n).datetimebox("options")),spinner:t(n).datetimebox("spinner")}),t(this).removeClass("datebox-f").addClass("datetimebox-f")})},spinner:function(e){return t.data(e[0],"datetimebox").spinner},initValue:function(e,n){return e.each(function(){var e=t(this).datetimebox("options"),n=e.value;n&&(n=e.formatter.call(this,e.parser.call(this,n))),t(this).combo("initValue",n).combo("setText",n)})},setValue:function(t,e){return t.each(function(){o(this,e)})},reset:function(e){return e.each(function(){var e=t(this).datetimebox("options");t(this).datetimebox("setValue",e.originalValue)})}},t.fn.datetimebox.parseOptions=function(e){t(e);return t.extend({},t.fn.datebox.parseOptions(e),t.parser.parseOptions(e,["timeSeparator","spinnerWidth",{showSeconds:"boolean"}]))},t.fn.datetimebox.defaults=t.extend({},t.fn.datebox.defaults,{spinnerWidth:"100%",showSeconds:!0,timeSeparator:":",keyHandler:{up:function(t){},down:function(t){},left:function(t){},right:function(t){},enter:function(t){i(this)},query:function(t,e){r(this,t)}},buttons:[{text:function(e){return t(e).datetimebox("options").currentText},handler:function(e){o(e,t(e).datetimebox("options").formatter.call(e,new Date)),t(e).datetimebox("hidePanel")}},{text:function(e){return t(e).datetimebox("options").okText},handler:function(t){i(t)}},{text:function(e){return t(e).datetimebox("options").closeText},handler:function(e){t(e).datetimebox("hidePanel")}}],formatter:function(e){function n(t){return(t<10?"0":"")+t}var r=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),a=t(this).datetimebox("spinner").timespinner("options").separator,s=t.fn.datebox.defaults.formatter(e)+" "+n(r)+a+n(i);return t(this).datetimebox("options").showSeconds&&(s+=a+n(o)),s},parser:function(e){if(""==t.trim(e))return new Date;var n=e.split(" "),r=t.fn.datebox.defaults.parser(n[0]);if(n.length<2)return r;var i=t(this).datetimebox("spinner").timespinner("options").separator,o=n[1].split(i),a=parseInt(o[0],10)||0,s=parseInt(o[1],10)||0,u=parseInt(o[2],10)||0;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),a,s,u)}})}($$),function($){function init(t){var e=$('<div class="slider"><div class="slider-inner"><a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span></div><div class="slider-rule"></div><div class="slider-rulelabel"></div><div style="clear:both"></div><input type="hidden" class="slider-value"></div>').insertAfter(t),n=$(t);n.addClass("slider-f").hide();var r=n.attr("name");return r&&(e.find("input.slider-value").attr("name",r),n.removeAttr("name").attr("sliderName",r)),e.bind("_resize",function(e,n){return($(this).hasClass("easyui-fluid")||n)&&_bd5(t),!1}),e}function _bd5(t,e){var n=$.data(t,"slider"),r=n.options,i=n.slider;e&&(e.width&&(r.width=e.width),e.height&&(r.height=e.height)),i._size(r),"h"==r.mode?(i.css("height",""),i.children("div").css("height","")):(i.css("width",""),i.children("div").css("width",""),i.children("div.slider-rule,div.slider-rulelabel,div.slider-inner")._outerHeight(i._outerHeight())),_bda(t)}function _bdb(t){var e=$.data(t,"slider"),n=e.options,r=e.slider,i="h"==n.mode?n.rule:n.rule.slice(0).reverse();n.reversed&&(i=i.slice(0).reverse()),function(t){var e=r.find("div.slider-rule"),i=r.find("div.slider-rulelabel");e.empty(),i.empty();for(var o=0;o<t.length;o++){var a=100*o/(t.length-1)+"%",s=$("<span></span>").appendTo(e);s.css("h"==n.mode?"left":"top",a),"|"!=t[o]&&((s=$("<span></span>").appendTo(i)).html(t[o]),"h"==n.mode?s.css({left:a,marginLeft:-Math.round(s.outerWidth()/2)}):s.css({top:a,marginTop:-Math.round(s.outerHeight()/2)}))}}(i)}function _be2(t){function e(e,n){var i=_beb(t,e),o=Math.abs(i%r.step);if(o<r.step/2?i-=o:i=i-o+r.step,r.range){var a=r.value[0],s=r.value[1],u=parseFloat((a+s)/2);if(n){var l=$(n).nextAll(".slider-handle").length>0;i<=s&&l?a=i:i>=a&&!l&&(s=i)}else i<a?a=i:i>s?s=i:i<u?a=i:s=i;$(t).slider("setValues",[a,s])}else $(t).slider("setValue",i)}var n=$.data(t,"slider"),r=n.options,i=n.slider;i.removeClass("slider-h slider-v slider-disabled"),i.addClass("h"==r.mode?"slider-h":"slider-v"),i.addClass(r.disabled?"slider-disabled":"");var o=i.find(".slider-inner");o.html('<a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span>'),r.range&&o.append('<a href="javascript:;" class="slider-handle"></a><span class="slider-tip"></span>'),i.find("a.slider-handle").draggable({axis:r.mode,cursor:"pointer",disabled:r.disabled,onDrag:function(t){var n=t.data.left,o=i.width();return"h"!=r.mode&&(n=t.data.top,o=i.height()),!(n<0||n>o)&&(e(n,this),!1)},onStartDrag:function(){n.isDragging=!0,r.onSlideStart.call(t,r.value)},onStopDrag:function(i){e("h"==r.mode?i.data.left:i.data.top,this),r.onSlideEnd.call(t,r.value),r.onComplete.call(t,r.value),n.isDragging=!1}}),i.find("div.slider-inner").unbind(".slider").bind("mousedown.slider",function(i){if(!n.isDragging&&!r.disabled){var o=$(this).offset();e("h"==r.mode?i.pageX-o.left:i.pageY-o.top),r.onComplete.call(t,r.value)}})}function _bed(t,e){var n=$.data(t,"slider"),r=n.options,i=n.slider,o=$.isArray(r.value)?r.value:[r.value],a=[];$.isArray(e)||(e=$.map(String(e).split(r.separator),function(t){return parseFloat(t)})),i.find(".slider-value").remove();for(var s=$(t).attr("sliderName")||"",u=0;u<e.length;u++){var l=e[u];l<r.min&&(l=r.min),l>r.max&&(l=r.max);var c=$('<input type="hidden" class="slider-value">').appendTo(i);c.attr("name",s),c.val(l),a.push(l);var h=i.find(".slider-handle:eq("+u+")"),d=h.next(),f=_bf7(t,l);if(r.showTip?(d.show(),d.html(r.tipFormatter.call(t,l))):d.hide(),"h"==r.mode){p="left:"+f+"px;";h.attr("style",p),d.attr("style",p+"margin-left:"+-Math.round(d.outerWidth()/2)+"px")}else{var p="top:"+f+"px;";h.attr("style",p),d.attr("style",p+"margin-left:"+-Math.round(d.outerWidth())+"px")}}r.value=r.range?a:a[0],$(t).val(r.range?a.join(r.separator):a[0]),o.join(",")!=a.join(",")&&r.onChange.call(t,r.value,r.range?o:o[0])}function _bda(t){var e=$.data(t,"slider").options,n=e.onChange;e.onChange=function(){},_bed(t,e.value),e.onChange=n}function _bf7(t,e){var n=$.data(t,"slider"),r=n.options,i=n.slider,o="h"==r.mode?i.width():i.height(),a=r.converter.toPosition.call(t,e,o);return"v"==r.mode&&(a=i.height()-a),r.reversed&&(a=o-a),a.toFixed(0)}function _beb(t,e){var n=$.data(t,"slider"),r=n.options,i=n.slider,o="h"==r.mode?i.width():i.height(),e="h"==r.mode?r.reversed?o-e:e:r.reversed?e:o-e;return r.converter.toValue.call(t,e,o).toFixed(0)}$.fn.slider=function(t,e){return"string"==typeof t?$.fn.slider.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"slider");e?$.extend(e.options,t):(e=$.data(this,"slider",{options:$.extend({},$.fn.slider.defaults,$.fn.slider.parseOptions(this),t),slider:init(this)}),$(this).removeAttr("disabled"));var n=e.options;n.min=parseFloat(n.min),n.max=parseFloat(n.max),n.range?($.isArray(n.value)||(n.value=$.map(String(n.value).split(n.separator),function(t){return parseFloat(t)})),n.value.length<2&&n.value.push(n.max)):n.value=parseFloat(n.value),n.step=parseFloat(n.step),n.originalValue=n.value,_be2(this),_bdb(this),_bd5(this)}))},$.fn.slider.methods={options:function(t){return $.data(t[0],"slider").options},destroy:function(t){return t.each(function(){$.data(this,"slider").slider.remove(),$(this).remove()})},resize:function(t,e){return t.each(function(){_bd5(this,e)})},getValue:function(t){return t.slider("options").value},getValues:function(t){return t.slider("options").value},setValue:function(t,e){return t.each(function(){_bed(this,[e])})},setValues:function(t,e){return t.each(function(){_bed(this,e)})},clear:function(t){return t.each(function(){var t=$(this).slider("options");_bed(this,t.range?[t.min,t.max]:[t.min])})},reset:function(t){return t.each(function(){var t=$(this).slider("options");$(this).slider(t.range?"setValues":"setValue",t.originalValue)})},enable:function(t){return t.each(function(){$.data(this,"slider").options.disabled=!1,_be2(this)})},disable:function(t){return t.each(function(){$.data(this,"slider").options.disabled=!0,_be2(this)})}},$.fn.slider.parseOptions=function(_c08){var t=$(_c08);return $.extend({},$.parser.parseOptions(_c08,["width","height","mode",{reversed:"boolean",showTip:"boolean",range:"boolean",min:"number",max:"number",step:"number"}]),{value:t.val()||void 0,disabled:!!t.attr("disabled")||void 0,rule:t.attr("rule")?eval(t.attr("rule")):void 0})},$.fn.slider.defaults={width:"auto",height:"auto",mode:"h",reversed:!1,showTip:!1,disabled:!1,range:!1,value:0,separator:",",min:0,max:100,step:1,rule:[],tipFormatter:function(t){return t},converter:{toPosition:function(t,e){var n=$(this).slider("options");return(t-n.min)/(n.max-n.min)*e},toValue:function(t,e){var n=$(this).slider("options");return n.min+(n.max-n.min)*(t/e)}},onChange:function(t,e){},onSlideStart:function(t){},onSlideEnd:function(t){},onComplete:function(t){}}}($$),function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(t){var e=data.getRoot(t);e||(e={},data.setRoot(t,e)),e[t.data.key.children]=[],e.expandTriggerFlag=!1,e.curSelectedList=[],e.noSelection=!0,e.createdNodes=[],e.zId=0,e._ver=(new Date).getTime()},_initCache=function(t){var e=data.getCache(t);e||(e={},data.setCache(t,e)),e.nodes=[],e.doms=[]},_bindEvent=function(t){var e=t.treeObj,n=consts.event;e.bind(n.NODECREATED,function(e,n,r){tools.apply(t.callback.onNodeCreated,[e,n,r])}),e.bind(n.CLICK,function(e,n,r,i,o){tools.apply(t.callback.onClick,[n,r,i,o])}),e.bind(n.EXPAND,function(e,n,r){tools.apply(t.callback.onExpand,[e,n,r])}),e.bind(n.COLLAPSE,function(e,n,r){tools.apply(t.callback.onCollapse,[e,n,r])}),e.bind(n.ASYNC_SUCCESS,function(e,n,r,i){tools.apply(t.callback.onAsyncSuccess,[e,n,r,i])}),e.bind(n.ASYNC_ERROR,function(e,n,r,i,o,a){tools.apply(t.callback.onAsyncError,[e,n,r,i,o,a])}),e.bind(n.REMOVE,function(e,n,r){tools.apply(t.callback.onRemove,[e,n,r])})},_unbindEvent=function(t){var e=t.treeObj,n=consts.event;e.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE)},_eventProxy=function(t){var e=t.target,n=data.getSetting(t.data.treeId),r="",i=null,o="",a="",s=null,u=null,l=null;if(tools.eqs(t.type,"mousedown")?a="mousedown":tools.eqs(t.type,"mouseup")?a="mouseup":tools.eqs(t.type,"contextmenu")?a="contextmenu":tools.eqs(t.type,"click")?tools.eqs(e.tagName,"span")&&null!==e.getAttribute("treeNode"+consts.id.SWITCH)?(r=tools.getNodeMainDom(e).id,o="switchNode"):(l=tools.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(l).id,o="clickNode"):tools.eqs(t.type,"dblclick")&&(a="dblclick",(l=tools.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(l).id,o="switchNode")),a.length>0&&0==r.length&&(l=tools.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(l).id),r.length>0)switch(i=data.getNodeCache(n,r),o){case"switchNode":i.isParent&&(tools.eqs(t.type,"click")||tools.eqs(t.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,i],n.view.dblClickExpand))?s=handler.onSwitchNode:o="";break;case"clickNode":s=handler.onClickNode}switch(a){case"mousedown":u=handler.onZTreeMousedown;break;case"mouseup":u=handler.onZTreeMouseup;break;case"dblclick":u=handler.onZTreeDblclick;break;case"contextmenu":u=handler.onZTreeContextmenu}return{stop:!1,node:i,nodeEventType:o,nodeEventCallback:s,treeEventType:a,treeEventCallback:u}},_initNode=function(t,e,n,r,i,o,a){if(n){var s=data.getRoot(t),u=t.data.key.children;n.level=e,n.tId=t.treeId+"_"+ ++s.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open,n[u]&&n[u].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent,n.open=!(!n.isParent||t.async.enable)&&n.open,n.zAsync=!n.isParent),n.isFirstNode=i,n.isLastNode=o,n.getParentNode=function(){return data.getNodeCache(t,n.parentTId)},n.getPreNode=function(){return data.getPreNode(t,n)},n.getNextNode=function(){return data.getNextNode(t,n)},n.isAjaxing=!1,data.fixPIdKeyValue(t,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(t,e){data.getCache(t).nodes[data.getNodeCacheId(e.tId)]=e},getNodeCacheId:function(t){return t.substring(t.lastIndexOf("_")+1)},addAfterA:function(t){_init.afterA.push(t)},addBeforeA:function(t){_init.beforeA.push(t)},addInnerAfterA:function(t){_init.innerAfterA.push(t)},addInnerBeforeA:function(t){_init.innerBeforeA.push(t)},addInitBind:function(t){_init.bind.push(t)},addInitUnBind:function(t){_init.unbind.push(t)},addInitCache:function(t){_init.caches.push(t)},addInitNode:function(t){_init.nodes.push(t)},addInitProxy:function(t,e){e?_init.proxys.splice(0,0,t):_init.proxys.push(t)},addInitRoot:function(t){_init.roots.push(t)},addNodesData:function(t,e,n){var r=t.data.key.children;e[r]||(e[r]=[]),e[r].length>0&&(e[r][e[r].length-1].isLastNode=!1,view.setNodeLineIcos(t,e[r][e[r].length-1])),e.isParent=!0,e[r]=e[r].concat(n)},addSelectedNode:function(t,e){var n=data.getRoot(t);data.isSelectedNode(t,e)||n.curSelectedList.push(e)},addCreatedNode:function(t,e){(t.callback.onNodeCreated||t.view.addDiyDom)&&data.getRoot(t).createdNodes.push(e)},addZTreeTools:function(t){_init.zTreeTools.push(t)},exSetting:function(t){$.extend(!0,_setting,t)},fixPIdKeyValue:function(t,e){t.data.simpleData.enable&&(e[t.data.simpleData.pIdKey]=e.parentTId?e.getParentNode()[t.data.simpleData.idKey]:t.data.simpleData.rootPId)},getAfterA:function(t,e,n){for(var r=0,i=_init.afterA.length;r<i;r++)_init.afterA[r].apply(this,arguments)},getBeforeA:function(t,e,n){for(var r=0,i=_init.beforeA.length;r<i;r++)_init.beforeA[r].apply(this,arguments)},getInnerAfterA:function(t,e,n){for(var r=0,i=_init.innerAfterA.length;r<i;r++)_init.innerAfterA[r].apply(this,arguments)},getInnerBeforeA:function(t,e,n){for(var r=0,i=_init.innerBeforeA.length;r<i;r++)_init.innerBeforeA[r].apply(this,arguments)},getCache:function(t){return caches[t.treeId]},getNextNode:function(t,e){if(!e)return null;for(var n=t.data.key.children,r=e.parentTId?e.getParentNode():data.getRoot(t),i=0,o=r[n].length-1;i<=o;i++)if(r[n][i]===e)return i==o?null:r[n][i+1];return null},getNodeByParam:function(t,e,n,r){if(!e||!n)return null;for(var i=t.data.key.children,o=0,a=e.length;o<a;o++){if(e[o][n]==r)return e[o];var s=data.getNodeByParam(t,e[o][i],n,r);if(s)return s}return null},getNodeCache:function(t,e){if(!e)return null;var n=caches[t.treeId].nodes[data.getNodeCacheId(e)];return n||null},getNodeName:function(t,e){return""+e[t.data.key.name]},getNodeTitle:function(t,e){return""+e[""===t.data.key.title?t.data.key.name:t.data.key.title]},getNodes:function(t){return data.getRoot(t)[t.data.key.children]},getNodesByParam:function(t,e,n,r){if(!e||!n)return[];for(var i=t.data.key.children,o=[],a=0,s=e.length;a<s;a++)e[a][n]==r&&o.push(e[a]),o=o.concat(data.getNodesByParam(t,e[a][i],n,r));return o},getNodesByParamFuzzy:function(t,e,n,r){if(!e||!n)return[];var i=t.data.key.children,o=[];r=r.toLowerCase();for(var a=0,s=e.length;a<s;a++)"string"==typeof e[a][n]&&e[a][n].toLowerCase().indexOf(r)>-1&&o.push(e[a]),o=o.concat(data.getNodesByParamFuzzy(t,e[a][i],n,r));return o},getNodesByFilter:function(t,e,n,r,i){if(!e)return r?null:[];for(var o=t.data.key.children,a=r?null:[],s=0,u=e.length;s<u;s++){if(tools.apply(n,[e[s],i],!1)){if(r)return e[s];a.push(e[s])}var l=data.getNodesByFilter(t,e[s][o],n,r,i);if(r&&l)return l;a=r?l:a.concat(l)}return a},getPreNode:function(t,e){if(!e)return null;for(var n=t.data.key.children,r=e.parentTId?e.getParentNode():data.getRoot(t),i=0,o=r[n].length;i<o;i++)if(r[n][i]===e)return 0==i?null:r[n][i-1];return null},getRoot:function(t){return t?roots[t.treeId]:null},getRoots:function(){return roots},getSetting:function(t){return settings[t]},getSettings:function(){return settings},getZTreeTools:function(t){var e=this.getRoot(this.getSetting(t));return e?e.treeTools:null},initCache:function(t){for(var e=0,n=_init.caches.length;e<n;e++)_init.caches[e].apply(this,arguments)},initNode:function(t,e,n,r,i,o){for(var a=0,s=_init.nodes.length;a<s;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(t){for(var e=0,n=_init.roots.length;e<n;e++)_init.roots[e].apply(this,arguments)},isSelectedNode:function(t,e){for(var n=data.getRoot(t),r=0,i=n.curSelectedList.length;r<i;r++)if(e===n.curSelectedList[r])return!0;return!1},removeNodeCache:function(t,e){var n=t.data.key.children;if(e[n])for(var r=0,i=e[n].length;r<i;r++)arguments.callee(t,e[n][r]);data.getCache(t).nodes[data.getNodeCacheId(e.tId)]=null},removeSelectedNode:function(t,e){for(var n=data.getRoot(t),r=0,i=n.curSelectedList.length;r<i;r++)e!==n.curSelectedList[r]&&data.getNodeCache(t,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),r--,i--)},setCache:function(t,e){caches[t.treeId]=e},setRoot:function(t,e){roots[t.treeId]=e},setZTreeTools:function(t,e){for(var n=0,r=_init.zTreeTools.length;n<r;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(t,e){if(!e)return[];var n=t.data.key.children,r=[];if(tools.isArray(e))for(var i=0,o=e.length;i<o;i++)r.push(e[i]),e[i][n]&&(r=r.concat(data.transformToArrayFormat(t,e[i][n])));else r.push(e),e[n]&&(r=r.concat(data.transformToArrayFormat(t,e[n])));return r},transformTozTreeFormat:function(t,e){var n,r,i=t.data.simpleData.idKey,o=t.data.simpleData.pIdKey,a=t.data.key.children;if(!i||""==i||!e)return[];if(tools.isArray(e)){var s=[],u=[];for(n=0,r=e.length;n<r;n++)u[e[n][i]]=e[n];for(n=0,r=e.length;n<r;n++)u[e[n][o]]&&e[n][i]!=e[n][o]?(u[e[n][o]][a]||(u[e[n][o]][a]=[]),u[e[n][o]][a].push(e[n])):s.push(e[n]);return s}return[e]}},event={bindEvent:function(t){for(var e=0,n=_init.bind.length;e<n;e++)_init.bind[e].apply(this,arguments)},unbindEvent:function(t){for(var e=0,n=_init.unbind.length;e<n;e++)_init.unbind[e].apply(this,arguments)},bindTree:function(t){var e={treeId:t.treeId},n=t.treeObj;t.view.txtSelectedEnable||n.bind("selectstart",function(t){var e=t.originalEvent.srcElement.nodeName.toLowerCase();return"input"===e||"textarea"===e}).css({"-moz-user-select":"-moz-none"}),n.bind("click",e,event.proxy),n.bind("dblclick",e,event.proxy),n.bind("mouseover",e,event.proxy),n.bind("mouseout",e,event.proxy),n.bind("mousedown",e,event.proxy),n.bind("mouseup",e,event.proxy),n.bind("contextmenu",e,event.proxy)},unbindTree:function(t){t.treeObj.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(t){for(var e=[],n=0,r=_init.proxys.length;n<r;n++){var i=_init.proxys[n].apply(this,arguments);if(e.push(i),i.stop)break}return e},proxy:function(t){var e=data.getSetting(t.data.treeId);if(!tools.uCanDo(e,t))return!0;for(var n=event.doProxy(t),r=!0,i=0,o=n.length;i<o;i++){var a=n[i];a.nodeEventCallback&&(!0,r=a.nodeEventCallback.apply(a,[t,a.node])&&r),a.treeEventCallback&&(!0,r=a.treeEventCallback.apply(a,[t,a.node])&&r)}return r}},handler={onSwitchNode:function(t,e){var n=data.getSetting(t.data.treeId);if(e.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,e],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,e)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,e],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,e)}return!0},onClickNode:function(t,e){var n=data.getSetting(t.data.treeId),r=n.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&data.isSelectedNode(n,e)?0:n.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,e,r],!0)||(0===r?view.cancelPreSelectedNode(n,e):view.selectNode(n,e,2===r),n.treeObj.trigger(consts.event.CLICK,[t,n.treeId,e,r]),!0)},onZTreeMousedown:function(t,e){var n=data.getSetting(t.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,e],!0)&&tools.apply(n.callback.onMouseDown,[t,n.treeId,e]),!0},onZTreeMouseup:function(t,e){var n=data.getSetting(t.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,e],!0)&&tools.apply(n.callback.onMouseUp,[t,n.treeId,e]),!0},onZTreeDblclick:function(t,e){var n=data.getSetting(t.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,e],!0)&&tools.apply(n.callback.onDblClick,[t,n.treeId,e]),!0},onZTreeContextmenu:function(t,e){var n=data.getSetting(t.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,e],!0)&&tools.apply(n.callback.onRightClick,[t,n.treeId,e]),"function"!=typeof n.callback.onRightClick}},tools={apply:function(t,e,n){return"function"==typeof t?t.apply(zt,e||[]):n},canAsync:function(t,e){var n=t.data.key.children;return t.async.enable&&e&&e.isParent&&!(e.zAsync||e[n]&&e[n].length>0)},clone:function(t){if(null===t)return null;var e=tools.isArray(t)?[]:{};for(var n in t)e[n]=t[n]instanceof Date?new Date(t[n].getTime()):"object"==typeof t[n]?arguments.callee(t[n]):t[n];return e},eqs:function(t,e){return t.toLowerCase()===e.toLowerCase()},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},$:function(t,e,n){return e&&"string"!=typeof e&&(n=e,e=""),"string"==typeof t?$(t,n?n.treeObj.get(0).ownerDocument:null):$("#"+t.tId+e,n?n.treeObj:null)},getMDom:function(t,e,n){if(!e)return null;for(;e&&e.id!==t.treeId;){for(var r=0,i=n.length;e.tagName&&r<i;r++)if(tools.eqs(e.tagName,n[r].tagName)&&null!==e.getAttribute(n[r].attrName))return e;e=e.parentNode}return null},getNodeMainDom:function(t){return $(t).parent("li").get(0)||$(t).parentsUntil("li").parent().get(0)},isChildOrSelf:function(t,e){return $(t).closest("#"+e).length>0},uCanDo:function(t,e){return!0}},view={addNodes:function(t,e,n,r){if(!t.data.keep.leaf||!e||e.isParent)if(tools.isArray(n)||(n=[n]),t.data.simpleData.enable&&(n=data.transformTozTreeFormat(t,n)),e){var i=$$(e,consts.id.SWITCH,t),o=$$(e,consts.id.ICON,t),a=$$(e,consts.id.UL,t);e.open||(view.replaceSwitchClass(e,i,consts.folder.CLOSE),view.replaceIcoClass(e,o,consts.folder.CLOSE),e.open=!1,a.css({display:"none"})),data.addNodesData(t,e,n),view.createNodes(t,e.level+1,n,e),r||view.expandCollapseParentNode(t,e,!0)}else data.addNodesData(t,data.getRoot(t),n),view.createNodes(t,0,n,null)},appendNodes:function(t,e,n,r,i,o){if(!n)return[];for(var a=[],s=t.data.key.children,u=0,l=n.length;u<l;u++){var c=n[u];if(i){var h=(r||data.getRoot(t))[s].length==n.length&&0==u,d=u==n.length-1;data.initNode(t,e,c,r,h,d,o),data.addNodeCache(t,c)}var f=[];c[s]&&c[s].length>0&&(f=view.appendNodes(t,e+1,c[s],c,i,o&&c.open)),o&&(view.makeDOMNodeMainBefore(a,t,c),view.makeDOMNodeLine(a,t,c),data.getBeforeA(t,c,a),view.makeDOMNodeNameBefore(a,t,c),data.getInnerBeforeA(t,c,a),view.makeDOMNodeIcon(a,t,c),data.getInnerAfterA(t,c,a),view.makeDOMNodeNameAfter(a,t,c),data.getAfterA(t,c,a),c.isParent&&c.open&&view.makeUlHtml(t,c,a,f.join("")),view.makeDOMNodeMainAfter(a,t,c),data.addCreatedNode(t,c))}return a},appendParentULDom:function(t,e){var n=[],r=$$(e,t);!r.get(0)&&e.parentTId&&(view.appendParentULDom(t,e.getParentNode()),r=$$(e,t));var i=$$(e,consts.id.UL,t);i.get(0)&&i.remove();var o=t.data.key.children,a=view.appendNodes(t,e.level+1,e[o],e,!1,!0);view.makeUlHtml(t,e,n,a.join("")),r.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;i<l;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(t){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(t,e,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,t,e,n]))}}),!0},cancelPreSelectedNode:function(t,e){for(var n=data.getRoot(t).curSelectedList,r=n.length-1;r>=0;r--)if((!e||e===n[r])&&($$(n[r],consts.id.A,t).removeClass(consts.node.CURSELECTED),e)){data.removeSelectedNode(t,e);break}e||(data.getRoot(t).curSelectedList=[])},createNodeCallback:function(t){if(t.callback.onNodeCreated||t.view.addDiyDom)for(var e=data.getRoot(t);e.createdNodes.length>0;){var n=e.createdNodes.shift();tools.apply(t.view.addDiyDom,[t.treeId,n]),t.callback.onNodeCreated&&t.treeObj.trigger(consts.event.NODECREATED,[t.treeId,n])}},createNodes:function(t,e,n,r){if(n&&0!=n.length){var i=data.getRoot(t),o=t.data.key.children,a=!r||r.open||!!$$(r[o][0],t).get(0);i.createdNodes=[];var s=view.appendNodes(t,e,n,r,!0,a);if(r){var u=$$(r,consts.id.UL,t);u.get(0)&&u.append(s.join(""))}else t.treeObj.append(s.join(""));view.createNodeCallback(t)}},destroy:function(t){t&&(data.initCache(t),data.initRoot(t),event.unbindTree(t),event.unbindEvent(t),t.treeObj.empty(),delete settings[t.treeId])},expandCollapseNode:function(t,e,n,r,i){var o=data.getRoot(t),a=t.data.key.children;if(e){if(o.expandTriggerFlag){var s=i;i=function(){s&&s(),e.open?t.treeObj.trigger(consts.event.EXPAND,[t.treeId,e]):t.treeObj.trigger(consts.event.COLLAPSE,[t.treeId,e])},o.expandTriggerFlag=!1}if(!e.open&&e.isParent&&(!$$(e,consts.id.UL,t).get(0)||e[a]&&e[a].length>0&&!$$(e[a][0],t).get(0))&&(view.appendParentULDom(t,e),view.createNodeCallback(t)),e.open!=n){var u=$$(e,consts.id.UL,t),l=$$(e,consts.id.SWITCH,t),c=$$(e,consts.id.ICON,t);e.isParent?(e.open=!e.open,e.iconOpen&&e.iconClose&&c.attr("style",view.makeNodeIcoStyle(t,e)),e.open?(view.replaceSwitchClass(e,l,consts.folder.OPEN),view.replaceIcoClass(e,c,consts.folder.OPEN),0==r||""==t.view.expandSpeed?(u.show(),tools.apply(i,[])):e[a]&&e[a].length>0?u.slideDown(t.view.expandSpeed,i):(u.show(),tools.apply(i,[]))):(view.replaceSwitchClass(e,l,consts.folder.CLOSE),view.replaceIcoClass(e,c,consts.folder.CLOSE),0!=r&&""!=t.view.expandSpeed&&e[a]&&e[a].length>0?u.slideUp(t.view.expandSpeed,i):(u.hide(),tools.apply(i,[])))):tools.apply(i,[])}else tools.apply(i,[])}else tools.apply(i,[])},expandCollapseParentNode:function(t,e,n,r,i){e&&(e.parentTId?(view.expandCollapseNode(t,e,n,r),e.parentTId&&view.expandCollapseParentNode(t,e.getParentNode(),n,r,i)):view.expandCollapseNode(t,e,n,r,i))},expandCollapseSonNode:function(t,e,n,r,i){var o=data.getRoot(t),a=t.data.key.children,s=e?e[a]:o[a],u=!e&&r,l=data.getRoot(t).expandTriggerFlag;if(data.getRoot(t).expandTriggerFlag=!1,s)for(var c=0,h=s.length;c<h;c++)s[c]&&view.expandCollapseSonNode(t,s[c],n,u);data.getRoot(t).expandTriggerFlag=l,view.expandCollapseNode(t,e,n,r,i)},makeDOMNodeIcon:function(t,e,n){var r=data.getNodeName(e,n),i=e.view.nameIsHTML?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");t.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(e,n),"' style='",view.makeNodeIcoStyle(e,n),"'></span><span id='",n.tId,consts.id.SPAN,"'>",i,"</span>")},makeDOMNodeLine:function(t,e,n){t.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(e,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(t,e,n){t.push("</li>")},makeDOMNodeMainBefore:function(t,e,n){t.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(t,e,n){t.push("</a>")},makeDOMNodeNameBefore:function(t,e,n){var r=data.getNodeTitle(e,n),i=view.makeNodeUrl(e,n),o=view.makeNodeFontCss(e,n),a=[];for(var s in o)a.push(s,":",o[s],";");t.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=i&&i.length>0?"href='"+i+"'":""," target='",view.makeNodeTarget(n),"' style='",a.join(""),"'"),tools.apply(e.view.showTitle,[e.treeId,n],e.view.showTitle)&&r&&t.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),t.push(">")},makeNodeFontCss:function(t,e){var n=tools.apply(t.view.fontCss,[t.treeId,e],t.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(t,e){var n=["ico"];return e.isAjaxing||(n[0]=(e.iconSkin?e.iconSkin+"_":"")+n[0],e.isParent?n.push(e.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)),consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(t,e){var n=[];if(!e.isAjaxing){var r=e.isParent&&e.iconOpen&&e.iconClose?e.open?e.iconOpen:e.iconClose:e.icon;r&&n.push("background:url(",r,") 0 0 no-repeat;"),0!=t.view.showIcon&&tools.apply(t.view.showIcon,[t.treeId,e],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(t,e){var n=[];return t.view.showLine?0==e.level&&e.isFirstNode&&e.isLastNode?n.push(consts.line.ROOT):0==e.level&&e.isFirstNode?n.push(consts.line.ROOTS):e.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),e.isParent?n.push(e.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(e)+n.join("_")},makeNodeLineClassEx:function(t){return consts.className.BUTTON+" "+consts.className.LEVEL+t.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(t){return t.target||"_blank"},makeNodeUrl:function(t,e){var n=t.data.key.url;return e[n]?e[n]:null},makeUlHtml:function(t,e,n,r){n.push("<ul id='",e.tId,consts.id.UL,"' class='",consts.className.LEVEL,e.level," ",view.makeUlLineClass(t,e),"' style='display:",e.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(t,e){return t.view.showLine&&!e.isLastNode?consts.line.LINE:""},removeChildNodes:function(t,e){if(e){var n=t.data.key.children,r=e[n];if(r){for(var i=0,o=r.length;i<o;i++)data.removeNodeCache(t,r[i]);if(data.removeSelectedNode(t),delete e[n],t.data.keep.parent)$$(e,consts.id.UL,t).empty();else{e.isParent=!1,e.open=!1;var a=$$(e,consts.id.SWITCH,t),s=$$(e,consts.id.ICON,t);view.replaceSwitchClass(e,a,consts.folder.DOCU),view.replaceIcoClass(e,s,consts.folder.DOCU),$$(e,consts.id.UL,t).remove()}}}},setFirstNode:function(t,e){var n=t.data.key.children;e[n].length>0&&(e[n][0].isFirstNode=!0)},setLastNode:function(t,e){var n=t.data.key.children,r=e[n].length;r>0&&(e[n][r-1].isLastNode=!0)},removeNode:function(t,e){var n=data.getRoot(t),r=t.data.key.children,i=e.parentTId?e.getParentNode():n;if(e.isFirstNode=!1,e.isLastNode=!1,e.getPreNode=function(){return null},e.getNextNode=function(){return null},data.getNodeCache(t,e.tId)){$$(e,t).remove(),data.removeNodeCache(t,e),data.removeSelectedNode(t,e);for(var o=0,a=i[r].length;o<a;o++)if(i[r][o].tId==e.tId){i[r].splice(o,1);break}view.setFirstNode(t,i),view.setLastNode(t,i);var s,u,l,c=i[r].length;if(t.data.keep.parent||0!=c){if(t.view.showLine&&c>0){var h=i[r][c-1];if(s=$$(h,consts.id.UL,t),u=$$(h,consts.id.SWITCH,t),l=$$(h,consts.id.ICON,t),i==n)if(1==i[r].length)view.replaceSwitchClass(h,u,consts.line.ROOT);else{var d=$$(i[r][0],consts.id.SWITCH,t);view.replaceSwitchClass(i[r][0],d,consts.line.ROOTS),view.replaceSwitchClass(h,u,consts.line.BOTTOM)}else view.replaceSwitchClass(h,u,consts.line.BOTTOM);s.removeClass(consts.line.LINE)}}else i.isParent=!1,i.open=!1,s=$$(i,consts.id.UL,t),u=$$(i,consts.id.SWITCH,t),l=$$(i,consts.id.ICON,t),view.replaceSwitchClass(i,u,consts.folder.DOCU),view.replaceIcoClass(i,l,consts.folder.DOCU),s.css("display","none")}},replaceIcoClass:function(t,e,n){if(e&&!t.isAjaxing){var r=e.attr("class");if(void 0!=r){var i=r.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:i[i.length-1]=n}e.attr("class",i.join("_"))}}},replaceSwitchClass:function(t,e,n){if(e){var r=e.attr("class");if(void 0!=r){var i=r.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:i[0]=view.makeNodeLineClassEx(t)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:i[1]=n}e.attr("class",i.join("_")),n!==consts.folder.DOCU?e.removeAttr("disabled"):e.attr("disabled","disabled")}}},selectNode:function(t,e,n){n||view.cancelPreSelectedNode(t),$$(e,consts.id.A,t).addClass(consts.node.CURSELECTED),data.addSelectedNode(t,e)},setNodeFontCss:function(t,e){var n=$$(e,consts.id.A,t),r=view.makeNodeFontCss(t,e);r&&n.css(r)},setNodeLineIcos:function(t,e){if(e){var n=$$(e,consts.id.SWITCH,t),r=$$(e,consts.id.UL,t),i=$$(e,consts.id.ICON,t),o=view.makeUlLineClass(t,e);0==o.length?r.removeClass(consts.line.LINE):r.addClass(o),n.attr("class",view.makeNodeLineClass(t,e)),e.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),i.removeAttr("style"),i.attr("style",view.makeNodeIcoStyle(t,e)),i.attr("class",view.makeNodeIcoClass(t,e))}},setNodeName:function(t,e){var n=data.getNodeTitle(t,e),r=$$(e,consts.id.SPAN,t);r.empty(),t.view.nameIsHTML?r.html(data.getNodeName(t,e)):r.text(data.getNodeName(t,e)),tools.apply(t.view.showTitle,[t.treeId,e],t.view.showTitle)&&$$(e,consts.id.A,t).attr("title",n||"")},setNodeTarget:function(t,e){$$(e,consts.id.A,t).attr("target",view.makeNodeTarget(e))},setNodeUrl:function(t,e){var n=$$(e,consts.id.A,t),r=view.makeNodeUrl(t,e);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(t,e){if(e.open||!tools.canAsync(t,e))view.expandCollapseNode(t,e,!e.open);else if(t.async.enable){if(!view.asyncNode(t,e))return void view.expandCollapseNode(t,e,!e.open)}else e&&view.expandCollapseNode(t,e,!e.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(t){var e=data.getZTreeTools(t);return e||null},destroy:function(t){if(t&&t.length>0)view.destroy(data.getSetting(t));else for(var e in settings)view.destroy(settings[e])},init:function(t,e,n){var r=tools.clone(_setting);$.extend(!0,r,e),r.treeId=t.attr("id"),r.treeObj=t,r.treeObj.empty(),settings[r.treeId]=r,void 0===document.body.style.maxHeight&&(r.view.expandSpeed=""),data.initRoot(r);var i=data.getRoot(r),o=r.data.key.children;n=n?tools.clone(tools.isArray(n)?n:[n]):[],r.data.simpleData.enable?i[o]=data.transformTozTreeFormat(r,n):i[o]=n,data.initCache(r),event.unbindTree(r),event.bindTree(r),event.unbindEvent(r),event.bindEvent(r);var a={setting:r,addNodes:function(t,e,n){function i(){view.addNodes(r,t,o,1==n)}if(!e)return null;if(t||(t=null),t&&!t.isParent&&r.data.keep.leaf)return null;var o=tools.clone(tools.isArray(e)?e:[e]);return tools.canAsync(r,t)?view.asyncNode(r,t,n,i):i(),o},cancelSelectedNode:function(t){view.cancelPreSelectedNode(r,t)},destroy:function(){view.destroy(r)},expandAll:function(t){return t=!!t,view.expandCollapseSonNode(r,null,t,!0),t},expandNode:function(t,e,n,i,o){if(!t||!t.isParent)return null;if(!0!==e&&!1!==e&&(e=!t.open),(o=!!o)&&e&&0==tools.apply(r.callback.beforeExpand,[r.treeId,t],!0))return null;if(o&&!e&&0==tools.apply(r.callback.beforeCollapse,[r.treeId,t],!0))return null;if(e&&t.parentTId&&view.expandCollapseParentNode(r,t.getParentNode(),e,!1),e===t.open&&!n)return null;if(data.getRoot(r).expandTriggerFlag=o,!tools.canAsync(r,t)&&n)view.expandCollapseSonNode(r,t,e,!0,function(){if(!1!==i)try{$$(t,r).focus().blur()}catch(t){}});else if(t.open=!e,view.switchNode(this.setting,t),!1!==i)try{$$(t,r).focus().blur()}catch(t){}return e},getNodes:function(){return data.getNodes(r)},getNodeByParam:function(t,e,n){return t?data.getNodeByParam(r,n?n[r.data.key.children]:data.getNodes(r),t,e):null},getNodeByTId:function(t){return data.getNodeCache(r,t)},getNodesByParam:function(t,e,n){return t?data.getNodesByParam(r,n?n[r.data.key.children]:data.getNodes(r),t,e):null},getNodesByParamFuzzy:function(t,e,n){return t?data.getNodesByParamFuzzy(r,n?n[r.data.key.children]:data.getNodes(r),t,e):null},getNodesByFilter:function(t,e,n,i){return e=!!e,t&&"function"==typeof t?data.getNodesByFilter(r,n?n[r.data.key.children]:data.getNodes(r),t,e,i):e?null:[]},getNodeIndex:function(t){if(!t)return null;for(var e=r.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(r),i=0,o=n[e].length;i<o;i++)if(n[e][i]==t)return i;return-1},getSelectedNodes:function(){for(var t=[],e=data.getRoot(r).curSelectedList,n=0,i=e.length;n<i;n++)t.push(e[n]);return t},isSelectedNode:function(t){return data.isSelectedNode(r,t)},reAsyncChildNodes:function(t,e,n){if(this.setting.async.enable){var i=!t;if(i&&(t=data.getRoot(r)),"refresh"==e){for(var o=this.setting.data.key.children,a=0,s=t[o]?t[o].length:0;a<s;a++)data.removeNodeCache(r,t[o][a]);data.removeSelectedNode(r),t[o]=[],i?this.setting.treeObj.empty():$$(t,consts.id.UL,r).empty()}view.asyncNode(this.setting,i?null:t,!!n)}},refresh:function(){this.setting.treeObj.empty();var t=data.getRoot(r),e=t[r.data.key.children];data.initRoot(r),t[r.data.key.children]=e,data.initCache(r),view.createNodes(r,0,t[r.data.key.children])},removeChildNodes:function(t){if(!t)return null;var e=t[r.data.key.children];return view.removeChildNodes(r,t),e||null},removeNode:function(t,e){t&&((e=!!e)&&0==tools.apply(r.callback.beforeRemove,[r.treeId,t],!0)||(view.removeNode(r,t),e&&this.setting.treeObj.trigger(consts.event.REMOVE,[r.treeId,t])))},selectNode:function(t,e){if(t&&tools.uCanDo(r)){if(e=r.view.selectedMulti&&e,t.parentTId)view.expandCollapseParentNode(r,t.getParentNode(),!0,!1,function(){try{$$(t,r).focus().blur()}catch(t){}});else try{$$(t,r).focus().blur()}catch(t){}view.selectNode(r,t,e)}},transformTozTreeNodes:function(t){return data.transformTozTreeFormat(r,t)},transformToArray:function(t){return data.transformToArrayFormat(r,t)},updateNode:function(t,e){t&&$$(t,r).get(0)&&tools.uCanDo(r)&&(view.setNodeName(r,t),view.setNodeTarget(r,t),view.setNodeUrl(r,t),view.setNodeLineIcos(r,t),view.setNodeFontCss(r,t))}};return i.treeTools=a,data.setZTreeTools(r,a),i[o]&&i[o].length>0?view.createNodes(r,0,i[o]):r.async.enable&&r.async.url&&""!==r.async.url&&view.asyncNode(r),a}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}($$),function(t){var e={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:e.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:e.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},r={onCheckNode:function(t,e){if(!0===e.chkDisabled)return!1;var n=l.getSetting(t.data.treeId),r=n.data.key.checked;if(0==a.apply(n.callback.beforeCheck,[n.treeId,e],!0))return!0;e[r]=!e[r],u.checkNodeRelation(n,e);var i=c(e,s.id.CHECK,n);return u.setChkClass(n,i,e),u.repairParentChkClassWithSelf(n,e),n.treeObj.trigger(s.event.CHECK,[t,n.treeId,e]),!0},onMouseoverCheck:function(t,e){if(!0===e.chkDisabled)return!1;var n=l.getSetting(t.data.treeId),r=c(e,s.id.CHECK,n);return e.check_Focus=!0,u.setChkClass(n,r,e),!0},onMouseoutCheck:function(t,e){if(!0===e.chkDisabled)return!1;var n=l.getSetting(t.data.treeId),r=c(e,s.id.CHECK,n);return e.check_Focus=!1,u.setChkClass(n,r,e),!0}},i={tools:{},view:{checkNodeRelation:function(t,e){var n,r,i,o=t.data.key.children,a=t.data.key.checked,h=s.radio;if(t.check.chkStyle==h.STYLE){var d=l.getRadioCheckedList(t);if(e[a])if(t.check.radioType==h.TYPE_ALL){for(r=d.length-1;r>=0;r--)(n=d[r])[a]&&n!=e&&(n[a]=!1,d.splice(r,1),u.setChkClass(t,c(n,s.id.CHECK,t),n),n.parentTId!=e.parentTId&&u.repairParentChkClassWithSelf(t,n));d.push(e)}else{var f=e.parentTId?e.getParentNode():l.getRoot(t);for(r=0,i=f[o].length;r<i;r++)(n=f[o][r])[a]&&n!=e&&(n[a]=!1,u.setChkClass(t,c(n,s.id.CHECK,t),n))}else if(t.check.radioType==h.TYPE_ALL)for(r=0,i=d.length;r<i;r++)if(e==d[r]){d.splice(r,1);break}}else e[a]&&(!e[o]||0==e[o].length||t.check.chkboxType.Y.indexOf("s")>-1)&&u.setSonNodeCheckBox(t,e,!0),e[a]||e[o]&&0!=e[o].length&&!(t.check.chkboxType.N.indexOf("s")>-1)||u.setSonNodeCheckBox(t,e,!1),e[a]&&t.check.chkboxType.Y.indexOf("p")>-1&&u.setParentNodeCheckBox(t,e,!0),!e[a]&&t.check.chkboxType.N.indexOf("p")>-1&&u.setParentNodeCheckBox(t,e,!1)},makeChkClass:function(t,e){var n=t.data.key.checked,r=s.checkbox,i=s.radio,o="";o=!0===e.chkDisabled?r.DISABLED:e.halfCheck?r.PART:t.check.chkStyle==i.STYLE?e.check_Child_State<1?r.FULL:r.PART:e[n]?2===e.check_Child_State||-1===e.check_Child_State?r.FULL:r.PART:e.check_Child_State<1?r.FULL:r.PART;var a=t.check.chkStyle+"_"+(e[n]?r.TRUE:r.FALSE)+"_"+o;return a=e.check_Focus&&!0!==e.chkDisabled?a+"_"+r.FOCUS:a,s.className.BUTTON+" "+r.DEFAULT+" "+a},repairAllChk:function(t,e){if(t.check.enable&&t.check.chkStyle===s.checkbox.STYLE)for(var n=t.data.key.checked,r=t.data.key.children,i=l.getRoot(t),o=0,a=i[r].length;o<a;o++){var c=i[r][o];!0!==c.nocheck&&!0!==c.chkDisabled&&(c[n]=e),u.setSonNodeCheckBox(t,c,e)}},repairChkClass:function(t,e){if(e&&(l.makeChkFlag(t,e),!0!==e.nocheck)){var n=c(e,s.id.CHECK,t);u.setChkClass(t,n,e)}},repairParentChkClass:function(t,e){if(e&&e.parentTId){var n=e.getParentNode();u.repairChkClass(t,n),u.repairParentChkClass(t,n)}},repairParentChkClassWithSelf:function(t,e){if(e){var n=t.data.key.children;e[n]&&e[n].length>0?u.repairParentChkClass(t,e[n][0]):u.repairParentChkClass(t,e)}},repairSonChkDisabled:function(t,e,n,r){if(e){var i=t.data.key.children;if(e.chkDisabled!=n&&(e.chkDisabled=n),u.repairChkClass(t,e),e[i]&&r)for(var o=0,a=e[i].length;o<a;o++){var s=e[i][o];u.repairSonChkDisabled(t,s,n,r)}}},repairParentChkDisabled:function(t,e,n,r){e&&(e.chkDisabled!=n&&r&&(e.chkDisabled=n),u.repairChkClass(t,e),u.repairParentChkDisabled(t,e.getParentNode(),n,r))},setChkClass:function(t,e,n){e&&(!0===n.nocheck?e.hide():e.show(),e.attr("class",u.makeChkClass(t,n)))},setParentNodeCheckBox:function(t,e,n,r){var i=t.data.key.children,o=t.data.key.checked,a=c(e,s.id.CHECK,t);if(r||(r=e),l.makeChkFlag(t,e),!0!==e.nocheck&&!0!==e.chkDisabled&&(e[o]=n,u.setChkClass(t,a,e),t.check.autoCheckTrigger&&e!=r&&t.treeObj.trigger(s.event.CHECK,[null,t.treeId,e])),e.parentTId){var h=!0;if(!n)for(var d=e.getParentNode()[i],f=0,p=d.length;f<p;f++)if(!0!==d[f].nocheck&&!0!==d[f].chkDisabled&&d[f][o]||(!0===d[f].nocheck||!0===d[f].chkDisabled)&&d[f].check_Child_State>0){h=!1;break}h&&u.setParentNodeCheckBox(t,e.getParentNode(),n,r)}},setSonNodeCheckBox:function(t,e,n,r){if(e){var i=t.data.key.children,o=t.data.key.checked,a=c(e,s.id.CHECK,t);r||(r=e);var h=!1;if(e[i])for(var d=0,f=e[i].length;d<f&&!0!==e.chkDisabled;d++){var p=e[i][d];u.setSonNodeCheckBox(t,p,n,r),!0===p.chkDisabled&&(h=!0)}e!=l.getRoot(t)&&!0!==e.chkDisabled&&(h&&!0!==e.nocheck&&l.makeChkFlag(t,e),!0!==e.nocheck&&!0!==e.chkDisabled?(e[o]=n,h||(e.check_Child_State=e[i]&&e[i].length>0?n?2:0:-1)):e.check_Child_State=-1,u.setChkClass(t,a,e),t.check.autoCheckTrigger&&e!=r&&!0!==e.nocheck&&!0!==e.chkDisabled&&t.treeObj.trigger(s.event.CHECK,[null,t.treeId,e]))}}},event:{},data:{getRadioCheckedList:function(t){for(var e=l.getRoot(t).radioCheckedList,n=0,r=e.length;n<r;n++)l.getNodeCache(t,e[n].tId)||(e.splice(n,1),n--,r--);return e},getCheckStatus:function(t,e){if(!t.check.enable||e.nocheck||e.chkDisabled)return null;var n=t.data.key.checked;return{checked:e[n],half:e.halfCheck?e.halfCheck:t.check.chkStyle==s.radio.STYLE?2===e.check_Child_State:e[n]?e.check_Child_State>-1&&e.check_Child_State<2:e.check_Child_State>0}},getTreeCheckedNodes:function(t,e,n,r){if(!e)return[];var i=t.data.key.children,o=t.data.key.checked,a=n&&t.check.chkStyle==s.radio.STYLE&&t.check.radioType==s.radio.TYPE_ALL;r=r||[];for(var u=0,c=e.length;u<c&&(!0===e[u].nocheck||!0===e[u].chkDisabled||e[u][o]!=n||(r.push(e[u]),!a))&&(l.getTreeCheckedNodes(t,e[u][i],n,r),!(a&&r.length>0));u++);return r},getTreeChangeCheckedNodes:function(t,e,n){if(!e)return[];var r=t.data.key.children,i=t.data.key.checked;n=n||[];for(var o=0,a=e.length;o<a;o++)!0!==e[o].nocheck&&!0!==e[o].chkDisabled&&e[o][i]!=e[o].checkedOld&&n.push(e[o]),l.getTreeChangeCheckedNodes(t,e[o][r],n);return n},makeChkFlag:function(t,e){if(e){var n=t.data.key.children,r=t.data.key.checked,i=-1;if(e[n])for(var o=0,a=e[n].length;o<a;o++){var u=e[n][o],l=-1;if(t.check.chkStyle==s.radio.STYLE){if(2==(l=!0===u.nocheck||!0===u.chkDisabled?u.check_Child_State:!0===u.halfCheck?2:u[r]?2:u.check_Child_State>0?2:0)){i=2;break}0==l&&(i=0)}else if(t.check.chkStyle==s.checkbox.STYLE){if(1===(l=!0===u.nocheck||!0===u.chkDisabled?u.check_Child_State:!0===u.halfCheck?1:u[r]?-1===u.check_Child_State||2===u.check_Child_State?2:1:u.check_Child_State>0?1:0)){i=1;break}if(2===l&&i>-1&&o>0&&l!==i){i=1;break}if(2===i&&l>-1&&l<2){i=1;break}l>-1&&(i=l)}}e.check_Child_State=i}}}};t.extend(!0,t.fn.zTree.consts,e),t.extend(!0,t.fn.zTree._z,i);var o=t.fn.zTree,a=o._z.tools,s=o.consts,u=o._z.view,l=o._z.data,c=(o._z.event,a.$);l.exSetting(n),l.addInitBind(function(t){var e=t.treeObj,n=s.event;e.bind(n.CHECK,function(e,n,r,i){e.srcEvent=n,a.apply(t.callback.onCheck,[e,r,i])})}),l.addInitUnBind(function(t){var e=t.treeObj,n=s.event;e.unbind(n.CHECK)}),l.addInitCache(function(t){}),l.addInitNode(function(t,e,n,r,i,o,u){if(n){var c=t.data.key.checked;"string"==typeof n[c]&&(n[c]=a.eqs(n[c],"true")),n[c]=!!n[c],n.checkedOld=n[c],"string"==typeof n.nocheck&&(n.nocheck=a.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||t.check.nocheckInherit&&r&&!!r.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=a.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||t.check.chkDisabledInherit&&r&&!!r.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=a.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return l.getCheckStatus(t,n)},t.check.chkStyle==s.radio.STYLE&&t.check.radioType==s.radio.TYPE_ALL&&n[c]&&l.getRoot(t).radioCheckedList.push(n)}}),l.addInitProxy(function(t){var e=t.target,n=l.getSetting(t.data.treeId),i="",o=null,u="",c=null;if(a.eqs(t.type,"mouseover")?n.check.enable&&a.eqs(e.tagName,"span")&&null!==e.getAttribute("treeNode"+s.id.CHECK)&&(i=a.getNodeMainDom(e).id,u="mouseoverCheck"):a.eqs(t.type,"mouseout")?n.check.enable&&a.eqs(e.tagName,"span")&&null!==e.getAttribute("treeNode"+s.id.CHECK)&&(i=a.getNodeMainDom(e).id,u="mouseoutCheck"):a.eqs(t.type,"click")&&n.check.enable&&a.eqs(e.tagName,"span")&&null!==e.getAttribute("treeNode"+s.id.CHECK)&&(i=a.getNodeMainDom(e).id,u="checkNode"),i.length>0)switch(o=l.getNodeCache(n,i),u){case"checkNode":c=r.onCheckNode;break;case"mouseoverCheck":c=r.onMouseoverCheck;break;case"mouseoutCheck":c=r.onMouseoutCheck}return{stop:"checkNode"===u,node:o,nodeEventType:u,nodeEventCallback:c,treeEventType:"",treeEventCallback:null}},!0),l.addInitRoot(function(t){l.getRoot(t).radioCheckedList=[]}),l.addBeforeA(function(t,e,n){t.data.key.checked;t.check.enable&&(l.makeChkFlag(t,e),n.push("<span ID='",e.tId,s.id.CHECK,"' class='",u.makeChkClass(t,e),"' treeNode",s.id.CHECK,!0===e.nocheck?" style='display:none;'":"","></span>"))}),l.addZTreeTools(function(t,e){e.checkNode=function(t,e,n,r){var i=this.setting.data.key.checked;if(!0!==t.chkDisabled&&(!0!==e&&!1!==e&&(e=!t[i]),r=!!r,(t[i]!==e||n)&&(!r||0!=a.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&a.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){t[i]=e;var o=c(t,s.id.CHECK,this.setting);(n||this.setting.check.chkStyle===s.radio.STYLE)&&u.checkNodeRelation(this.setting,t),u.setChkClass(this.setting,o,t),u.repairParentChkClassWithSelf(this.setting,t),r&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,t])}},e.checkAllNodes=function(t){u.repairAllChk(this.setting,!!t)},e.getCheckedNodes=function(t){var e=this.setting.data.key.children;return t=!1!==t,l.getTreeCheckedNodes(this.setting,l.getRoot(this.setting)[e],t)},e.getChangeCheckedNodes=function(){var t=this.setting.data.key.children;return l.getTreeChangeCheckedNodes(this.setting,l.getRoot(this.setting)[t])},e.setChkDisabled=function(t,e,n,r){e=!!e,n=!!n,r=!!r,u.repairSonChkDisabled(this.setting,t,e,r),u.repairParentChkDisabled(this.setting,t.getParentNode(),e,n)};var n=e.updateNode;e.updateNode=function(t,r){if(n&&n.apply(e,arguments),t&&this.setting.check.enable&&c(t,this.setting).get(0)&&a.uCanDo(this.setting)){var i=c(t,s.id.CHECK,this.setting);1!=r&&this.setting.check.chkStyle!==s.radio.STYLE||u.checkNodeRelation(this.setting,t),u.setChkClass(this.setting,i,t),u.repairParentChkClassWithSelf(this.setting,t)}}});var h=u.createNodes;u.createNodes=function(t,e,n,r){h&&h.apply(u,arguments),n&&u.repairParentChkClassWithSelf(t,r)};var d=u.removeNode;u.removeNode=function(t,e){var n=e.getParentNode();d&&d.apply(u,arguments),e&&n&&(u.repairChkClass(t,n),u.repairParentChkClass(t,n))};var f=u.appendNodes;u.appendNodes=function(t,e,n,r,i,o){var a="";return f&&(a=f.apply(u,arguments)),r&&l.makeChkFlag(t,r),a}}($$),function(t){var e={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r={onHoverOverNode:function(t,e){var n=l.getSetting(t.data.treeId),i=l.getRoot(n);i.curHoverNode!=e&&r.onHoverOutNode(t),i.curHoverNode=e,u.addHoverDom(n,e)},onHoverOutNode:function(t,e){var n=l.getSetting(t.data.treeId),r=l.getRoot(n);r.curHoverNode&&!l.isSelectedNode(n,r.curHoverNode)&&(u.removeTreeDom(n,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(n,r){function i(n){if(0==A.dragFlag&&Math.abs(Q-n.clientX)<p.edit.drag.minMoveSize&&Math.abs(L-n.clientY)<p.edit.drag.minMoveSize)return!0;var r,i,h,d,f,v=p.data.key.children;if(B.css("cursor","pointer"),0==A.dragFlag){if(0==a.apply(p.callback.beforeDrag,[p.treeId,y],!0))return o(n),!0;for(r=0,i=y.length;r<i;r++)0==r&&(A.dragNodeShowBefore=[]),(h=y[r]).isParent&&h.open?(u.expandCollapseNode(p,h,!h.open),A.dragNodeShowBefore[h.tId]=!0):A.dragNodeShowBefore[h.tId]=!1;A.dragFlag=1,g.showHoverDom=!1,a.showIfameMask(p,!0);var m=!0,I=-1;if(y.length>1){var k=y[0].parentTId?y[0].getParentNode()[v]:l.getNodes(p);for(f=[],r=0,i=k.length;r<i;r++)if(void 0!==A.dragNodeShowBefore[k[r].tId]&&(m&&I>-1&&I+1!==r&&(m=!1),f.push(k[r]),I=r),y.length===f.length){y=f;break}}for(m&&(x=y[0].getPreNode(),C=y[y.length-1].getNextNode()),b=c("<ul class='zTreeDragUL'></ul>",p),r=0,i=y.length;r<i;r++)(h=y[r]).editNameFlag=!1,u.selectNode(p,h,r>0),u.removeTreeDom(p,h),r>p.edit.drag.maxShowNodeNum-1||((d=c("<li id='"+h.tId+"_tmp'></li>",p)).append(c(h,s.id.A,p).clone()),d.css("padding","0"),d.children("#"+h.tId+s.id.A).removeClass(s.node.CURSELECTED),b.append(d),r==p.edit.drag.maxShowNodeNum-1&&(d=c("<li id='"+h.tId+"_moretmp'><a>  ...  </a></li>",p),b.append(d)));b.attr("id",y[0].tId+s.id.UL+"_tmp"),b.addClass(p.treeObj.attr("class")),b.appendTo(B),(_=c("<span class='tmpzTreeMove_arrow'></span>",p)).attr("id","zTreeMove_arrow_tmp"),_.appendTo(B),p.treeObj.trigger(s.event.DRAG,[n,p.treeId,y])}if(1==A.dragFlag){if(w&&_.attr("id")==n.target.id&&M&&n.clientX+E.scrollLeft()+2>t("#"+M+s.id.A,w).offset().left){var O=t("#"+M+s.id.A,w);n.target=O.length>0?O.get(0):n.target}else w&&(w.removeClass(s.node.TMPTARGET_TREE),M&&t("#"+M+s.id.A,w).removeClass(s.node.TMPTARGET_NODE+"_"+s.move.TYPE_PREV).removeClass(s.node.TMPTARGET_NODE+"_"+e.move.TYPE_NEXT).removeClass(s.node.TMPTARGET_NODE+"_"+e.move.TYPE_INNER));w=null,M=null,N=!1,T=p;var P=l.getSettings();for(var D in P)P[D].treeId&&P[D].edit.enable&&P[D].treeId!=p.treeId&&(n.target.id==P[D].treeId||t(n.target).parents("#"+P[D].treeId).length>0)&&(N=!0,T=P[D]);var H=E.scrollTop(),z=E.scrollLeft(),K=T.treeObj.offset(),$=T.treeObj.get(0).scrollHeight,V=T.treeObj.get(0).scrollWidth,j=n.clientY+H-K.top,G=T.treeObj.height()+K.top-n.clientY-H,q=n.clientX+z-K.left,X=T.treeObj.width()+K.left-n.clientX-z,W=j<p.edit.drag.borderMax&&j>p.edit.drag.borderMin,Y=G<p.edit.drag.borderMax&&G>p.edit.drag.borderMin,J=q<p.edit.drag.borderMax&&q>p.edit.drag.borderMin,Z=X<p.edit.drag.borderMax&&X>p.edit.drag.borderMin,tt=j>p.edit.drag.borderMin&&G>p.edit.drag.borderMin&&q>p.edit.drag.borderMin&&X>p.edit.drag.borderMin,et=W&&T.treeObj.scrollTop()<=0,nt=Y&&T.treeObj.scrollTop()+T.treeObj.height()+10>=$,rt=J&&T.treeObj.scrollLeft()<=0,it=Z&&T.treeObj.scrollLeft()+T.treeObj.width()+10>=V;if(n.target&&a.isChildOrSelf(n.target,T.treeId)){for(var ot=n.target;ot&&ot.tagName&&!a.eqs(ot.tagName,"li")&&ot.id!=T.treeId;)ot=ot.parentNode;var at=!0;for(r=0,i=y.length;r<i;r++){if(h=y[r],ot.id===h.tId){at=!1;break}if(c(h,p).find("#"+ot.id).length>0){at=!1;break}}at&&n.target&&a.isChildOrSelf(n.target,ot.id+s.id.A)&&(w=t(ot),M=ot.id)}h=y[0],tt&&a.isChildOrSelf(n.target,T.treeId)&&(!w&&(n.target.id==T.treeId||et||nt||rt||it)&&(N||!N&&h.parentTId)&&(w=T.treeObj),W?T.treeObj.scrollTop(T.treeObj.scrollTop()-10):Y&&T.treeObj.scrollTop(T.treeObj.scrollTop()+10),J?T.treeObj.scrollLeft(T.treeObj.scrollLeft()-10):Z&&T.treeObj.scrollLeft(T.treeObj.scrollLeft()+10),w&&w!=T.treeObj&&w.offset().left<T.treeObj.offset().left&&T.treeObj.scrollLeft(T.treeObj.scrollLeft()+w.offset().left-T.treeObj.offset().left)),b.css({top:n.clientY+H+3+"px",left:n.clientX+z+3+"px"});var st=0,ut=0;if(w&&w.attr("id")!=T.treeId){var lt=null==M?null:l.getNodeCache(T,M),ct=(n.ctrlKey||n.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy,ht=!(!x||M!==x.tId),dt=!(!C||M!==C.tId),ft=h.parentTId&&h.parentTId==M,pt=(ct||!dt)&&a.apply(T.edit.drag.prev,[T.treeId,y,lt],!!T.edit.drag.prev),At=(ct||!ht)&&a.apply(T.edit.drag.next,[T.treeId,y,lt],!!T.edit.drag.next),gt=(ct||!ft)&&!(T.data.keep.leaf&&!lt.isParent)&&a.apply(T.edit.drag.inner,[T.treeId,y,lt],!!T.edit.drag.inner);if(pt||At||gt){var vt=t("#"+M+s.id.A,w),mt=lt.isLastNode?null:t("#"+lt.getNextNode().tId+s.id.A,w.next()),yt=vt.offset().top,bt=vt.offset().left,_t=pt?gt?.25:At?.5:1:-1,wt=At?gt?.75:pt?.5:0:-1,xt=(n.clientY+H-yt)/vt.height();if((1==_t||xt<=_t&&xt>=-.2)&&pt?(st=1-_.width(),ut=yt-_.height()/2,U=s.move.TYPE_PREV):(0==wt||xt>=wt&&xt<=1.2)&&At?(st=1-_.width(),ut=null==mt||lt.isParent&&lt.open?yt+vt.height()-_.height()/2:mt.offset().top-_.height()/2,U=s.move.TYPE_NEXT):(st=5-_.width(),ut=yt,U=s.move.TYPE_INNER),_.css({display:"block",top:ut+"px",left:bt+st+"px"}),vt.addClass(s.node.TMPTARGET_NODE+"_"+U),F==M&&S==U||(R=(new Date).getTime()),lt&&lt.isParent&&U==s.move.TYPE_INNER){var Ct=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==lt.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===lt.tId&&(Ct=!1),Ct&&(window.zTreeMoveTimer=setTimeout(function(){U==s.move.TYPE_INNER&&lt&&lt.isParent&&!lt.open&&(new Date).getTime()-R>T.edit.drag.autoOpenTime&&a.apply(T.callback.beforeDragOpen,[T.treeId,lt],!0)&&(u.switchNode(T,lt),T.edit.drag.autoExpandTrigger&&T.treeObj.trigger(s.event.EXPAND,[T.treeId,lt]))},T.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=lt.tId)}}else w=null,M="",U=s.move.TYPE_INNER,_.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else U=s.move.TYPE_INNER,w&&a.apply(T.edit.drag.inner,[T.treeId,y,null],!!T.edit.drag.inner)?w.addClass(s.node.TMPTARGET_TREE):w=null,_.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);F=M,S=U,p.treeObj.trigger(s.event.DRAGMOVE,[n,p.treeId,y])}return!1}function o(n){function r(){if(N){if(!m)for(var t=0,e=y.length;t<e;t++)u.removeNode(p,y[t]);if(U==s.move.TYPE_INNER)u.addNodes(T,x,C);else if(u.addNodes(T,x.getParentNode(),C),U==s.move.TYPE_PREV)for(t=0,e=C.length;t<e;t++)u.moveNode(T,x,C[t],U,!1);else for(t=-1,e=C.length-1;t<e;e--)u.moveNode(T,x,C[e],U,!1)}else if(m&&U==s.move.TYPE_INNER)u.addNodes(T,x,C);else if(m&&u.addNodes(T,x.getParentNode(),C),U!=s.move.TYPE_NEXT)for(t=0,e=C.length;t<e;t++)u.moveNode(T,x,C[t],U,!1);else for(t=-1,e=C.length-1;t<e;e--)u.moveNode(T,x,C[e],U,!1);u.selectNodes(T,C),c(C[0],p).focus().blur(),p.treeObj.trigger(s.event.DROP,[n,T.treeId,C,x,U,m])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),F=null,S=null,E.unbind("mousemove",i),E.unbind("mouseup",o),E.unbind("selectstart",h),B.css("cursor","auto"),w&&(w.removeClass(s.node.TMPTARGET_TREE),M&&t("#"+M+s.id.A,w).removeClass(s.node.TMPTARGET_NODE+"_"+s.move.TYPE_PREV).removeClass(s.node.TMPTARGET_NODE+"_"+e.move.TYPE_NEXT).removeClass(s.node.TMPTARGET_NODE+"_"+e.move.TYPE_INNER)),a.showIfameMask(p,!1),g.showHoverDom=!0,0!=A.dragFlag){A.dragFlag=0;var d,f,v;for(d=0,f=y.length;d<f;d++)(v=y[d]).isParent&&A.dragNodeShowBefore[v.tId]&&!v.open&&(u.expandCollapseNode(p,v,!v.open),delete A.dragNodeShowBefore[v.tId]);b&&b.remove(),_&&_.remove();var m=(n.ctrlKey||n.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy;if(!m&&w&&M&&y[0].parentTId&&M==y[0].parentTId&&U==s.move.TYPE_INNER&&(w=null),w){var x=null==M?null:l.getNodeCache(T,M);if(0==a.apply(p.callback.beforeDrop,[T.treeId,y,x,U,m],!0))return void u.selectNodes(I,y);var C=m?a.clone(y):y;U==s.move.TYPE_INNER&&a.canAsync(T,x)?u.asyncNode(T,x,!1,r):r()}else u.selectNodes(I,y),p.treeObj.trigger(s.event.DROP,[n,p.treeId,y,null,null,null])}}function h(){return!1}var d,f,p=l.getSetting(n.data.treeId),A=l.getRoot(p),g=l.getRoots();if(2==n.button||!p.edit.enable||!p.edit.drag.isCopy&&!p.edit.drag.isMove)return!0;var v=n.target,m=l.getRoot(p).curSelectedList,y=[];if(l.isSelectedNode(p,r))for(d=0,f=m.length;d<f;d++){if(m[d].editNameFlag&&a.eqs(v.tagName,"input")&&null!==v.getAttribute("treeNode"+s.id.INPUT))return!0;if(y.push(m[d]),y[0].parentTId!==m[d].parentTId){y=[r];break}}else y=[r];u.editNodeBlur=!0,u.cancelCurEditNode(p);var b,_,w,x,C,E=t(p.treeObj.get(0).ownerDocument),B=t(p.treeObj.get(0).ownerDocument.body),N=!1,T=p,I=p,F=null,S=null,M=null,U=s.move.TYPE_INNER,Q=n.clientX,L=n.clientY,R=(new Date).getTime();return a.uCanDo(p)&&E.bind("mousemove",i),E.bind("mouseup",o),E.bind("selectstart",h),n.preventDefault&&n.preventDefault(),!0}},i={tools:{getAbs:function(t){var e=t.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[e.left+r,e.top+n]},inputFocus:function(t){t.get(0)&&(t.focus(),a.setCursorPosition(t.get(0),t.val().length))},inputSelect:function(t){t.get(0)&&(t.focus(),t.select())},setCursorPosition:function(t,e){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},showIfameMask:function(t,e){for(var n=l.getRoot(t);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(e)for(var r=c("iframe",t),i=0,o=r.length;i<o;i++){var s=r.get(i),u=a.getAbs(s),h=c("<div id='zTreeMask_"+i+"' class='zTreeMask' style='top:"+u[1]+"px; left:"+u[0]+"px; width:"+s.offsetWidth+"px; height:"+s.offsetHeight+"px;'></div>",t);h.appendTo(c("body",t)),n.dragMaskList.push(h)}}},view:{addEditBtn:function(t,e){if(!(e.editNameFlag||c(e,s.id.EDIT,t).length>0)&&a.apply(t.edit.showRenameBtn,[t.treeId,e],t.edit.showRenameBtn)){var n=c(e,s.id.A,t),r="<span class='"+s.className.BUTTON+" edit' id='"+e.tId+s.id.EDIT+"' title='"+a.apply(t.edit.renameTitle,[t.treeId,e],t.edit.renameTitle)+"' treeNode"+s.id.EDIT+" style='display:none;'></span>";n.append(r),c(e,s.id.EDIT,t).bind("click",function(){return!(!a.uCanDo(t)||0==a.apply(t.callback.beforeEditName,[t.treeId,e],!0))&&(u.editNode(t,e),!1)}).show()}},addRemoveBtn:function(t,e){if(!(e.editNameFlag||c(e,s.id.REMOVE,t).length>0)&&a.apply(t.edit.showRemoveBtn,[t.treeId,e],t.edit.showRemoveBtn)){var n=c(e,s.id.A,t),r="<span class='"+s.className.BUTTON+" remove' id='"+e.tId+s.id.REMOVE+"' title='"+a.apply(t.edit.removeTitle,[t.treeId,e],t.edit.removeTitle)+"' treeNode"+s.id.REMOVE+" style='display:none;'></span>";n.append(r),c(e,s.id.REMOVE,t).bind("click",function(){return!(!a.uCanDo(t)||0==a.apply(t.callback.beforeRemove,[t.treeId,e],!0))&&(u.removeNode(t,e),t.treeObj.trigger(s.event.REMOVE,[t.treeId,e]),!1)}).bind("mousedown",function(t){return!0}).show()}},addHoverDom:function(t,e){l.getRoots().showHoverDom&&(e.isHover=!0,t.edit.enable&&(u.addEditBtn(t,e),u.addRemoveBtn(t,e)),a.apply(t.view.addHoverDom,[t.treeId,e]))},cancelCurEditNode:function(t,e,n){var r=l.getRoot(t),i=t.data.key.name,o=r.curEditNode;if(o){var h=r.curEditInput,d=e||(n?o[i]:h.val());if(!1===a.apply(t.callback.beforeRename,[t.treeId,o,d,n],!0))return!1;o[i]=d,t.treeObj.trigger(s.event.RENAME,[t.treeId,o,n]),c(o,s.id.A,t).removeClass(s.node.CURSELECTED_EDIT),h.unbind(),u.setNodeName(t,o),o.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,u.selectNode(t,o,!1)}return r.noSelection=!0,!0},editNode:function(t,e){var n=l.getRoot(t);if(u.editNodeBlur=!1,l.isSelectedNode(t,e)&&n.curEditNode==e&&e.editNameFlag)setTimeout(function(){a.inputFocus(n.curEditInput)},0);else{var r=t.data.key.name;e.editNameFlag=!0,u.removeTreeDom(t,e),u.cancelCurEditNode(t),u.selectNode(t,e,!1),c(e,s.id.SPAN,t).html("<input type=text class='rename' id='"+e.tId+s.id.INPUT+"' treeNode"+s.id.INPUT+" >");var i=c(e,s.id.INPUT,t);i.attr("value",e[r]),t.edit.editNameSelectAll?a.inputSelect(i):a.inputFocus(i),i.bind("blur",function(e){u.editNodeBlur||u.cancelCurEditNode(t)}).bind("keydown",function(e){"13"==e.keyCode?(u.editNodeBlur=!0,u.cancelCurEditNode(t)):"27"==e.keyCode&&u.cancelCurEditNode(t,null,!0)}).bind("click",function(t){return!1}).bind("dblclick",function(t){return!1}),c(e,s.id.A,t).addClass(s.node.CURSELECTED_EDIT),n.curEditInput=i,n.noSelection=!1,n.curEditNode=e}},moveNode:function(t,e,n,r,i,o){var a=l.getRoot(t),h=t.data.key.children;if(e!=n&&(!t.data.keep.leaf||!e||e.isParent||r!=s.move.TYPE_INNER)){var d=n.parentTId?n.getParentNode():a,f=null===e||e==a;f&&null===e&&(e=a),f&&(r=s.move.TYPE_INNER);var p=e.parentTId?e.getParentNode():a;r!=s.move.TYPE_PREV&&r!=s.move.TYPE_NEXT&&(r=s.move.TYPE_INNER),r==s.move.TYPE_INNER&&(f?n.parentTId=null:(e.isParent||(e.isParent=!0,e.open=!!e.open,u.setNodeLineIcos(t,e)),n.parentTId=e.tId));var A,g;if(f)g=A=t.treeObj;else{if(o||r!=s.move.TYPE_INNER?o||u.expandCollapseNode(t,e.getParentNode(),!0,!1):u.expandCollapseNode(t,e,!0,!1),A=c(e,t),g=c(e,s.id.UL,t),A.get(0)&&!g.get(0)){var v=[];u.makeUlHtml(t,e,v,""),A.append(v.join(""))}g=c(e,s.id.UL,t)}var m=c(n,t);m.get(0)?A.get(0)||m.remove():m=u.appendNodes(t,n.level,[n],null,!1,!0).join(""),g.get(0)&&r==s.move.TYPE_INNER?g.append(m):A.get(0)&&r==s.move.TYPE_PREV?A.before(m):A.get(0)&&r==s.move.TYPE_NEXT&&A.after(m);var y,b,_=-1,w=0,x=null,C=null,E=n.level;if(n.isFirstNode)_=0,d[h].length>1&&((x=d[h][1]).isFirstNode=!0);else if(n.isLastNode)_=d[h].length-1,(x=d[h][_-1]).isLastNode=!0;else for(y=0,b=d[h].length;y<b;y++)if(d[h][y].tId==n.tId){_=y;break}if(_>=0&&d[h].splice(_,1),r!=s.move.TYPE_INNER)for(y=0,b=p[h].length;y<b;y++)p[h][y].tId==e.tId&&(w=y);if(r==s.move.TYPE_INNER?(e[h]||(e[h]=new Array),e[h].length>0&&((C=e[h][e[h].length-1]).isLastNode=!1),e[h].splice(e[h].length,0,n),n.isLastNode=!0,n.isFirstNode=1==e[h].length):e.isFirstNode&&r==s.move.TYPE_PREV?(p[h].splice(w,0,n),(C=e).isFirstNode=!1,n.parentTId=e.parentTId,n.isFirstNode=!0,n.isLastNode=!1):e.isLastNode&&r==s.move.TYPE_NEXT?(p[h].splice(w+1,0,n),(C=e).isLastNode=!1,n.parentTId=e.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==s.move.TYPE_PREV?p[h].splice(w,0,n):p[h].splice(w+1,0,n),n.parentTId=e.parentTId,n.isFirstNode=!1,n.isLastNode=!1),l.fixPIdKeyValue(t,n),l.setSonNodeLevel(t,n.getParentNode(),n),u.setNodeLineIcos(t,n),u.repairNodeLevelClass(t,n,E),!t.data.keep.parent&&d[h].length<1){d.isParent=!1,d.open=!1;var B=c(d,s.id.UL,t),N=c(d,s.id.SWITCH,t),T=c(d,s.id.ICON,t);u.replaceSwitchClass(d,N,s.folder.DOCU),u.replaceIcoClass(d,T,s.folder.DOCU),B.css("display","none")}else x&&u.setNodeLineIcos(t,x);C&&u.setNodeLineIcos(t,C),t.check&&t.check.enable&&u.repairChkClass&&(u.repairChkClass(t,d),u.repairParentChkClassWithSelf(t,d),d!=n.parent&&u.repairParentChkClassWithSelf(t,n)),o||u.expandCollapseParentNode(t,n.getParentNode(),!0,i)}},removeEditBtn:function(t,e){c(e,s.id.EDIT,t).unbind().remove()},removeRemoveBtn:function(t,e){c(e,s.id.REMOVE,t).unbind().remove()},removeTreeDom:function(t,e){e.isHover=!1,u.removeEditBtn(t,e),u.removeRemoveBtn(t,e),a.apply(t.view.removeHoverDom,[t.treeId,e])},repairNodeLevelClass:function(t,e,n){if(n!==e.level){var r=c(e,t),i=c(e,s.id.A,t),o=c(e,s.id.UL,t),a=s.className.LEVEL+n,u=s.className.LEVEL+e.level;r.removeClass(a),r.addClass(u),i.removeClass(a),i.addClass(u),o.removeClass(a),o.addClass(u)}},selectNodes:function(t,e){for(var n=0,r=e.length;n<r;n++)u.selectNode(t,e[n],n>0)}},event:{},data:{setSonNodeLevel:function(t,e,n){if(n){var r=t.data.key.children;if(n.level=e?e.level+1:0,n[r])for(var i=0,o=n[r].length;i<o;i++)n[r][i]&&l.setSonNodeLevel(t,n,n[r][i])}}}};t.extend(!0,t.fn.zTree.consts,e),t.extend(!0,t.fn.zTree._z,i);var o=t.fn.zTree,a=o._z.tools,s=o.consts,u=o._z.view,l=o._z.data,c=(o._z.event,a.$);l.exSetting(n),l.addInitBind(function(t){var e=t.treeObj,n=s.event;e.bind(n.RENAME,function(e,n,r,i){a.apply(t.callback.onRename,[e,n,r,i])}),e.bind(n.DRAG,function(e,n,r,i){a.apply(t.callback.onDrag,[n,r,i])}),e.bind(n.DRAGMOVE,function(e,n,r,i){a.apply(t.callback.onDragMove,[n,r,i])}),e.bind(n.DROP,function(e,n,r,i,o,s,u){a.apply(t.callback.onDrop,[n,r,i,o,s,u])})}),l.addInitUnBind(function(t){var e=t.treeObj,n=s.event;e.unbind(n.RENAME),e.unbind(n.DRAG),e.unbind(n.DRAGMOVE),e.unbind(n.DROP)}),l.addInitCache(function(t){}),l.addInitNode(function(t,e,n,r,i,o,a){n&&(n.isHover=!1,n.editNameFlag=!1)}),l.addInitProxy(function(t){var e=t.target,n=l.getSetting(t.data.treeId),i=t.relatedTarget,o="",u=null,c="",h=null,d=null;if(a.eqs(t.type,"mouseover")?(d=a.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+s.id.A}]))&&(o=a.getNodeMainDom(d).id,c="hoverOverNode"):a.eqs(t.type,"mouseout")?(d=a.getMDom(n,i,[{tagName:"a",attrName:"treeNode"+s.id.A}]))||(o="remove",c="hoverOutNode"):a.eqs(t.type,"mousedown")&&(d=a.getMDom(n,e,[{tagName:"a",attrName:"treeNode"+s.id.A}]))&&(o=a.getNodeMainDom(d).id,c="mousedownNode"),o.length>0)switch(u=l.getNodeCache(n,o),c){case"mousedownNode":h=r.onMousedownNode;break;case"hoverOverNode":h=r.onHoverOverNode;break;case"hoverOutNode":h=r.onHoverOutNode}return{stop:!1,node:u,nodeEventType:c,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}}),l.addInitRoot(function(t){var e=l.getRoot(t),n=l.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=new Array,n.showHoverDom=!0}),l.addZTreeTools(function(t,e){e.cancelEditName=function(t){l.getRoot(this.setting).curEditNode&&u.cancelCurEditNode(this.setting,t||null,!0)},e.copyNode=function(t,e,n,r){function i(){u.addNodes(o.setting,t,[l],r)}if(!e)return null;if(t&&!t.isParent&&this.setting.data.keep.leaf&&n===s.move.TYPE_INNER)return null;var o=this,l=a.clone(e);return t||(t=null,n=s.move.TYPE_INNER),n==s.move.TYPE_INNER?a.canAsync(this.setting,t)?u.asyncNode(this.setting,t,r,i):i():(u.addNodes(this.setting,t.parentNode,[l],r),u.moveNode(this.setting,t,l,n,!1,r)),l},e.editName=function(t){t&&t.tId&&t===l.getNodeCache(this.setting,t.tId)&&(t.parentTId&&u.expandCollapseParentNode(this.setting,t.getParentNode(),!0),u.editNode(this.setting,t))},e.moveNode=function(t,e,n,r){function i(){u.moveNode(o.setting,t,e,n,!1,r)}if(!e)return e;if(t&&!t.isParent&&this.setting.data.keep.leaf&&n===s.move.TYPE_INNER)return null;if(t&&(e.parentTId==t.tId&&n==s.move.TYPE_INNER||c(e,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var o=this;return a.canAsync(this.setting,t)&&n===s.move.TYPE_INNER?u.asyncNode(this.setting,t,r,i):i(),e},e.setEditable=function(t){return this.setting.edit.enable=t,this.refresh()}});var h=u.cancelPreSelectedNode;u.cancelPreSelectedNode=function(t,e){for(var n=l.getRoot(t).curSelectedList,r=0,i=n.length;r<i&&(e&&e!==n[r]||(u.removeTreeDom(t,n[r]),!e));r++);h&&h.apply(u,arguments)};var d=u.createNodes;u.createNodes=function(t,e,n,r){d&&d.apply(u,arguments),n&&u.repairParentChkClassWithSelf&&u.repairParentChkClassWithSelf(t,r)};var f=u.makeNodeUrl;u.makeNodeUrl=function(t,e){return t.edit.enable?null:f.apply(u,arguments)};var p=u.removeNode;u.removeNode=function(t,e){var n=l.getRoot(t);n.curEditNode===e&&(n.curEditNode=null),p&&p.apply(u,arguments)};var A=u.selectNode;u.selectNode=function(t,e,n){var r=l.getRoot(t);return(!l.isSelectedNode(t,e)||r.curEditNode!=e||!e.editNameFlag)&&(A&&A.apply(u,arguments),u.addHoverDom(t,e),!0)};var g=a.uCanDo;a.uCanDo=function(t,e){var n=l.getRoot(t);return!(!e||!(a.eqs(e.type,"mouseover")||a.eqs(e.type,"mouseout")||a.eqs(e.type,"mousedown")||a.eqs(e.type,"mouseup")))||(n.curEditNode&&(u.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!g||g.apply(u,arguments)))}}($$),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,t.html2canvas=e())}(this,function(){"use strict";function t(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function e(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function n(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function r(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}function i(t){return t.type!==A.FUNCTION||Oe[t.name]}for(var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)},s=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),u=function(t){return s.fromClientRect(t.getBoundingClientRect())},l=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new s(0,0,r,i)},c=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<d.length;p++)f[d.charCodeAt(p)]=p;var A,g=function(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<s;e+=4)n=f[t.charCodeAt(e)],r=f[t.charCodeAt(e+1)],i=f[t.charCodeAt(e+2)],o=f[t.charCodeAt(e+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l},v=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},m=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},y=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},b=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},_=function(){function t(t,e,n,r,i,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>5],e=(e<<2)+(31&t),this.data[e];if(t<=65535)return e=this.index[2048+(t-55296>>5)],e=(e<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=this.index[e],e=(e<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),w="!",x=function(t){var e=g(t),n=Array.isArray(e)?m(e):new Uint32Array(e),r=Array.isArray(e)?v(e):new Uint16Array(e),i=y(r,12,n[4]/2),o=2===n[5]?y(r,(24+n[4])/2):b(n,Math.ceil((24+n[4])/4));return new _(n[0],n[1],n[2],n[3],i,o)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),C=[30,36],E=[1,2,3,5],B=[10,8],N=[27,26],T=E.concat(B),I=[38,39,40,34,35],F=[15,13],S=function(t,e){void 0===e&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(t,o){var a=x.get(t);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(30);var s=n[o-1];return-1===T.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(30))}return r.push(o),31===a?n.push("strict"===e?21:37):42===a?n.push(30):29===a?n.push(30):43===a?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(37):n.push(30):void n.push(a)}),[r,n,i]},M=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(o=n;o<=r.length;){if((u=r[++o])===e)return!0;if(10!==u)break}if(10===i)for(var o=n;o>0;){var a=r[--o];if(Array.isArray(t)?-1!==t.indexOf(a):t===a)for(var s=n;s<=r.length;){var u=r[++s];if(u===e)return!0;if(10!==u)break}if(10!==a)break}return!1},U=function(t,e){for(var n=t;n>=0;){var r=e[n];if(10!==r)return r;n--}return 0},Q=function(t,e,n,r,i){if(0===n[r])return"×";var o=r-1;if(Array.isArray(i)&&!0===i[o])return"×";var a=o-1,s=o+1,u=e[o],l=a>=0?e[a]:0,c=e[s];if(2===u&&3===c)return"×";if(-1!==E.indexOf(u))return w;if(-1!==E.indexOf(c))return"×";if(-1!==B.indexOf(c))return"×";if(8===U(o,e))return"÷";if(11===x.get(t[o])&&(37===c||32===c||33===c))return"×";if(7===u||7===c)return"×";if(9===u)return"×";if(-1===[10,13,15].indexOf(u)&&9===c)return"×";if(-1!==[17,18,19,24,28].indexOf(c))return"×";if(22===U(o,e))return"×";if(M(23,22,o,e))return"×";if(M([17,18],21,o,e))return"×";if(M(12,12,o,e))return"×";if(10===u)return"÷";if(23===u||23===c)return"×";if(16===c||16===u)return"÷";if(-1!==[13,15,21].indexOf(c)||14===u)return"×";if(36===l&&-1!==F.indexOf(u))return"×";if(28===u&&36===c)return"×";if(20===c&&-1!==C.concat(20,19,25,37,32,33).indexOf(u))return"×";if(-1!==C.indexOf(c)&&25===u||-1!==C.indexOf(u)&&25===c)return"×";if(27===u&&-1!==[37,32,33].indexOf(c)||-1!==[37,32,33].indexOf(u)&&26===c)return"×";if(-1!==C.indexOf(u)&&-1!==N.indexOf(c)||-1!==N.indexOf(u)&&-1!==C.indexOf(c))return"×";if(-1!==[27,26].indexOf(u)&&(25===c||-1!==[22,15].indexOf(c)&&25===e[s+1])||-1!==[22,15].indexOf(u)&&25===c||25===u&&-1!==[25,28,24].indexOf(c))return"×";if(-1!==[25,28,24,17,18].indexOf(c))for(h=o;h>=0;){if(25===(d=e[h]))return"×";if(-1===[28,24].indexOf(d))break;h--}if(-1!==[27,26].indexOf(c))for(var h=-1!==[17,18].indexOf(u)?a:o;h>=0;){var d=e[h];if(25===d)return"×";if(-1===[28,24].indexOf(d))break;h--}if(38===u&&-1!==[38,39,34,35].indexOf(c)||-1!==[39,34].indexOf(u)&&-1!==[39,40].indexOf(c)||-1!==[40,35].indexOf(u)&&40===c)return"×";if(-1!==I.indexOf(u)&&-1!==[20,26].indexOf(c)||-1!==I.indexOf(c)&&27===u)return"×";if(-1!==C.indexOf(u)&&-1!==C.indexOf(c))return"×";if(24===u&&-1!==C.indexOf(c))return"×";if(-1!==C.concat(25).indexOf(u)&&22===c||-1!==C.concat(25).indexOf(c)&&18===u)return"×";if(41===u&&41===c){for(var f=n[o],p=1;f>0&&(f--,41===e[f]);)p++;if(p%2!=0)return"×"}return 32===u&&33===c?"×":"÷"},L=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=S(t,e.lineBreak),r=n[0],i=n[1],o=n[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map(function(t){return-1!==[25,30,42].indexOf(t)?37:t})),[r,i,"keep-all"===e.wordBreak?o.map(function(e,n){return e&&t[n]>=19968&&t[n]<=40959}):void 0]},R=function(){function t(t,e,n,r){this.codePoints=t,this.required=e===w,this.start=n,this.end=r}return t.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),k=function(t,e){var n=c(t),r=L(n,e),i=r[0],o=r[1],a=r[2],s=n.length,u=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var t="×";l<s&&"×"===(t=Q(n,o,i,++l,a)););if("×"!==t||l===s){var e=new R(n,t,u,l);return u=l,{value:e,done:!1}}return{done:!0,value:null}}}};!function(t){t[t.STRING_TOKEN=0]="STRING_TOKEN",t[t.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",t[t.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",t[t.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",t[t.COMMA_TOKEN=4]="COMMA_TOKEN",t[t.HASH_TOKEN=5]="HASH_TOKEN",t[t.DELIM_TOKEN=6]="DELIM_TOKEN",t[t.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",t[t.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",t[t.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",t[t.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",t[t.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",t[t.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",t[t.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",t[t.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",t[t.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",t[t.NUMBER_TOKEN=17]="NUMBER_TOKEN",t[t.FUNCTION=18]="FUNCTION",t[t.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",t[t.IDENT_TOKEN=20]="IDENT_TOKEN",t[t.COLUMN_TOKEN=21]="COLUMN_TOKEN",t[t.URL_TOKEN=22]="URL_TOKEN",t[t.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",t[t.CDC_TOKEN=24]="CDC_TOKEN",t[t.CDO_TOKEN=25]="CDO_TOKEN",t[t.COLON_TOKEN=26]="COLON_TOKEN",t[t.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",t[t.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",t[t.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",t[t.EOF_TOKEN=32]="EOF_TOKEN"}(A||(A={}));var O,P=function(t){return t>=48&&t<=57},D=function(t){return t>=55296&&t<=57343},H=function(t){return P(t)||t>=65&&t<=70||t>=97&&t<=102},z=function(t){return t>=97&&t<=122},K=function(t){return t>=65&&t<=90},$=function(t){return z(t)||K(t)},V=function(t){return t>=128},j=function(t){return 10===t||9===t||32===t},G=function(t){return $(t)||V(t)||95===t},q=function(t){return G(t)||P(t)||45===t},X=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},W=function(t,e){return 92===t&&10!==e},Y=function(t,e,n){return 45===t?G(e)||W(e,n):!!G(t)||!(92!==t||!W(t,e))},J=function(t,e,n){return 43===t||45===t?!!P(e)||46===e&&P(n):P(46===t?e:t)},Z=function(t){var e=0,n=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(n=-1),e++);for(var r=[];P(t[e]);)r.push(t[e++]);var i=r.length?parseInt(h.apply(void 0,r),10):0;46===t[e]&&e++;for(var o=[];P(t[e]);)o.push(t[e++]);var a=o.length,s=a?parseInt(h.apply(void 0,o),10):0;69!==t[e]&&101!==t[e]||e++;var u=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(u=-1),e++);for(var l=[];P(t[e]);)l.push(t[e++]);var c=l.length?parseInt(h.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,u*c)},tt={type:A.LEFT_PARENTHESIS_TOKEN},et={type:A.RIGHT_PARENTHESIS_TOKEN},nt={type:A.COMMA_TOKEN},rt={type:A.SUFFIX_MATCH_TOKEN},it={type:A.PREFIX_MATCH_TOKEN},ot={type:A.COLUMN_TOKEN},at={type:A.DASH_MATCH_TOKEN},st={type:A.INCLUDE_MATCH_TOKEN},ut={type:A.LEFT_CURLY_BRACKET_TOKEN},lt={type:A.RIGHT_CURLY_BRACKET_TOKEN},ct={type:A.SUBSTRING_MATCH_TOKEN},ht={type:A.BAD_URL_TOKEN},dt={type:A.BAD_STRING_TOKEN},ft={type:A.CDO_TOKEN},pt={type:A.CDC_TOKEN},At={type:A.COLON_TOKEN},gt={type:A.SEMICOLON_TOKEN},vt={type:A.LEFT_SQUARE_BRACKET_TOKEN},mt={type:A.RIGHT_SQUARE_BRACKET_TOKEN},yt={type:A.WHITESPACE_TOKEN},bt={type:A.EOF_TOKEN},_t=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(c(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==bt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(q(e)||W(n,r)){var i=Y(e,n,r)?2:1,o=this.consumeName();return{type:A.HASH_TOKEN,value:o,flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),rt;break;case 39:return this.consumeStringToken(39);case 40:return tt;case 41:return et;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ct;break;case 43:if(J(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return nt;case 45:var a=t,s=this.peekCodePoint(0),u=this.peekCodePoint(1);if(J(a,s,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Y(a,s,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===s&&62===u)return this.consumeCodePoint(),this.consumeCodePoint(),pt;break;case 46:if(J(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(42===l&&47===(l=this.consumeCodePoint()))return this.consumeToken();if(-1===l)return this.consumeToken()}break;case 58:return At;case 59:return gt;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),ft;break;case 64:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Y(c,d,f)){o=this.consumeName();return{type:A.AT_KEYWORD_TOKEN,value:o}}break;case 91:return vt;case 92:if(W(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return mt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),it;break;case 123:return ut;case 125:return lt;case 117:case 85:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return 43!==p||!H(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),at;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ot;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),st;break;case-1:return bt}return j(t)?(this.consumeWhiteSpace(),yt):P(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):G(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:A.DELIM_TOKEN,value:h(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();H(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(h.apply(void 0,t.map(function(t){return 63===t?48:t})),16),i=parseInt(h.apply(void 0,t.map(function(t){return 63===t?70:t})),16);return{type:A.UNICODE_RANGE_TOKEN,start:r,end:i}}var o=parseInt(h.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&H(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var a=[];H(e)&&a.length<6;)a.push(e),e=this.consumeCodePoint();i=parseInt(h.apply(void 0,a),16);return{type:A.UNICODE_RANGE_TOKEN,start:o,end:i}}return{type:A.UNICODE_RANGE_TOKEN,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:A.FUNCTION_TOKEN,value:t}):{type:A.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:A.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===A.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:A.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),ht)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:A.URL_TOKEN,value:h.apply(void 0,t)};if(j(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:A.URL_TOKEN,value:h.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ht);if(34===r||39===r||40===r||X(r))return this.consumeBadUrlRemnants(),ht;if(92===r){if(!W(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ht;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;j(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;W(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(6e4,t);e+=h.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===t)return e+=this.consumeStringSlice(n),{type:A.STRING_TOKEN,value:e};if(10===r)return this._value.splice(0,n),dt;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):W(r,i)&&(e+=this.consumeStringSlice(n),e+=h(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||t.push(this.consumeCodePoint());P(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&P(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;P(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&P(i)||P(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;P(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Z(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Y(r,i,o)){var a=this.consumeName();return{type:A.DIMENSION_TOKEN,number:e,flags:n,unit:a}}return 37===r?(this.consumeCodePoint(),{type:A.PERCENTAGE_TOKEN,number:e,flags:n}):{type:A.NUMBER_TOKEN,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(H(t)){for(var e=h(t);H(this.peekCodePoint(0))&&e.length<6;)e+=h(this.consumeCodePoint());j(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||D(n)||n>1114111?65533:n}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(q(e))t+=h(e);else{if(!W(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=h(this.consumeEscapedCodePoint())}}},t}(),wt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new _t;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===A.WHITESPACE_TOKEN;)t=this.consumeToken();if(t.type===A.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===A.WHITESPACE_TOKEN);if(t.type===A.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===A.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case A.LEFT_CURLY_BRACKET_TOKEN:case A.LEFT_SQUARE_BRACKET_TOKEN:case A.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case A.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===A.EOF_TOKEN||St(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:A.FUNCTION};;){var n=this.consumeToken();if(n.type===A.EOF_TOKEN||n.type===A.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?bt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),xt=function(t){return t.type===A.DIMENSION_TOKEN},Ct=function(t){return t.type===A.NUMBER_TOKEN},Et=function(t){return t.type===A.IDENT_TOKEN},Bt=function(t){return t.type===A.STRING_TOKEN},Nt=function(t,e){return Et(t)&&t.value===e},Tt=function(t){return t.type!==A.WHITESPACE_TOKEN},It=function(t){return t.type!==A.WHITESPACE_TOKEN&&t.type!==A.COMMA_TOKEN},Ft=function(t){var e=[],n=[];return t.forEach(function(t){if(t.type===A.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}t.type!==A.WHITESPACE_TOKEN&&n.push(t)}),n.length&&e.push(n),e},St=function(t,e){return e===A.LEFT_CURLY_BRACKET_TOKEN&&t.type===A.RIGHT_CURLY_BRACKET_TOKEN||(e===A.LEFT_SQUARE_BRACKET_TOKEN&&t.type===A.RIGHT_SQUARE_BRACKET_TOKEN||e===A.LEFT_PARENTHESIS_TOKEN&&t.type===A.RIGHT_PARENTHESIS_TOKEN)},Mt=function(t){return t.type===A.NUMBER_TOKEN||t.type===A.DIMENSION_TOKEN},Ut=function(t){return t.type===A.PERCENTAGE_TOKEN||Mt(t)},Qt=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Lt={type:A.NUMBER_TOKEN,number:0,flags:4},Rt={type:A.PERCENTAGE_TOKEN,number:50,flags:4},kt={type:A.PERCENTAGE_TOKEN,number:100,flags:4},Ot=function(t,e,n){var r=t[0],i=t[1];return[Pt(r,e),Pt(void 0!==i?i:r,n)]},Pt=function(t,e){if(t.type===A.PERCENTAGE_TOKEN)return t.number/100*e;if(xt(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Dt={name:"angle",parse:function(t){if(t.type===A.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Ht=function(t){return t.type===A.DIMENSION_TOKEN&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},zt=function(t){switch(t.filter(Et).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Lt,Lt];case"to top":case"bottom":return Kt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Lt,kt];case"to right":case"left":return Kt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[kt,kt];case"to bottom":case"top":return Kt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[kt,Lt];case"to left":case"right":return Kt(270)}return 0},Kt=function(t){return Math.PI*t/180},$t={name:"color",parse:function(t){if(t.type===A.FUNCTION){var e=Yt[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===A.HASH_TOKEN){if(3===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);return Gt(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Gt(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===t.value.length){var n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6);return Gt(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===t.value.length){var n=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Gt(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===A.IDENT_TOKEN){var a=Jt[t.value.toUpperCase()];if(void 0!==a)return a}return Jt.TRANSPARENT}},Vt=function(t){return 0==(255&t)},jt=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Gt=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r)<<0)>>>0},qt=function(t,e){if(t.type===A.NUMBER_TOKEN)return t.number;if(t.type===A.PERCENTAGE_TOKEN){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},Xt=function(t){var e=t.filter(It);if(3===e.length){var n=e.map(qt),r=n[0],i=n[1],o=n[2];return Gt(r,i,o,1)}if(4===e.length){var a=e.map(qt),r=a[0],i=a[1],o=a[2],s=a[3];return Gt(r,i,o,s)}return 0},Wt=function(t){var e=t.filter(It),n=e[0],i=e[1],o=e[2],a=e[3],s=(n.type===A.NUMBER_TOKEN?Kt(n.number):Dt.parse(n))/(2*Math.PI),u=Ut(i)?i.number/100:0,l=Ut(o)?o.number/100:0,c=void 0!==a&&Ut(a)?Pt(a,1):1;if(0===u)return Gt(255*l,255*l,255*l,1);var h=l<=.5?l*(u+1):l+u-l*u,d=2*l-h,f=r(d,h,s+1/3),p=r(d,h,s),g=r(d,h,s-1/3);return Gt(255*f,255*p,255*g,c)},Yt={hsl:Wt,hsla:Wt,rgb:Xt,rgba:Xt},Jt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(t){t[t.VALUE=0]="VALUE",t[t.LIST=1]="LIST",t[t.IDENT_VALUE=2]="IDENT_VALUE",t[t.TYPE_VALUE=3]="TYPE_VALUE",t[t.TOKEN_VALUE=4]="TOKEN_VALUE"}(O||(O={}));var Zt;!function(t){t[t.BORDER_BOX=0]="BORDER_BOX",t[t.PADDING_BOX=1]="PADDING_BOX",t[t.CONTENT_BOX=2]="CONTENT_BOX"}(Zt||(Zt={}));var te,ee={name:"background-clip",initialValue:"border-box",prefix:!1,type:O.LIST,parse:function(t){return t.map(function(t){if(Et(t))switch(t.value){case"padding-box":return Zt.PADDING_BOX;case"content-box":return Zt.CONTENT_BOX}return Zt.BORDER_BOX})}},ne={name:"background-color",initialValue:"transparent",prefix:!1,type:O.TYPE_VALUE,format:"color"},re=function(t){var e=$t.parse(t[0]),n=t[1];return n&&Ut(n)?{color:e,stop:n}:{color:e,stop:null}},ie=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=Lt),null===r.stop&&(r.stop=kt);for(var i=[],o=0,a=0;a<t.length;a++){var s=t[a].stop;if(null!==s){var u=Pt(s,e);u>o?i.push(u):i.push(o),o=u}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var c=i[a];if(null===c)null===l&&(l=a);else if(null!==l){for(var h=a-l,d=(c-i[l-1])/(h+1),f=1;f<=h;f++)i[l+f-1]=d*f;l=null}}return t.map(function(t,n){return{color:t.color,stop:Math.max(Math.min(1,i[n]/e),0)}})},oe=function(t,e,n){var r=e/2,i=n/2,o=Pt(t[0],e)-r,a=i-Pt(t[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)},ae=function(t,e,n){var r="number"==typeof t?t:oe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),o=e/2,a=n/2,s=i/2,u=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,o-l,o+l,a-u,a+u]},se=function(t,e){return Math.sqrt(t*t+e*e)},ue=function(t,e,n,r,i){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var o=e[0],a=e[1],s=se(n-o,r-a);return(i?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},le=function(t,e,n,r,i){var o=0,a=0;switch(t.size){case Le.CLOSEST_SIDE:t.shape===Me.CIRCLE?o=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===Me.ELLIPSE&&(o=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case Le.CLOSEST_CORNER:if(t.shape===Me.CIRCLE)o=a=Math.min(se(e,n),se(e,n-i),se(e-r,n),se(e-r,n-i));else if(t.shape===Me.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),u=ue(r,i,e,n,!0),l=u[0],c=u[1];a=s*(o=se(l-e,(c-n)/s))}break;case Le.FARTHEST_SIDE:t.shape===Me.CIRCLE?o=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===Me.ELLIPSE&&(o=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case Le.FARTHEST_CORNER:if(t.shape===Me.CIRCLE)o=a=Math.max(se(e,n),se(e,n-i),se(e-r,n),se(e-r,n-i));else if(t.shape===Me.ELLIPSE){var s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=ue(r,i,e,n,!1),l=h[0],c=h[1];a=s*(o=se(l-e,(c-n)/s))}}return Array.isArray(t.size)&&(o=Pt(t.size[0],r),a=2===t.size.length?Pt(t.size[1],i):o),[o,a]},ce=function(t){var e=Kt(180),n=[];return Ft(t).forEach(function(t,r){if(0===r){var i=t[0];if(i.type===A.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(e=zt(t));if(Ht(i))return void(e=(Dt.parse(i)+Kt(270))%Kt(360))}var o=re(t);n.push(o)}),{angle:e,stops:n,type:te.LINEAR_GRADIENT}},he=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var r=e.getBoundingClientRect(),i=Math.round(r.height);if(t.body.removeChild(n),123===i)return!0}}return!1},de=function(){return void 0!==(new Image).crossOrigin},fe=function(){return"string"==typeof(new XMLHttpRequest).responseType},pe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0},Ae=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},ge=function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,i=e.toDataURL();r.src=i;var o=ve(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),me(o).then(function(e){n.drawImage(e,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=t.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height="100px",Ae(r)?me(ve(100,100,0,0,o)):Promise.reject(!1)}).then(function(t){return n.drawImage(t,0,0),Ae(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})},ve=function(t,e,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},me=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},ye={get SUPPORT_RANGE_BOUNDS(){var t=he(document);return Object.defineProperty(ye,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=pe(document);return Object.defineProperty(ye,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?ge(document):Promise.resolve(!1);return Object.defineProperty(ye,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=de();return Object.defineProperty(ye,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=fe();return Object.defineProperty(ye,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ye,"SUPPORT_CORS_XHR",{value:t}),t}},be=function(){function t(t){this.id=t,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t)},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var n=t.instances[e];if(void 0===n)throw new Error("No logger instance found with id "+e);return n},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t)},t.instances={},t}(),_e=function(){function t(){}return t.create=function(e,n){return t._caches[e]=new we(e,n)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var n=t._caches[e];if(void 0!==n)return n;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),we=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Ie(t)||Be(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return e(this,void 0,void 0,function(){var e,r,i,o,a=this;return n(this,function(n){switch(n.label){case 0:return e=_e.isSameOrigin(t),r=!Ne(t)&&!0===this._options.useCORS&&ye.SUPPORT_CORS_IMAGES&&!e,i=!Ne(t)&&!e&&"string"==typeof this._options.proxy&&ye.SUPPORT_CORS_XHR&&!r,e||!1!==this._options.allowTaint||Ne(t)||i||r?(o=t,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=n.sent(),n.label=2;case 2:return be.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(Te(o)||r)&&(n.crossOrigin="anonymous"),n.src=o,!0===n.complete&&setTimeout(function(){return t(n)},500),a._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,n.sent()]}})})},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise(function(i,o){var a=ye.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var t=new FileReader;t.addEventListener("load",function(){return i(t.result)},!1),t.addEventListener("error",function(t){return o(t)},!1),t.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o,s.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),e._options.imageTimeout){var u=e._options.imageTimeout;s.timeout=u,s.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+r)}}s.send()})},t}(),xe=/^data:image\/svg\+xml/i,Ce=/^data:image\/.*;base64,/i,Ee=/^data:image\/.*/i,Be=function(t){return ye.SUPPORT_SVG_DRAWING||!Fe(t)},Ne=function(t){return Ee.test(t)},Te=function(t){return Ce.test(t)},Ie=function(t){return"blob"===t.substr(0,4)},Fe=function(t){return"svg"===t.substr(-3).toLowerCase()||xe.test(t)},Se=function(t){var e=Me.CIRCLE,n=Le.FARTHEST_CORNER,r=[],i=[];return Ft(t).forEach(function(t,o){var a=!0;if(0===o?a=t.reduce(function(t,e){if(Et(e))switch(e.value){case"center":return i.push(Rt),!1;case"top":case"left":return i.push(Lt),!1;case"right":case"bottom":return i.push(kt),!1}else if(Ut(e)||Mt(e))return i.push(e),!1;return t},a):1===o&&(a=t.reduce(function(t,r){if(Et(r))switch(r.value){case"circle":return e=Me.CIRCLE,!1;case"ellipse":return e=Me.ELLIPSE,!1;case"contain":case"closest-side":return n=Le.CLOSEST_SIDE,!1;case"farthest-side":return n=Le.FARTHEST_SIDE,!1;case"closest-corner":return n=Le.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return n=Le.FARTHEST_CORNER,!1}else if(Mt(r)||Ut(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t},a)),a){var s=re(t);r.push(s)}}),{size:n,shape:e,stops:r,position:i,type:te.RADIAL_GRADIENT}};!function(t){t[t.URL=0]="URL",t[t.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",t[t.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(te||(te={}));var Me,Ue=function(t){return t.type===te.LINEAR_GRADIENT},Qe=function(t){return t.type===te.RADIAL_GRADIENT};!function(t){t[t.CIRCLE=0]="CIRCLE",t[t.ELLIPSE=1]="ELLIPSE"}(Me||(Me={}));var Le;!function(t){t[t.CLOSEST_SIDE=0]="CLOSEST_SIDE",t[t.FARTHEST_SIDE=1]="FARTHEST_SIDE",t[t.CLOSEST_CORNER=2]="CLOSEST_CORNER",t[t.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(Le||(Le={}));var Re,ke={name:"image",parse:function(t){if(t.type===A.URL_TOKEN){var e={url:t.value,type:te.URL};return _e.getInstance().addImage(t.value),e}if(t.type===A.FUNCTION){var n=Oe[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(t.values)}throw new Error("Unsupported image type")}},Oe={"linear-gradient":function(t){var e=Kt(180),n=[];return Ft(t).forEach(function(t,r){if(0===r){var i=t[0];if(i.type===A.IDENT_TOKEN&&"to"===i.value)return void(e=zt(t));if(Ht(i))return void(e=Dt.parse(i))}var o=re(t);n.push(o)}),{angle:e,stops:n,type:te.LINEAR_GRADIENT}},"-moz-linear-gradient":ce,"-ms-linear-gradient":ce,"-o-linear-gradient":ce,"-webkit-linear-gradient":ce,"radial-gradient":function(t){var e=Me.CIRCLE,n=Le.FARTHEST_CORNER,r=[],i=[];return Ft(t).forEach(function(t,o){var a=!0;if(0===o){var s=!1;a=t.reduce(function(t,r){if(s)if(Et(r))switch(r.value){case"center":return i.push(Rt),t;case"top":case"left":return i.push(Lt),t;case"right":case"bottom":return i.push(kt),t}else(Ut(r)||Mt(r))&&i.push(r);else if(Et(r))switch(r.value){case"circle":return e=Me.CIRCLE,!1;case"ellipse":return e=Me.ELLIPSE,!1;case"at":return s=!0,!1;case"closest-side":return n=Le.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return n=Le.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return n=Le.CLOSEST_CORNER,!1;case"farthest-corner":return n=Le.FARTHEST_CORNER,!1}else if(Mt(r)||Ut(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t},a)}if(a){var u=re(t);r.push(u)}}),{size:n,shape:e,stops:r,position:i,type:te.RADIAL_GRADIENT}},"-moz-radial-gradient":Se,"-ms-radial-gradient":Se,"-o-radial-gradient":Se,"-webkit-radial-gradient":Se,"-webkit-gradient":function(t){var e=Kt(180),n=[],r=te.LINEAR_GRADIENT,i=Me.CIRCLE,o=Le.FARTHEST_CORNER,a=[];return Ft(t).forEach(function(t,e){var i=t[0];if(0===e){if(Et(i)&&"linear"===i.value)return void(r=te.LINEAR_GRADIENT);if(Et(i)&&"radial"===i.value)return void(r=te.RADIAL_GRADIENT)}if(i.type===A.FUNCTION)if("from"===i.name)a=$t.parse(i.values[0]),n.push({stop:Lt,color:a});else if("to"===i.name)a=$t.parse(i.values[0]),n.push({stop:kt,color:a});else if("color-stop"===i.name){var o=i.values.filter(It);if(2===o.length){var a=$t.parse(o[1]),s=o[0];Ct(s)&&n.push({stop:{type:A.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:a})}}}),r===te.LINEAR_GRADIENT?{angle:(e+Kt(180))%Kt(360),stops:n,type:r}:{size:o,shape:i,stops:n,position:a,type:r}}},Pe={name:"background-image",initialValue:"none",type:O.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===A.IDENT_TOKEN&&"none"===e.value?[]:t.filter(function(t){return It(t)&&i(t)}).map(ke.parse)}},De={name:"background-origin",initialValue:"border-box",prefix:!1,type:O.LIST,parse:function(t){return t.map(function(t){if(Et(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},He={name:"background-position",initialValue:"0% 0%",type:O.LIST,prefix:!1,parse:function(t){return Ft(t).map(function(t){return t.filter(Ut)}).map(Qt)}};!function(t){t[t.REPEAT=0]="REPEAT",t[t.NO_REPEAT=1]="NO_REPEAT",t[t.REPEAT_X=2]="REPEAT_X",t[t.REPEAT_Y=3]="REPEAT_Y"}(Re||(Re={}));var ze,Ke={name:"background-repeat",initialValue:"repeat",prefix:!1,type:O.LIST,parse:function(t){return Ft(t).map(function(t){return t.filter(Et).map(function(t){return t.value}).join(" ")}).map($e)}},$e=function(t){switch(t){case"no-repeat":return Re.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Re.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Re.REPEAT_Y;case"repeat":default:return Re.REPEAT}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(ze||(ze={}));var Ve,je={name:"background-size",initialValue:"0",prefix:!1,type:O.LIST,parse:function(t){return Ft(t).map(function(t){return t.filter(Ge)})}},Ge=function(t){return Et(t)||Ut(t)},qe=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:O.TYPE_VALUE,format:"color"}},Xe=qe("top"),We=qe("right"),Ye=qe("bottom"),Je=qe("left"),Ze=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:O.LIST,parse:function(t){return Qt(t.filter(Ut))}}},tn=Ze("top-left"),en=Ze("top-right"),nn=Ze("bottom-right"),rn=Ze("bottom-left");!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID"}(Ve||(Ve={}));var on,an=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"none":return Ve.NONE}return Ve.SOLID}}},sn=an("top"),un=an("right"),ln=an("bottom"),cn=an("left"),hn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:O.VALUE,prefix:!1,parse:function(t){return xt(t)?t.number:0}}},dn=hn("top"),fn=hn("right"),pn=hn("bottom"),An=hn("left"),gn={name:"color",initialValue:"transparent",prefix:!1,type:O.TYPE_VALUE,format:"color"},vn={name:"display",initialValue:"inline-block",prefix:!1,type:O.LIST,parse:function(t){return t.filter(Et).reduce(function(t,e){return t|mn(e.value)},0)}},mn=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.INLINE_START=3]="INLINE_START",t[t.INLINE_END=4]="INLINE_END"}(on||(on={}));var yn,bn={name:"float",initialValue:"none",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"left":return on.LEFT;case"right":return on.RIGHT;case"inline-start":return on.INLINE_START;case"inline-end":return on.INLINE_END}return on.NONE}},_n={name:"letter-spacing",initialValue:"0",prefix:!1,type:O.VALUE,parse:function(t){return t.type===A.IDENT_TOKEN&&"normal"===t.value?0:t.type===A.NUMBER_TOKEN?t.number:t.type===A.DIMENSION_TOKEN?t.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(yn||(yn={}));var wn,xn={name:"line-break",initialValue:"normal",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"strict":return yn.STRICT;case"normal":default:return yn.NORMAL}}},Cn={name:"line-height",initialValue:"normal",prefix:!1,type:O.TOKEN_VALUE},En=function(t,e){return Et(t)&&"normal"===t.value?1.2*e:t.type===A.NUMBER_TOKEN?e*t.number:Ut(t)?Pt(t,e):e},Bn={name:"list-style-image",initialValue:"none",type:O.VALUE,prefix:!1,parse:function(t){return t.type===A.IDENT_TOKEN&&"none"===t.value?null:ke.parse(t)}};!function(t){t[t.INSIDE=0]="INSIDE",t[t.OUTSIDE=1]="OUTSIDE"}(wn||(wn={}));var Nn,Tn={name:"list-style-position",initialValue:"outside",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"inside":return wn.INSIDE;case"outside":default:return wn.OUTSIDE}}};!function(t){t[t.NONE=-1]="NONE",t[t.DISC=0]="DISC",t[t.CIRCLE=1]="CIRCLE",t[t.SQUARE=2]="SQUARE",t[t.DECIMAL=3]="DECIMAL",t[t.CJK_DECIMAL=4]="CJK_DECIMAL",t[t.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",t[t.LOWER_ROMAN=6]="LOWER_ROMAN",t[t.UPPER_ROMAN=7]="UPPER_ROMAN",t[t.LOWER_GREEK=8]="LOWER_GREEK",t[t.LOWER_ALPHA=9]="LOWER_ALPHA",t[t.UPPER_ALPHA=10]="UPPER_ALPHA",t[t.ARABIC_INDIC=11]="ARABIC_INDIC",t[t.ARMENIAN=12]="ARMENIAN",t[t.BENGALI=13]="BENGALI",t[t.CAMBODIAN=14]="CAMBODIAN",t[t.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",t[t.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",t[t.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",t[t.DEVANAGARI=18]="DEVANAGARI",t[t.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",t[t.GEORGIAN=20]="GEORGIAN",t[t.GUJARATI=21]="GUJARATI",t[t.GURMUKHI=22]="GURMUKHI",t[t.HEBREW=22]="HEBREW",t[t.HIRAGANA=23]="HIRAGANA",t[t.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",t[t.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",t[t.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",t[t.KANNADA=27]="KANNADA",t[t.KATAKANA=28]="KATAKANA",t[t.KATAKANA_IROHA=29]="KATAKANA_IROHA",t[t.KHMER=30]="KHMER",t[t.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",t[t.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",t[t.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",t[t.LAO=34]="LAO",t[t.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",t[t.MALAYALAM=36]="MALAYALAM",t[t.MONGOLIAN=37]="MONGOLIAN",t[t.MYANMAR=38]="MYANMAR",t[t.ORIYA=39]="ORIYA",t[t.PERSIAN=40]="PERSIAN",t[t.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",t[t.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",t[t.TAMIL=43]="TAMIL",t[t.TELUGU=44]="TELUGU",t[t.THAI=45]="THAI",t[t.TIBETAN=46]="TIBETAN",t[t.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",t[t.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",t[t.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",t[t.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",t[t.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Nn||(Nn={}));var In,Fn={name:"list-style-type",initialValue:"none",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Nn.DISC;case"circle":return Nn.CIRCLE;case"square":return Nn.SQUARE;case"decimal":return Nn.DECIMAL;case"cjk-decimal":return Nn.CJK_DECIMAL;case"decimal-leading-zero":return Nn.DECIMAL_LEADING_ZERO;case"lower-roman":return Nn.LOWER_ROMAN;case"upper-roman":return Nn.UPPER_ROMAN;case"lower-greek":return Nn.LOWER_GREEK;case"lower-alpha":return Nn.LOWER_ALPHA;case"upper-alpha":return Nn.UPPER_ALPHA;case"arabic-indic":return Nn.ARABIC_INDIC;case"armenian":return Nn.ARMENIAN;case"bengali":return Nn.BENGALI;case"cambodian":return Nn.CAMBODIAN;case"cjk-earthly-branch":return Nn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Nn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Nn.CJK_IDEOGRAPHIC;case"devanagari":return Nn.DEVANAGARI;case"ethiopic-numeric":return Nn.ETHIOPIC_NUMERIC;case"georgian":return Nn.GEORGIAN;case"gujarati":return Nn.GUJARATI;case"gurmukhi":return Nn.GURMUKHI;case"hebrew":return Nn.HEBREW;case"hiragana":return Nn.HIRAGANA;case"hiragana-iroha":return Nn.HIRAGANA_IROHA;case"japanese-formal":return Nn.JAPANESE_FORMAL;case"japanese-informal":return Nn.JAPANESE_INFORMAL;case"kannada":return Nn.KANNADA;case"katakana":return Nn.KATAKANA;case"katakana-iroha":return Nn.KATAKANA_IROHA;case"khmer":return Nn.KHMER;case"korean-hangul-formal":return Nn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Nn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Nn.KOREAN_HANJA_INFORMAL;case"lao":return Nn.LAO;case"lower-armenian":return Nn.LOWER_ARMENIAN;case"malayalam":return Nn.MALAYALAM;case"mongolian":return Nn.MONGOLIAN;case"myanmar":return Nn.MYANMAR;case"oriya":return Nn.ORIYA;case"persian":return Nn.PERSIAN;case"simp-chinese-formal":return Nn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Nn.SIMP_CHINESE_INFORMAL;case"tamil":return Nn.TAMIL;case"telugu":return Nn.TELUGU;case"thai":return Nn.THAI;case"tibetan":return Nn.TIBETAN;case"trad-chinese-formal":return Nn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Nn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Nn.UPPER_ARMENIAN;case"disclosure-open":return Nn.DISCLOSURE_OPEN;case"disclosure-closed":return Nn.DISCLOSURE_CLOSED;case"none":default:return Nn.NONE}}},Sn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:O.TOKEN_VALUE}},Mn=Sn("top"),Un=Sn("right"),Qn=Sn("bottom"),Ln=Sn("left");!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.SCROLL=2]="SCROLL",t[t.AUTO=3]="AUTO"}(In||(In={}));var Rn,kn={name:"overflow",initialValue:"visible",prefix:!1,type:O.LIST,parse:function(t){return t.filter(Et).map(function(t){switch(t.value){case"hidden":return In.HIDDEN;case"scroll":return In.SCROLL;case"auto":return In.AUTO;case"visible":default:return In.VISIBLE}})}};!function(t){t.NORMAL="normal",t.BREAK_WORD="break-word"}(Rn||(Rn={}));var On,Pn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return Rn.BREAK_WORD;case"normal":default:return Rn.NORMAL}}},Dn=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:O.TYPE_VALUE,format:"length-percentage"}},Hn=Dn("top"),zn=Dn("right"),Kn=Dn("bottom"),$n=Dn("left");!function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT"}(On||(On={}));var Vn,jn={name:"text-align",initialValue:"left",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"right":return On.RIGHT;case"center":case"justify":return On.CENTER;case"left":default:return On.LEFT}}};!function(t){t[t.STATIC=0]="STATIC",t[t.RELATIVE=1]="RELATIVE",t[t.ABSOLUTE=2]="ABSOLUTE",t[t.FIXED=3]="FIXED",t[t.STICKY=4]="STICKY"}(Vn||(Vn={}));var Gn,qn={name:"position",initialValue:"static",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"relative":return Vn.RELATIVE;case"absolute":return Vn.ABSOLUTE;case"fixed":return Vn.FIXED;case"sticky":return Vn.STICKY}return Vn.STATIC}},Xn={name:"text-shadow",initialValue:"none",type:O.LIST,prefix:!1,parse:function(t){return 1===t.length&&Nt(t[0],"none")?[]:Ft(t).map(function(t){for(var e={color:Jt.TRANSPARENT,offsetX:Lt,offsetY:Lt,blur:Lt},n=0,r=0;r<t.length;r++){var i=t[r];Mt(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:e.blur=i,n++):e.color=$t.parse(i)}return e})}};!function(t){t[t.NONE=0]="NONE",t[t.LOWERCASE=1]="LOWERCASE",t[t.UPPERCASE=2]="UPPERCASE",t[t.CAPITALIZE=3]="CAPITALIZE"}(Gn||(Gn={}));var Wn,Yn={name:"text-transform",initialValue:"none",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return Gn.UPPERCASE;case"lowercase":return Gn.LOWERCASE;case"capitalize":return Gn.CAPITALIZE}return Gn.NONE}},Jn={name:"transform",initialValue:"none",prefix:!0,type:O.VALUE,parse:function(t){if(t.type===A.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===A.FUNCTION){var e=Zn[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},Zn={matrix:function(t){var e=t.filter(function(t){return t.type===A.NUMBER_TOKEN}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return t.type===A.NUMBER_TOKEN}).map(function(t){return t.number}),n=e[0],r=e[1],i=(e[2],e[3],e[4]),o=e[5],a=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),s=e[13];e[14],e[15];return 16===e.length?[n,r,i,o,a,s]:null}},tr={type:A.PERCENTAGE_TOKEN,number:50,flags:4},er=[tr,tr],nr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:O.LIST,parse:function(t){var e=t.filter(Ut);return 2!==e.length?er:[e[0],e[1]]}};!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.COLLAPSE=2]="COLLAPSE"}(Wn||(Wn={}));var rr,ir={name:"visible",initialValue:"none",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return Wn.HIDDEN;case"collapse":return Wn.COLLAPSE;case"visible":default:return Wn.VISIBLE}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(rr||(rr={}));var or,ar={name:"word-break",initialValue:"normal",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return rr.BREAK_ALL;case"keep-all":return rr.KEEP_ALL;case"normal":default:return rr.NORMAL}}},sr={name:"z-index",initialValue:"auto",prefix:!1,type:O.VALUE,parse:function(t){if(t.type===A.IDENT_TOKEN)return{auto:!0,order:0};if(Ct(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ur={name:"opacity",initialValue:"1",type:O.VALUE,prefix:!1,parse:function(t){return Ct(t)?t.number:1}},lr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:O.TYPE_VALUE,format:"color"},cr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:O.LIST,parse:function(t){return t.filter(Et).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},hr={name:"font-family",initialValue:"",prefix:!1,type:O.LIST,parse:function(t){return t.filter(dr).map(function(t){return t.value})}},dr=function(t){return t.type===A.STRING_TOKEN||t.type===A.IDENT_TOKEN},fr={name:"font-size",initialValue:"0",prefix:!1,type:O.TYPE_VALUE,format:"length"},pr={name:"font-weight",initialValue:"normal",type:O.VALUE,prefix:!1,parse:function(t){if(Ct(t))return t.number;if(Et(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ar={name:"font-variant",initialValue:"none",type:O.LIST,prefix:!1,parse:function(t){return t.filter(Et).map(function(t){return t.value})}};!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(or||(or={}));var gr,vr={name:"font-style",initialValue:"normal",prefix:!1,type:O.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return or.OBLIQUE;case"italic":return or.ITALIC;case"normal":default:return or.NORMAL}}},mr=function(t,e){return 0!=(t&e)},yr={name:"content",initialValue:"none",type:O.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===A.IDENT_TOKEN&&"none"===e.value?[]:t}},br={name:"counter-increment",initialValue:"none",prefix:!0,type:O.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===A.IDENT_TOKEN&&"none"===e.value)return null;for(var n=[],r=t.filter(Tt),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(o.type===A.IDENT_TOKEN){var s=a&&Ct(a)?a.number:1;n.push({counter:o.value,increment:s})}}return n}},_r={name:"counter-reset",initialValue:"none",prefix:!0,type:O.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],n=t.filter(Tt),r=0;r<n.length;r++){var i=n[r],o=n[r+1];if(Et(i)&&"none"!==i.value){var a=o&&Ct(o)?o.number:0;e.push({counter:i.value,reset:a})}}return e}},wr={name:"quotes",initialValue:"none",prefix:!0,type:O.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===A.IDENT_TOKEN&&"none"===e.value)return null;var n=[],r=t.filter(Bt);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var o=r[i].value,a=r[i+1].value;n.push({open:o,close:a})}return n}},xr=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Cr={name:"box-shadow",initialValue:"none",type:O.LIST,prefix:!1,parse:function(t){return 1===t.length&&Nt(t[0],"none")?[]:Ft(t).map(function(t){for(var e={color:255,offsetX:Lt,offsetY:Lt,blur:Lt,spread:Lt,inset:!1},n=0,r=0;r<t.length;r++){var i=t[r];Nt(i,"inset")?e.inset=!0:Mt(i)?(0===n?e.offsetX=i:1===n?e.offsetY=i:2===n?e.blur=i:e.spread=i,n++):e.color=$t.parse(i)}return e})}},Er=function(){function t(t){this.backgroundClip=Tr(ee,t.backgroundClip),this.backgroundColor=Tr(ne,t.backgroundColor),this.backgroundImage=Tr(Pe,t.backgroundImage),this.backgroundOrigin=Tr(De,t.backgroundOrigin),this.backgroundPosition=Tr(He,t.backgroundPosition),this.backgroundRepeat=Tr(Ke,t.backgroundRepeat),this.backgroundSize=Tr(je,t.backgroundSize),this.borderTopColor=Tr(Xe,t.borderTopColor),this.borderRightColor=Tr(We,t.borderRightColor),this.borderBottomColor=Tr(Ye,t.borderBottomColor),this.borderLeftColor=Tr(Je,t.borderLeftColor),this.borderTopLeftRadius=Tr(tn,t.borderTopLeftRadius),this.borderTopRightRadius=Tr(en,t.borderTopRightRadius),this.borderBottomRightRadius=Tr(nn,t.borderBottomRightRadius),this.borderBottomLeftRadius=Tr(rn,t.borderBottomLeftRadius),this.borderTopStyle=Tr(sn,t.borderTopStyle),this.borderRightStyle=Tr(un,t.borderRightStyle),this.borderBottomStyle=Tr(ln,t.borderBottomStyle),this.borderLeftStyle=Tr(cn,t.borderLeftStyle),this.borderTopWidth=Tr(dn,t.borderTopWidth),this.borderRightWidth=Tr(fn,t.borderRightWidth),this.borderBottomWidth=Tr(pn,t.borderBottomWidth),this.borderLeftWidth=Tr(An,t.borderLeftWidth),this.boxShadow=Tr(Cr,t.boxShadow),this.color=Tr(gn,t.color),this.display=Tr(vn,t.display),this.float=Tr(bn,t.cssFloat),this.fontFamily=Tr(hr,t.fontFamily),this.fontSize=Tr(fr,t.fontSize),this.fontStyle=Tr(vr,t.fontStyle),this.fontVariant=Tr(Ar,t.fontVariant),this.fontWeight=Tr(pr,t.fontWeight),this.letterSpacing=Tr(_n,t.letterSpacing),this.lineBreak=Tr(xn,t.lineBreak),this.lineHeight=Tr(Cn,t.lineHeight),this.listStyleImage=Tr(Bn,t.listStyleImage),this.listStylePosition=Tr(Tn,t.listStylePosition),this.listStyleType=Tr(Fn,t.listStyleType),this.marginTop=Tr(Mn,t.marginTop),this.marginRight=Tr(Un,t.marginRight),this.marginBottom=Tr(Qn,t.marginBottom),this.marginLeft=Tr(Ln,t.marginLeft),this.opacity=Tr(ur,t.opacity);var e=Tr(kn,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=Tr(Pn,t.overflowWrap),this.paddingTop=Tr(Hn,t.paddingTop),this.paddingRight=Tr(zn,t.paddingRight),this.paddingBottom=Tr(Kn,t.paddingBottom),this.paddingLeft=Tr($n,t.paddingLeft),this.position=Tr(qn,t.position),this.textAlign=Tr(jn,t.textAlign),this.textDecorationColor=Tr(lr,t.textDecorationColor||t.color),this.textDecorationLine=Tr(cr,t.textDecorationLine),this.textShadow=Tr(Xn,t.textShadow),this.textTransform=Tr(Yn,t.textTransform),this.transform=Tr(Jn,t.transform),this.transformOrigin=Tr(nr,t.transformOrigin),this.visibility=Tr(ir,t.visibility),this.wordBreak=Tr(ar,t.wordBreak),this.zIndex=Tr(sr,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Wn.VISIBLE},t.prototype.isTransparent=function(){return Vt(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==Vn.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==on.NONE},t.prototype.isInlineLevel=function(){return mr(this.display,4)||mr(this.display,33554432)||mr(this.display,268435456)||mr(this.display,536870912)||mr(this.display,67108864)||mr(this.display,134217728)},t}(),Br=function(){return function(t){this.content=Tr(yr,t.content),this.quotes=Tr(wr,t.quotes)}}(),Nr=function(){return function(t){this.counterIncrement=Tr(br,t.counterIncrement),this.counterReset=Tr(_r,t.counterReset)}}(),Tr=function(t,e){var n=new _t,r=null!==e&&void 0!==e?e.toString():t.initialValue;n.write(r);var i=new wt(n.read());switch(t.type){case O.IDENT_VALUE:var o=i.parseComponentValue();return t.parse(Et(o)?o.value:t.initialValue);case O.VALUE:return t.parse(i.parseComponentValue());case O.LIST:return t.parse(i.parseComponentValues());case O.TOKEN_VALUE:return i.parseComponentValue();case O.TYPE_VALUE:switch(t.format){case"angle":return Dt.parse(i.parseComponentValue());case"color":return $t.parse(i.parseComponentValue());case"image":return ke.parse(i.parseComponentValue());case"length":var a=i.parseComponentValue();return Mt(a)?a:Lt;case"length-percentage":var s=i.parseComponentValue();return Ut(s)?s:Lt}}throw new Error("Attempting to parse unsupported css format type "+t.format)},Ir=function(){return function(t){this.styles=new Er(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&hi(t)&&(t.style.transform="none"),this.bounds=u(t),this.flags=0}}(),Fr=function(){return function(t,e){this.text=t,this.bounds=e}}(),Sr=function(t,e,n){var r=[],i=0;return Qr(t,e).forEach(function(t){if(e.textDecorationLine.length||t.trim().length>0)if(ye.SUPPORT_RANGE_BOUNDS)r.push(new Fr(t,Ur(n,i,t.length)));else{var o=n.splitText(t.length);r.push(new Fr(t,Mr(n))),n=o}else ye.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));i+=t.length}),r},Mr=function(t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(n,t);var i=u(n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return new s(0,0,0,0)},Ur=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),s.fromClientRect(i.getBoundingClientRect())},Qr=function(t,e){return 0!==e.letterSpacing?c(t).map(function(t){return h(t)}):Lr(t,e)},Lr=function(t,e){for(var n,r=k(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Rn.BREAK_WORD?"break-word":e.wordBreak}),i=[];!(n=r.next()).done;)n.value&&i.push(n.value.slice());return i},Rr=function(){return function(t,e){this.text=kr(t.data,e.textTransform),this.textBounds=Sr(this.text,e,t)}}(),kr=function(t,e){switch(e){case Gn.LOWERCASE:return t.toLowerCase();case Gn.CAPITALIZE:return t.replace(Or,Pr);case Gn.UPPERCASE:return t.toUpperCase();default:return t}},Or=/(^|\s|:|-|\(|\))([a-z])/g,Pr=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Dr=function(e){function n(t){var n=e.call(this,t)||this;return n.src=t.currentSrc||t.src,n.intrinsicWidth=t.naturalWidth,n.intrinsicHeight=t.naturalHeight,_e.getInstance().addImage(n.src),n}return t(n,e),n}(Ir),Hr=function(e){function n(t){var n=e.call(this,t)||this;return n.canvas=t,n.intrinsicWidth=t.width,n.intrinsicHeight=t.height,n}return t(n,e),n}(Ir),zr=function(e){function n(t){var n=e.call(this,t)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,_e.getInstance().addImage(n.svg),n}return t(n,e),n}(Ir),Kr=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Ir),$r=function(e){function n(t){var n=e.call(this,t)||this;return n.start=t.start,n.reversed="boolean"==typeof t.reversed&&!0===t.reversed,n}return t(n,e),n}(Ir),Vr=[{type:A.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],jr=[{type:A.PERCENTAGE_TOKEN,flags:0,number:50}],Gr=function(t){return t.width>t.height?new s(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new s(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},qr=function(t){var e=t.type===Yr?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e},Xr="checkbox",Wr="radio",Yr="password",Jr=function(e){function n(t){var n=e.call(this,t)||this;switch(n.type=t.type.toLowerCase(),n.checked=t.checked,n.value=qr(t),n.type!==Xr&&n.type!==Wr||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=Ve.SOLID,n.styles.backgroundClip=[Zt.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=Gr(n.bounds)),n.type){case Xr:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Vr;break;case Wr:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=jr}return n}return t(n,e),n}(Ir),Zr=function(e){function n(t){var n=e.call(this,t)||this,r=t.options[t.selectedIndex||0];return n.value=r?r.text||"":"",n}return t(n,e),n}(Ir),ti=function(e){function n(t){var n=e.call(this,t)||this;return n.value=t.value,n}return t(n,e),n}(Ir),ei=function(t){return $t.parse(wt.create(t).parseComponentValue())},ni=function(e){function n(t){var n=e.call(this,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){n.tree=ai(t.contentWindow.document.documentElement);var r=t.contentWindow.document.documentElement?ei(getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):Jt.TRANSPARENT,i=t.contentWindow.document.body?ei(getComputedStyle(t.contentWindow.document.body).backgroundColor):Jt.TRANSPARENT;n.backgroundColor=Vt(r)?Vt(i)?n.styles.backgroundColor:i:r}}catch(t){}return n}return t(n,e),n}(Ir),ri=["OL","UL","MENU"],ii=function(t,e,n){for(var r=t.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,li(r)&&r.data.trim().length>0)e.textNodes.push(new Rr(r,e.styles));else if(ci(r)){var o=oi(r);o.styles.isVisible()&&(si(r,o,n)?o.flags|=4:ui(o.styles)&&(o.flags|=2),-1!==ri.indexOf(r.tagName)&&(o.flags|=8),e.elements.push(o),xi(r)||gi(r)||Ci(r)||ii(r,o,n))}},oi=function(t){return yi(t)?new Dr(t):mi(t)?new Hr(t):gi(t)?new zr(t):di(t)?new Kr(t):fi(t)?new $r(t):pi(t)?new Jr(t):Ci(t)?new Zr(t):xi(t)?new ti(t):bi(t)?new ni(t):new Ir(t)},ai=function(t){var e=oi(t);return e.flags|=4,ii(t,e,e),e},si=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||vi(t)&&n.styles.isTransparent()},ui=function(t){return t.isPositioned()||t.isFloating()},li=function(t){return t.nodeType===Node.TEXT_NODE},ci=function(t){return t.nodeType===Node.ELEMENT_NODE},hi=function(t){return void 0!==t.style},di=function(t){return"LI"===t.tagName},fi=function(t){return"OL"===t.tagName},pi=function(t){return"INPUT"===t.tagName},Ai=function(t){return"HTML"===t.tagName},gi=function(t){return"svg"===t.tagName},vi=function(t){return"BODY"===t.tagName},mi=function(t){return"CANVAS"===t.tagName},yi=function(t){return"IMG"===t.tagName},bi=function(t){return"IFRAME"===t.tagName},_i=function(t){return"STYLE"===t.tagName},wi=function(t){return"SCRIPT"===t.tagName},xi=function(t){return"TEXTAREA"===t.tagName},Ci=function(t){return"SELECT"===t.tagName},Ei=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset;null!==n&&n.forEach(function(t){var n=e.counters[t.counter];n&&(n[Math.max(0,n.length-1)]+=t.increment)});var i=[];return r.forEach(function(t){var n=e.counters[t.counter];i.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)}),i},t}(),Bi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ni={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ti={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Ii={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Fi=function(t,e,n,r,i,o){return t<e||t>n?Li(t,i,o.length>0):r.integers.reduce(function(e,n,i){for(;t>=n;)t-=n,e+=r.values[i];return e},"")+o},Si=function(t,e,n,r){var i="";do{n||t--,i=r(t)+i,t/=e}while(t*e>=e);return i},Mi=function(t,e,n,r,i){var o=n-e+1;return(t<0?"-":"")+(Si(Math.abs(t),o,r,function(t){return h(Math.floor(t%o)+e)})+i)},Ui=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return Si(Math.abs(t),r,!1,function(t){return e[Math.floor(t%r)]})+n},Qi=function(t,e,n,r,i,o){if(t<-9999||t>9999)return Li(t,Nn.CJK_DECIMAL,i.length>0);var a=Math.abs(t),s=i;if(0===a)return e[0]+s;for(var u=0;a>0&&u<=4;u++){var l=a%10;0===l&&mr(o,1)&&""!==s?s=e[l]+s:l>1||1===l&&0===u||1===l&&1===u&&mr(o,2)||1===l&&1===u&&mr(o,4)&&t>100||1===l&&u>1&&mr(o,8)?s=e[l]+(u>0?n[u-1]:"")+s:1===l&&u>0&&(s=n[u-1]+s),a=Math.floor(a/10)}return(t<0?r:"")+s},Li=function(t,e,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"",a=n?" ":"";switch(e){case Nn.DISC:return"•"+a;case Nn.CIRCLE:return"◦"+a;case Nn.SQUARE:return"◾"+a;case Nn.DECIMAL_LEADING_ZERO:var s=Mi(t,48,57,!0,r);return s.length<4?"0"+s:s;case Nn.CJK_DECIMAL:return Ui(t,"〇一二三四五六七八九",i);case Nn.LOWER_ROMAN:return Fi(t,1,3999,Bi,Nn.DECIMAL,r).toLowerCase();case Nn.UPPER_ROMAN:return Fi(t,1,3999,Bi,Nn.DECIMAL,r);case Nn.LOWER_GREEK:return Mi(t,945,969,!1,r);case Nn.LOWER_ALPHA:return Mi(t,97,122,!1,r);case Nn.UPPER_ALPHA:return Mi(t,65,90,!1,r);case Nn.ARABIC_INDIC:return Mi(t,1632,1641,!0,r);case Nn.ARMENIAN:case Nn.UPPER_ARMENIAN:return Fi(t,1,9999,Ni,Nn.DECIMAL,r);case Nn.LOWER_ARMENIAN:return Fi(t,1,9999,Ni,Nn.DECIMAL,r).toLowerCase();case Nn.BENGALI:return Mi(t,2534,2543,!0,r);case Nn.CAMBODIAN:case Nn.KHMER:return Mi(t,6112,6121,!0,r);case Nn.CJK_EARTHLY_BRANCH:return Ui(t,"子丑寅卯辰巳午未申酉戌亥",i);case Nn.CJK_HEAVENLY_STEM:return Ui(t,"甲乙丙丁戊己庚辛壬癸",i);case Nn.CJK_IDEOGRAPHIC:case Nn.TRAD_CHINESE_INFORMAL:return Qi(t,"零一二三四五六七八九","十百千萬","負",i,14);case Nn.TRAD_CHINESE_FORMAL:return Qi(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case Nn.SIMP_CHINESE_INFORMAL:return Qi(t,"零一二三四五六七八九","十百千萬","负",i,14);case Nn.SIMP_CHINESE_FORMAL:return Qi(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case Nn.JAPANESE_INFORMAL:return Qi(t,"〇一二三四五六七八九","十百千万","マイナス",i,0);case Nn.JAPANESE_FORMAL:return Qi(t,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case Nn.KOREAN_HANGUL_FORMAL:return Qi(t,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case Nn.KOREAN_HANJA_INFORMAL:return Qi(t,"零一二三四五六七八九","十百千萬","마이너스",o,0);case Nn.KOREAN_HANJA_FORMAL:return Qi(t,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case Nn.DEVANAGARI:return Mi(t,2406,2415,!0,r);case Nn.GEORGIAN:return Fi(t,1,19999,Ii,Nn.DECIMAL,r);case Nn.GUJARATI:return Mi(t,2790,2799,!0,r);case Nn.GURMUKHI:return Mi(t,2662,2671,!0,r);case Nn.HEBREW:return Fi(t,1,10999,Ti,Nn.DECIMAL,r);case Nn.HIRAGANA:return Ui(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Nn.HIRAGANA_IROHA:return Ui(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Nn.KANNADA:return Mi(t,3302,3311,!0,r);case Nn.KATAKANA:return Ui(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case Nn.KATAKANA_IROHA:return Ui(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case Nn.LAO:return Mi(t,3792,3801,!0,r);case Nn.MONGOLIAN:return Mi(t,6160,6169,!0,r);case Nn.MYANMAR:return Mi(t,4160,4169,!0,r);case Nn.ORIYA:return Mi(t,2918,2927,!0,r);case Nn.PERSIAN:return Mi(t,1776,1785,!0,r);case Nn.TAMIL:return Mi(t,3046,3055,!0,r);case Nn.TELUGU:return Mi(t,3174,3183,!0,r);case Nn.THAI:return Mi(t,3664,3673,!0,r);case Nn.TIBETAN:return Mi(t,3872,3881,!0,r);case Nn.DECIMAL:default:return Mi(t,48,57,!0,r)}},Ri=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ei,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var n=this,r=Oi(t,e);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,a=r.contentWindow,s=a.document,u=Pi(r).then(function(){n.scrolledElements.forEach(Ki),a&&(a.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===e.top&&a.scrollX===e.left||(s.documentElement.style.top=-e.top+"px",s.documentElement.style.left=-e.left+"px",s.documentElement.style.position="absolute"));var t=n.options.onclone;return void 0===n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof t?Promise.resolve().then(function(){return t(s)}).then(function(){return r}):r});return s.open(),s.write(Hi(document.doctype)+"<html></html>"),zi(this.referenceElement.ownerDocument,i,o),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),u},t.prototype.createElementClone=function(t){return mi(t)?this.createCanvasClone(t):_i(t)?this.createStyleClone(t):t.cloneNode(!1)},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t},""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(t){if(be.getInstance(this.options.id).error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(t){be.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var r=t.getContext("2d"),i=n.getContext("2d");return i&&(r?i.putImageData(r.getImageData(0,0,t.width,t.height),0,0):i.drawImage(t,0,0)),n}catch(t){}return n},t.prototype.cloneNode=function(t){if(li(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(hi(t)&&e){var n=this.createElementClone(t),r=e.getComputedStyle(t),i=e.getComputedStyle(t,":before"),o=e.getComputedStyle(t,":after");this.referenceElement===t&&(this.clonedReferenceElement=n),vi(n)&&ji(n);for(var a=this.counters.parse(new Nr(r)),s=this.resolvePseudoContent(t,n,i,gr.BEFORE),u=t.firstChild;u;u=u.nextSibling)ci(u)&&(wi(u)||u.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(u))||this.options.copyStyles&&ci(u)&&_i(u)||n.appendChild(this.cloneNode(u));s&&n.insertBefore(s,n.firstChild);var l=this.resolvePseudoContent(t,n,o,gr.AFTER);return l&&n.appendChild(l),this.counters.pop(a),r&&this.options.copyStyles&&!bi(t)&&Di(r,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(xi(t)||Ci(t))&&(xi(n)||Ci(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var i=this;if(n){var o=n.content,a=e.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new Nr(n));var s=new Br(n),u=a.createElement("html2canvaspseudoelement");return Di(n,u),s.content.forEach(function(e){if(e.type===A.STRING_TOKEN)u.appendChild(a.createTextNode(e.value));else if(e.type===A.URL_TOKEN){var n=a.createElement("img");n.src=e.value,n.style.opacity="1",u.appendChild(n)}else if(e.type===A.FUNCTION){if("attr"===e.name){var r=e.values.filter(Et);r.length&&u.appendChild(a.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(It),l=o[0],c=o[1];if(l&&Et(l)){var h=i.counters.getCounterValue(l.value),d=c&&Et(c)?Fn.parse(c.value):Nn.DECIMAL;u.appendChild(a.createTextNode(Li(h,d,!1)))}}else if("counters"===e.name){var f=e.values.filter(It),l=f[0],p=f[1],c=f[2];if(l&&Et(l)){var g=i.counters.getCounterValues(l.value),v=c&&Et(c)?Fn.parse(c.value):Nn.DECIMAL,m=p&&p.type===A.STRING_TOKEN?p.value:"",y=g.map(function(t){return Li(t,v,!1)}).join(m);u.appendChild(a.createTextNode(y))}}}else if(e.type===A.IDENT_TOKEN)switch(e.value){case"open-quote":u.appendChild(a.createTextNode(xr(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(xr(s.quotes,--i.quoteDepth,!1)))}}),u.className=$i+" "+Vi,e.className+=r===gr.BEFORE?" "+$i:" "+Vi,u}}},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(gr||(gr={}));var ki,Oi=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),t.body.appendChild(n),n},Pi=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=i.onreadystatechange=function(){r.onload=t.onload=i.onreadystatechange=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),e(t))},50)}})},Di=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);"content"!==r&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Hi=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},zi=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Ki=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},$i="___html2canvas___pseudoelement_before",Vi="___html2canvas___pseudoelement_after",ji=function(t){Gi(t,"."+$i+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Vi+':after{\n    content: "" !important;\n    display: none !important;\n}')},Gi=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}};!function(t){t[t.VECTOR=0]="VECTOR",t[t.BEZIER_CURVE=1]="BEZIER_CURVE"}(ki||(ki={}));var qi,Xi=function(t,e){return t.length===e.length&&t.some(function(t,n){return t===e[n]})},Wi=function(t,e,n,r,i){return t.map(function(t,o){switch(o){case 0:return t.add(e,n);case 1:return t.add(e+r,n);case 2:return t.add(e+r,n+i);case 3:return t.add(e,n+i)}return t})},Yi=function(){function t(t,e){this.type=ki.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Ji=function(t,e,n){return new Yi(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Zi=function(){function t(t,e,n,r){this.type=ki.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Ji(this.start,this.startControl,e),i=Ji(this.startControl,this.endControl,e),o=Ji(this.endControl,this.end,e),a=Ji(r,i,e),s=Ji(i,o,e),u=Ji(a,s,e);return n?new t(this.start,r,a,u):new t(u,s,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),to=function(t){return t.type===ki.BEZIER_CURVE},eo=function(){return function(t){var e=t.styles,n=t.bounds,r=Ot(e.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=Ot(e.borderTopRightRadius,n.width,n.height),s=a[0],u=a[1],l=Ot(e.borderBottomRightRadius,n.width,n.height),c=l[0],h=l[1],d=Ot(e.borderBottomLeftRadius,n.width,n.height),f=d[0],p=d[1],A=[];A.push((i+s)/n.width),A.push((f+c)/n.width),A.push((o+p)/n.height),A.push((u+h)/n.height);var g=Math.max.apply(Math,A);g>1&&(i/=g,o/=g,s/=g,u/=g,c/=g,h/=g,f/=g,p/=g);var v=n.width-s,m=n.height-h,y=n.width-c,b=n.height-p,_=e.borderTopWidth,w=e.borderRightWidth,x=e.borderBottomWidth,C=e.borderLeftWidth,E=Pt(e.paddingTop,t.bounds.width),B=Pt(e.paddingRight,t.bounds.width),N=Pt(e.paddingBottom,t.bounds.width),T=Pt(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=i>0||o>0?no(n.left,n.top,i,o,qi.TOP_LEFT):new Yi(n.left,n.top),this.topRightBorderBox=s>0||u>0?no(n.left+v,n.top,s,u,qi.TOP_RIGHT):new Yi(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||h>0?no(n.left+y,n.top+m,c,h,qi.BOTTOM_RIGHT):new Yi(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||p>0?no(n.left,n.top+b,f,p,qi.BOTTOM_LEFT):new Yi(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?no(n.left+C,n.top+_,Math.max(0,i-C),Math.max(0,o-_),qi.TOP_LEFT):new Yi(n.left+C,n.top+_),this.topRightPaddingBox=s>0||u>0?no(n.left+Math.min(v,n.width+C),n.top+_,v>n.width+C?0:s-C,u-_,qi.TOP_RIGHT):new Yi(n.left+n.width-w,n.top+_),this.bottomRightPaddingBox=c>0||h>0?no(n.left+Math.min(y,n.width-C),n.top+Math.min(m,n.height+_),Math.max(0,c-w),h-x,qi.BOTTOM_RIGHT):new Yi(n.left+n.width-w,n.top+n.height-x),this.bottomLeftPaddingBox=f>0||p>0?no(n.left+C,n.top+b,Math.max(0,f-C),p-x,qi.BOTTOM_LEFT):new Yi(n.left+C,n.top+n.height-x),this.topLeftContentBox=i>0||o>0?no(n.left+C+T,n.top+_+E,Math.max(0,i-(C+T)),Math.max(0,o-(_+E)),qi.TOP_LEFT):new Yi(n.left+C+T,n.top+_+E),this.topRightContentBox=s>0||u>0?no(n.left+Math.min(v,n.width+C+T),n.top+_+E,v>n.width+C+T?0:s-C+T,u-(_+E),qi.TOP_RIGHT):new Yi(n.left+n.width-(w+B),n.top+_+E),this.bottomRightContentBox=c>0||h>0?no(n.left+Math.min(y,n.width-(C+T)),n.top+Math.min(m,n.height+_+E),Math.max(0,c-(w+B)),h-(x+N),qi.BOTTOM_RIGHT):new Yi(n.left+n.width-(w+B),n.top+n.height-(x+N)),this.bottomLeftContentBox=f>0||p>0?no(n.left+C+T,n.top+b,Math.max(0,f-(C+T)),p-(x+N),qi.BOTTOM_LEFT):new Yi(n.left+C+T,n.top+n.height-(x+N))}}();!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qi||(qi={}));var no=function(t,e,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,u=t+n,l=e+r;switch(i){case qi.TOP_LEFT:return new Zi(new Yi(t,l),new Yi(t,l-s),new Yi(u-a,e),new Yi(u,e));case qi.TOP_RIGHT:return new Zi(new Yi(t,e),new Yi(t+a,e),new Yi(u,l-s),new Yi(u,l));case qi.BOTTOM_RIGHT:return new Zi(new Yi(u,e),new Yi(u,e+s),new Yi(t+a,l),new Yi(t,l));case qi.BOTTOM_LEFT:default:return new Zi(new Yi(u,l),new Yi(u-a,l),new Yi(t,e+s),new Yi(t,e))}},ro=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},io=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},oo=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},ao=function(){return function(t,e,n){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=n,this.target=6}}(),so=function(){return function(t,e){this.type=1,this.target=e,this.path=t}}(),uo=function(t){return 0===t.type},lo=function(t){return 1===t.type},co=function(){return function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),ho=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new eo(t),null!==t.styles.transform){var n=t.bounds.left+t.styles.transformOrigin[0].number,r=t.bounds.top+t.styles.transformOrigin[1].number,i=t.styles.transform;this.effects.push(new ao(n,r,i))}if(t.styles.overflowX!==In.VISIBLE){var o=ro(this.curves),a=oo(this.curves);Xi(o,a)?this.effects.push(new so(o,6)):(this.effects.push(new so(o,2)),this.effects.push(new so(a,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==In.VISIBLE){var e=ro(this.curves),n=oo(this.curves);Xi(e,n)||t.push(new so(n,6))}return t},t}(),fo=function(t,e,n,r){t.container.elements.forEach(function(i){var o=mr(i.flags,4),a=mr(i.flags,2),s=new ho(i,t.getParentEffects());mr(i.styles.display,2048)&&r.push(s);var u=mr(i.flags,8)?[]:r;if(o||a){var l=o||i.styles.isPositioned()?n:e,c=new co(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var d=0;l.negativeZIndex.some(function(t,e){return h>t.element.container.styles.zIndex.order&&(d=e,!0)}),l.negativeZIndex.splice(d,0,c)}else if(h>0){var f=0;l.positiveZIndex.some(function(t,e){return h>t.element.container.styles.zIndex.order&&(f=e+1,!0)}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);fo(s,c,o?c:n,u)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),fo(s,e,n,u);mr(i.flags,8)&&po(i,u)})},po=function(t,e){for(var n=t instanceof $r?t.start:1,r=t instanceof $r&&t.reversed,i=0;i<e.length;i++){var o=e[i];o.container instanceof Kr&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Li(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},Ao=function(t){var e=new ho(t,[]),n=new co(e),r=[];return fo(e,n,n,r),po(e.container,r),n},go=function(t,e){switch(e){case 0:return vo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return vo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return vo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return vo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},vo=function(t,e,n,r){var i=[];return to(t)?i.push(t.subdivide(.5,!1)):i.push(t),to(n)?i.push(n.subdivide(.5,!0)):i.push(n),to(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),to(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},mo=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},yo=function(t){var e=t.styles,n=t.bounds,r=Pt(e.paddingLeft,n.width),i=Pt(e.paddingRight,n.width),o=Pt(e.paddingTop,n.width),a=Pt(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+o+a))},bo=function(t,e){return 0===t?e.bounds:2===t?yo(e):mo(e)},_o=function(t,e){return t===Zt.BORDER_BOX?e.bounds:t===Zt.CONTENT_BOX?yo(e):mo(e)},wo=function(t,e,n){var r=bo(Bo(t.styles.backgroundOrigin,e),t),i=_o(Bo(t.styles.backgroundClip,e),t),o=Eo(Bo(t.styles.backgroundSize,e),n,r),a=o[0],s=o[1],u=Ot(Bo(t.styles.backgroundPosition,e),r.width-a,r.height-s);return[No(Bo(t.styles.backgroundRepeat,e),u,o,r,i),Math.round(r.left+u[0]),Math.round(r.top+u[1]),a,s]},xo=function(t){return Et(t)&&t.value===ze.AUTO},Co=function(t){return"number"==typeof t},Eo=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1];if(Ut(a)&&s&&Ut(s))return[Pt(a,n.width),Pt(s,n.height)];var u=Co(o);if(Et(a)&&(a.value===ze.CONTAIN||a.value===ze.COVER))return Co(o)?n.width/n.height<o!=(a.value===ze.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var l=Co(r),c=Co(i),h=l||c;if(xo(a)&&(!s||xo(s)))return l&&c?[r,i]:u||h?h&&u?[l?r:i*o,c?i:r/o]:[l?r:n.width,c?i:n.height]:[n.width,n.height];if(u){var d=0,f=0;return Ut(a)?d=Pt(a,n.width):Ut(s)&&(f=Pt(s,n.height)),xo(a)?d=f*o:s&&!xo(s)||(f=d/o),[d,f]}var p=null,A=null;if(Ut(a)?p=Pt(a,n.width):s&&Ut(s)&&(A=Pt(s,n.height)),null===p||s&&!xo(s)||(A=l&&c?p/r*i:n.height),null!==A&&xo(a)&&(p=l&&c?A/i*r:n.width),null!==p&&null!==A)return[p,A];throw new Error("Unable to calculate background-size for element")},Bo=function(t,e){var n=t[e];return void 0===n?t[0]:n},No=function(t,e,n,r,i){var o=e[0],a=e[1],s=n[0],u=n[1];switch(t){case Re.REPEAT_X:return[new Yi(Math.round(r.left),Math.round(r.top+a)),new Yi(Math.round(r.left+r.width),Math.round(r.top+a)),new Yi(Math.round(r.left+r.width),Math.round(u+r.top+a)),new Yi(Math.round(r.left),Math.round(u+r.top+a))];case Re.REPEAT_Y:return[new Yi(Math.round(r.left+o),Math.round(r.top)),new Yi(Math.round(r.left+o+s),Math.round(r.top)),new Yi(Math.round(r.left+o+s),Math.round(r.height+r.top)),new Yi(Math.round(r.left+o),Math.round(r.height+r.top))];case Re.NO_REPEAT:return[new Yi(Math.round(r.left+o),Math.round(r.top+a)),new Yi(Math.round(r.left+o+s),Math.round(r.top+a)),new Yi(Math.round(r.left+o+s),Math.round(r.top+a+u)),new Yi(Math.round(r.left+o),Math.round(r.top+a+u))];default:return[new Yi(Math.round(i.left),Math.round(i.top)),new Yi(Math.round(i.left+i.width),Math.round(i.top)),new Yi(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Yi(Math.round(i.left),Math.round(i.height+i.top))]}},To=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),Io=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.fontMetrics=new To(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],be.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){for(var n=this;this._activeEffects.length;)this.popEffect();t.filter(function(t){return mr(t.target,e)}).forEach(function(t){return n.applyEffect(t)})},t.prototype.applyEffect=function(t){this.ctx.save(),uo(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),lo(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(t){return e(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(t,e){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):c(t.text).map(function(t){return h(t)}).reduce(function(e,r){return n.ctx.fillText(r,e,t.bounds.top+t.bounds.height),e+n.ctx.measureText(r).width},t.bounds.left)},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),n=t.fontFamily.join(", "),r=xt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},t.prototype.renderTextNode=function(t,r){return e(this,void 0,void 0,function(){var e,i,o,a,s=this;return n(this,function(n){return e=this.createFontStyle(r),i=e[0],o=e[1],a=e[2],this.ctx.font=i,t.textBounds.forEach(function(t){s.ctx.fillStyle=jt(r.color),s.renderTextWithLetterSpacing(t,r.letterSpacing);var e=r.textShadow;e.length&&t.text.trim().length&&(e.slice(0).reverse().forEach(function(e){s.ctx.shadowColor=jt(e.color),s.ctx.shadowOffsetX=e.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=e.offsetY.number*s.options.scale,s.ctx.shadowBlur=e.blur.number,s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)}),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),r.textDecorationLine.length&&(s.ctx.fillStyle=jt(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(e){switch(e){case 1:var n=s.fontMetrics.getMetrics(o,a).baseline;s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+n),t.bounds.width,1);break;case 2:s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(o,a).middle;s.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+r),t.bounds.width,1)}}))}),[2]})})},t.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=yo(t),i=oo(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return e(this,void 0,void 0,function(){var e,i,o,a,u,l,c,h,d,f,p,A,g,v,m,y,b,_;return n(this,function(n){switch(n.label){case 0:this.applyEffects(r.effects,4),e=r.container,i=r.curves,o=e.styles,a=0,u=e.textNodes,n.label=1;case 1:return a<u.length?(l=u[a],[4,this.renderTextNode(l,o)]):[3,4];case 2:n.sent(),n.label=3;case 3:return a++,[3,1];case 4:if(!(e instanceof Dr))return[3,8];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.options.cache.match(e.src)];case 6:return m=n.sent(),this.renderReplacedElement(e,i,m),[3,8];case 7:return c=n.sent(),be.getInstance(this.options.id).error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Hr&&this.renderReplacedElement(e,i,e.canvas),!(e instanceof zr))return[3,12];n.label=9;case 9:return n.trys.push([9,11,,12]),[4,this.options.cache.match(e.svg)];case 10:return m=n.sent(),this.renderReplacedElement(e,i,m),[3,12];case 11:return h=n.sent(),be.getInstance(this.options.id).error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof ni&&e.tree?(d=new t({id:this.options.id,scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:e.width,height:e.height,cache:this.options.cache,windowWidth:e.width,windowHeight:e.height}),[4,d.render(e.tree)]):[3,14];case 13:f=n.sent(),e.width&&e.height&&this.ctx.drawImage(f,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),n.label=14;case 14:if(e instanceof Jr&&(p=Math.min(e.bounds.width,e.bounds.height),e.type===Xr?e.checked&&(this.ctx.save(),this.path([new Yi(e.bounds.left+.39363*p,e.bounds.top+.79*p),new Yi(e.bounds.left+.16*p,e.bounds.top+.5549*p),new Yi(e.bounds.left+.27347*p,e.bounds.top+.44071*p),new Yi(e.bounds.left+.39694*p,e.bounds.top+.5649*p),new Yi(e.bounds.left+.72983*p,e.bounds.top+.23*p),new Yi(e.bounds.left+.84*p,e.bounds.top+.34085*p),new Yi(e.bounds.left+.39363*p,e.bounds.top+.79*p)]),this.ctx.fillStyle=jt(707406591),this.ctx.fill(),this.ctx.restore()):e.type===Wr&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+p/2,e.bounds.top+p/2,p/4,0,2*Math.PI,!0),this.ctx.fillStyle=jt(707406591),this.ctx.fill(),this.ctx.restore())),Fo(e)&&e.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=jt(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Mo(e.styles.textAlign),_=yo(e),A=0,e.styles.textAlign){case On.CENTER:A+=_.width/2;break;case On.RIGHT:A+=_.width}g=_.add(A,0,0,-_.height/2+1),this.ctx.save(),this.path([new Yi(_.left,_.top),new Yi(_.left+_.width,_.top),new Yi(_.left+_.width,_.top+_.height),new Yi(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fr(e.value,g),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!mr(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if((v=e.styles.listStyleImage).type!==te.URL)return[3,18];m=void 0,y=v.url,n.label=15;case 15:return n.trys.push([15,17,,18]),[4,this.options.cache.match(y)];case 16:return m=n.sent(),this.ctx.drawImage(m,e.bounds.left-(m.width+10),e.bounds.top),[3,18];case 17:return b=n.sent(),be.getInstance(this.options.id).error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&e.styles.listStyleType!==Nn.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=jt(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new s(e.bounds.left,e.bounds.top+Pt(e.styles.paddingTop,e.bounds.width),e.bounds.width,En(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fr(r.listValue,_),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),n.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(t){return e(this,void 0,void 0,function(){var e,r,i,o,a,s,u,l,c,h,d,f,p,A,g;return n(this,function(n){switch(n.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:n.sent(),e=0,r=t.negativeZIndex,n.label=2;case 2:return e<r.length?(g=r[e],[4,this.renderStack(g)]):[3,5];case 3:n.sent(),n.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:n.sent(),i=0,o=t.nonInlineLevel,n.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:n.sent(),n.label=9;case 9:return i++,[3,7];case 10:a=0,s=t.nonPositionedFloats,n.label=11;case 11:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,14];case 12:n.sent(),n.label=13;case 13:return a++,[3,11];case 14:u=0,l=t.nonPositionedInlineLevel,n.label=15;case 15:return u<l.length?(g=l[u],[4,this.renderStack(g)]):[3,18];case 16:n.sent(),n.label=17;case 17:return u++,[3,15];case 18:c=0,h=t.inlineLevel,n.label=19;case 19:return c<h.length?(g=h[c],[4,this.renderNode(g)]):[3,22];case 20:n.sent(),n.label=21;case 21:return c++,[3,19];case 22:d=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,n.label=23;case 23:return d<f.length?(g=f[d],[4,this.renderStack(g)]):[3,26];case 24:n.sent(),n.label=25;case 25:return d++,[3,23];case 26:p=0,A=t.positiveZIndex,n.label=27;case 27:return p<A.length?(g=A[p],[4,this.renderStack(g)]):[3,30];case 28:n.sent(),n.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach(function(t,n){var r=to(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),to(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},t.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},t.prototype.resizeImage=function(t,e,n){if(t.width===e&&t.height===n)return t;var r=this.canvas.ownerDocument.createElement("canvas");return r.width=e,r.height=n,r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),r},t.prototype.renderBackgroundImage=function(t){return e(this,void 0,void 0,function(){var e,r,i,o,a,s;return n(this,function(u){switch(u.label){case 0:e=t.styles.backgroundImage.length-1,r=function(r){var o,a,s,u,l,c,h,d,f,p,A,g,v,m,y,b,_,w,x,C,E,B,N,T,I,F,S,M,U,Q,L,R;return n(this,function(n){switch(n.label){case 0:if(r.type!==te.URL)return[3,5];o=void 0,a=r.url,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i.options.cache.match(a)];case 2:return o=n.sent(),[3,4];case 3:return s=n.sent(),be.getInstance(i.options.id).error("Error loading background-image "+a),[3,4];case 4:return o&&(u=wo(t,e,[o.width,o.height,o.width/o.height]),_=u[0],N=u[1],T=u[2],C=u[3],E=u[4],y=i.ctx.createPattern(i.resizeImage(o,C,E),"repeat"),i.renderRepeat(_,y,N,T)),[3,6];case 5:Ue(r)?(l=wo(t,e,[null,null,null]),_=l[0],N=l[1],T=l[2],C=l[3],E=l[4],c=ae(r.angle,C,E),h=c[0],d=c[1],f=c[2],p=c[3],A=c[4],(g=document.createElement("canvas")).width=C,g.height=E,v=g.getContext("2d"),m=v.createLinearGradient(d,p,f,A),ie(r.stops,h).forEach(function(t){return m.addColorStop(t.stop,jt(t.color))}),v.fillStyle=m,v.fillRect(0,0,C,E),y=i.ctx.createPattern(g,"repeat"),i.renderRepeat(_,y,N,T)):Qe(r)&&(b=wo(t,e,[null,null,null]),_=b[0],w=b[1],x=b[2],C=b[3],E=b[4],B=0===r.position.length?[Rt]:r.position,N=Pt(B[0],C),T=Pt(B[B.length-1],E),I=le(r,N,T,C,E),F=I[0],S=I[1],F>0&&F>0&&(M=i.ctx.createRadialGradient(w+N,x+T,0,w+N,x+T,F),ie(r.stops,2*F).forEach(function(t){return M.addColorStop(t.stop,jt(t.color))}),i.path(_),i.ctx.fillStyle=M,F!==S?(U=t.bounds.left+.5*t.bounds.width,Q=t.bounds.top+.5*t.bounds.height,R=1/(L=S/F),i.ctx.save(),i.ctx.translate(U,Q),i.ctx.transform(1,0,0,L,0,0),i.ctx.translate(-U,-Q),i.ctx.fillRect(w,R*(x-Q)+Q,C,E*R),i.ctx.restore()):i.ctx.fill())),n.label=6;case 6:return e--,[2]}})},i=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<a.length?(s=a[o],[5,r(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderBorder=function(t,r,i){return e(this,void 0,void 0,function(){return n(this,function(e){return this.path(go(i,r)),this.ctx.fillStyle=jt(t),this.ctx.fill(),[2]})})},t.prototype.renderNodeBackgroundAndBorders=function(t){return e(this,void 0,void 0,function(){var e,r,i,o,a,s,u,l,c=this;return n(this,function(n){switch(n.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,r=!Vt(e.backgroundColor)||e.backgroundImage.length,i=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],o=So(Bo(e.backgroundClip,0),t.curves),r||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Vt(e.backgroundColor)||(this.ctx.fillStyle=jt(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:n.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){c.ctx.save();var n=ro(t.curves),r=e.inset?0:1e4,i=Wi(n,-r+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=e.offsetX.number+r,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=jt(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?jt(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),n.label=2;case 2:a=0,s=0,u=i,n.label=3;case 3:return s<u.length?(l=u[s]).style===Ve.NONE||Vt(l.color)?[3,5]:[4,this.renderBorder(l.color,a++,t.curves)]:[3,6];case 4:n.sent(),n.label=5;case 5:return s++,[3,3];case 6:return[2]}})})},t.prototype.render=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=jt(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),e=Ao(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}})})},t}(),Fo=function(t){return t instanceof ti||(t instanceof Zr||t instanceof Jr&&t.type!==Wr&&t.type!==Xr)},So=function(t,e){switch(t){case Zt.BORDER_BOX:return ro(e);case Zt.CONTENT_BOX:return io(e);case Zt.PADDING_BOX:default:return oo(e)}},Mo=function(t){switch(t){case On.CENTER:return"center";case On.RIGHT:return"right";case On.LEFT:default:return"left"}},Uo=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),be.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return e(this,void 0,void 0,function(){var e,r;return n(this,function(n){switch(n.label){case 0:return e=ve(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,Qo(e)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=jt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(),Qo=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},Lo=function(t){return $t.parse(wt.create(t).parseComponentValue())};_e.setContext(window);var Ro=function(t,r){return e(void 0,void 0,void 0,function(){var e,i,o,c,h,d,f,p,A,g,v,m,y,b,_,w,x,C,E,B,N,T,I,F,S;return n(this,function(n){switch(n.label){case 0:if(!(e=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=e.defaultView))throw new Error("Document is not attached to a Window");return o=(Math.round(1e3*Math.random())+Date.now()).toString(16),c=vi(t)||Ai(t)?l(e):u(t),h=c.width,d=c.height,f=c.left,p=c.top,A={allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},g=a({},A,r),v={backgroundColor:"#ffffff",cache:r.cache?r.cache:_e.create(o,g),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:i.devicePixelRatio||1,windowWidth:i.innerWidth,windowHeight:i.innerHeight,scrollX:i.pageXOffset,scrollY:i.pageYOffset,x:f,y:p,width:Math.ceil(h),height:Math.ceil(d),id:o},m=a({},v,g,r),y=new s(m.scrollX,m.scrollY,m.windowWidth,m.windowHeight),be.create(o),be.getInstance(o).debug("Starting document clone"),b=new Ri(t,{id:o,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:m.foreignObjectRendering,copyStyles:m.foreignObjectRendering}),(_=b.clonedReferenceElement)?[4,b.toIFrame(e,y)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=n.sent(),x=e.documentElement?Lo(getComputedStyle(e.documentElement).backgroundColor):Jt.TRANSPARENT,C=e.body?Lo(getComputedStyle(e.body).backgroundColor):Jt.TRANSPARENT,E=r.backgroundColor,B="string"==typeof E?Lo(E):4294967295,N=t===e.documentElement?Vt(x)?Vt(C)?B:C:x:B,T={id:o,cache:m.cache,backgroundColor:N,scale:m.scale,x:m.x,y:m.y,scrollX:m.scrollX,scrollY:m.scrollY,width:m.width,height:m.height,windowWidth:m.windowWidth,windowHeight:m.windowHeight},m.foreignObjectRendering?(be.getInstance(o).debug("Document cloned, using foreign object rendering"),S=new Uo(T),[4,S.render(_)]):[3,3];case 2:return I=n.sent(),[3,5];case 3:return be.getInstance(o).debug("Document cloned, using computed rendering"),_e.attachInstance(m.cache),be.getInstance(o).debug("Starting DOM parsing"),F=ai(_),_e.detachInstance(),N===F.styles.backgroundColor&&(F.styles.backgroundColor=Jt.TRANSPARENT),be.getInstance(o).debug("Starting renderer"),S=new Io(T),[4,S.render(F)];case 4:I=n.sent(),n.label=5;case 5:return!0===m.removeContainer&&(ko(w)||be.getInstance(o).error("Cannot detach cloned iframe as it is not in the DOM anymore")),be.getInstance(o).debug("Finished rendering"),be.destroy(o),_e.destroy(o),[2,I]}})})},ko=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)};return function(t,e){return void 0===e&&(e={}),Ro(t,e)}});var saveAs=saveAs||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){s(t)}}},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(s,h,d){d||(s=c(s));var f,p=this,A="application/octet-stream"===s.type,g=function(){l(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return f=e().createObjectURL(s),void setTimeout(function(){n.href=f,n.download=h,i(n),g(),u(f),p.readyState=p.DONE});!function(){if((a||A&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,g()},n.readAsDataURL(s),void(p.readyState=p.INIT)}f||(f=e().createObjectURL(s)),A?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),p.readyState=p.DONE,g(),u(f)}()},d=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,e,n){return new h(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Cgszrender={})}(this,function(t){"use strict";function e(t){if(null==t||"object"!=typeof t)return t;var n=t,r=wr.call(t);if("[object Array]"===r){n=[];for(var i=0,o=t.length;i<o;i++)n[i]=e(t[i])}else if(_r[r]){var a=t.constructor;if(t.constructor.from)n=a.from(t);else{n=new a(t.length);for(var i=0,o=t.length;i<o;i++)n[i]=e(t[i])}}else if(!br[r]&&!w(t)&&!m(t)){n={};for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]))}return n}function n(t,r,i){if(!g(r)||!g(t))return i?e(r):t;for(var o in r)if(r.hasOwnProperty(o)){var a=t[o],s=r[o];!g(s)||!g(a)||f(s)||f(a)||m(s)||m(a)||v(s)||v(a)||w(s)||w(a)?!i&&o in t||(t[o]=e(r[o],!0)):n(a,s,i)}return t}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function o(){return Sr||(Sr=Fr().getContext("2d")),Sr}function a(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function s(t,e){function n(){}var r=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var i in r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e}function u(t,e,n){i(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function l(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function c(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Cr)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function h(t,e,n){if(t&&e){if(t.map&&t.map===Nr)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}}function d(t,e){var n=Br.call(arguments,2);return function(){return t.apply(e,n.concat(Br.call(arguments)))}}function f(t){return"[object Array]"===wr.call(t)}function p(t){return"function"==typeof t}function A(t){return"[object String]"===wr.call(t)}function g(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function v(t){return!!br[wr.call(t)]}function m(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function y(t,e){return null!=t?t:e}function b(t,e,n){return null!=t?t:null!=e?e:n}function _(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function w(t){return t[Mr]}function x(t){t&&c(t,function(t,e){this.set(e,t)},this)}function C(t,e){var n=new Qr(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function E(t){var e=new Qr(2);return e[0]=t[0],e[1]=t[1],e}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function N(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function T(t){return Math.sqrt(I(t))}function I(t){return t[0]*t[0]+t[1]*t[1]}function F(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function S(t,e){var n=T(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function M(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function U(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function Q(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function L(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function R(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function k(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function O(t,e){return{target:t,topTarget:e&&e.topTarget}}function P(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}function D(){}function H(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||zr}return!1}function z(){var t=new Vr(6);return K(t),t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function $(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function V(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t}function j(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function G(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*l,t[1]=-r*l+a*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o,t}function q(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function X(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*s-a*i)*u,t[5]=(o*i-n*s)*u,t):null}function W(t){return t>qr||t<-qr}function Y(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function J(t){return(t=Math.round(t))<0?0:t>255?255:t}function Z(t){return(t=Math.round(t))<0?0:t>360?360:t}function tt(t){return t<0?0:t>1?1:t}function et(t){return J(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function nt(t){return tt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function rt(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function it(t,e,n){return t+(e-t)*n}function ot(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function at(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function st(t,e){ai&&at(ai,e),ai=oi.put(t,ai||e.slice())}function ut(t,e){if(t){e=e||[];var n=oi.get(t);if(n)return at(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in ii)return at(e,ii[r]),st(t,e),e;if("#"!==r.charAt(0)){var i=r.indexOf("("),o=r.indexOf(")");if(-1!==i&&o+1===r.length){var a=r.substr(0,i),s=r.substr(i+1,o-(i+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return void ot(e,0,0,0,1);u=nt(s.pop());case"rgb":return 3!==s.length?void ot(e,0,0,0,1):(ot(e,et(s[0]),et(s[1]),et(s[2]),u),st(t,e),e);case"hsla":return 4!==s.length?void ot(e,0,0,0,1):(s[3]=nt(s[3]),lt(s,e),st(t,e),e);case"hsl":return 3!==s.length?void ot(e,0,0,0,1):(lt(s,e),st(t,e),e);default:return}}ot(e,0,0,0,1)}else{if(4===r.length)return(l=parseInt(r.substr(1),16))>=0&&l<=4095?(ot(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),st(t,e),e):void ot(e,0,0,0,1);if(7===r.length){var l=parseInt(r.substr(1),16);return l>=0&&l<=16777215?(ot(e,(16711680&l)>>16,(65280&l)>>8,255&l,1),st(t,e),e):void ot(e,0,0,0,1)}}}}function lt(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=nt(t[1]),i=nt(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return e=e||[],ot(e,J(255*rt(a,o,n+1/3)),J(255*rt(a,o,n)),J(255*rt(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function ct(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a,l=(s+a)/2;if(0===u)e=0,n=0;else{n=l<.5?u/(s+a):u/(2-s-a);var c=((s-r)/6+u/2)/u,h=((s-i)/6+u/2)/u,d=((s-o)/6+u/2)/u;r===s?e=d-h:i===s?e=1/3+c-d:o===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,l];return null!=t[3]&&f.push(t[3]),f}}function ht(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],u=r-i;return n[0]=J(it(a[0],s[0],u)),n[1]=J(it(a[1],s[1],u)),n[2]=J(it(a[2],s[2],u)),n[3]=tt(it(a[3],s[3],u)),n}}function dt(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=ut(e[i]),s=ut(e[o]),u=r-i,l=ft([J(it(a[0],s[0],u)),J(it(a[1],s[1],u)),J(it(a[2],s[2],u)),tt(it(a[3],s[3],u))],"rgba");return n?{color:l,leftIndex:i,rightIndex:o,value:r}:l}}function ft(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function pt(t,e){return t[e]}function At(t,e,n){t[e]=n}function gt(t,e,n){return(e-t)*n+t}function vt(t,e,n){return n>.5?e:t}function mt(t,e,n,r,i){var o=t.length;if(1==i)for(s=0;s<o;s++)r[s]=gt(t[s],e[s],n);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var u=0;u<a;u++)r[s][u]=gt(t[s][u],e[s][u],n)}function yt(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(a=r;a<i;a++)t.push(1===n?e[a]:ci.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function bt(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(o=0;o<r;o++)if(t[o]!==e[o])return!1}else for(var i=t[0].length,o=0;o<r;o++)for(var a=0;a<i;a++)if(t[o][a]!==e[o][a])return!1;return!0}function _t(t,e,n,r,i,o,a,s,u){var l=t.length;if(1==u)for(h=0;h<l;h++)s[h]=wt(t[h],e[h],n[h],r[h],i,o,a);else for(var c=t[0].length,h=0;h<l;h++)for(var d=0;d<c;d++)s[h][d]=wt(t[h][d],e[h][d],n[h][d],r[h][d],i,o,a)}function wt(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function xt(t){if(l(t)){var e=t.length;if(l(t[0])){for(var n=[],r=0;r<e;r++)n.push(ci.call(t[r]));return n}return ci.call(t)}return t}function Ct(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Et(t){var e=t[t.length-1].value;return l(e&&e[0])?2:1}function Bt(t,e,n,r,i,o){var a=t._getter,s=t._setter,u="spline"===e,c=r.length;if(c){var h,d=l(r[0].value),f=!1,p=!1,A=d?Et(r):0;r.sort(function(t,e){return t.time-e.time}),h=r[c-1].time;for(var g=[],v=[],m=r[0].value,y=!0,b=0;b<c;b++){g.push(r[b].time/h);var _=r[b].value;if(d&&bt(_,m,A)||!d&&_===m||(y=!1),m=_,"string"==typeof _){var w=ut(_);w?(_=w,f=!0):p=!0}v.push(_)}if(o||!y){for(var x=v[c-1],b=0;b<c-1;b++)d?yt(v[b],x,A):!isNaN(v[b])||isNaN(x)||p||f||(v[b]=x);d&&yt(a(t._target,i),x,A);var C,E,B,N,T,I,F=0,S=0;if(f)var M=[0,0,0,0];var U=new Y({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<S){for(n=C=Math.min(F+1,c-1);n>=0&&!(g[n]<=e);n--);n=Math.min(n,c-2)}else{for(n=F;n<c&&!(g[n]>e);n++);n=Math.min(n-1,c-2)}F=n,S=e;var r=g[n+1]-g[n];if(0!==r)if(E=(e-g[n])/r,u)if(N=v[n],B=v[0===n?n:n-1],T=v[n>c-2?c-1:n+1],I=v[n>c-3?c-1:n+2],d)_t(B,N,T,I,E,E*E,E*E*E,a(t,i),A);else{if(f)o=_t(B,N,T,I,E,E*E,E*E*E,M,1),o=Ct(M);else{if(p)return vt(N,T,E);o=wt(B,N,T,I,E,E*E,E*E*E)}s(t,i,o)}else if(d)mt(v[n],v[n+1],E,a(t,i),A);else{var o;if(f)mt(v[n],v[n+1],E,M,1),o=Ct(M);else{if(p)return vt(v[n],v[n+1],E);o=gt(v[n],v[n+1],E)}s(t,i,o)}},ondestroy:n});return e&&"spline"!==e&&(U.easing=e),U}}}function Nt(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}function Tt(t){for(var e=0;t>=wi;)e|=1&t,t>>=1;return t+e}function It(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;Ft(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function Ft(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function St(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,u=r;s<u;)i(a,t[o=s+u>>>1])<0?u=o:s=o+1;var l=r-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function Mt(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])>0){for(s=r-i;u<s&&o(t,e[n+i+u])>0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}else{for(s=i+1;u<s&&o(t,e[n+i-u])<=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])>0?a=c+1:u=c}return u}function Ut(t,e,n,r,i,o){var a=0,s=0,u=1;if(o(t,e[n+i])<0){for(s=i+1;u<s&&o(t,e[n+i-u])<0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var l=a;a=i-u,u=i-l}else{for(s=r-i;u<s&&o(t,e[n+i+u])>=0;)a=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),a+=i,u+=i}for(a++;a<u;){var c=a+(u-a>>>1);o(t,e[n+c])<0?u=c:a=c+1}return u}function Qt(t,e){function n(n){var s=o[n],l=a[n],c=o[n+1],h=a[n+1];a[n]=l+h,n===u-3&&(o[n+1]=o[n+2],a[n+1]=a[n+2]),u--;var d=Ut(t[c],t,s,l,0,e);s+=d,0!==(l-=d)&&0!==(h=Mt(t[s+l-1],t,c,h,h-1,e))&&(l<=h?r(s,l,c,h):i(s,l,c,h))}function r(n,r,i,o){var a=0;for(a=0;a<r;a++)l[a]=t[n+a];var u=0,c=i,h=n;if(t[h++]=t[c++],0!=--o)if(1!==r){for(var d,f,p,A=s;;){d=0,f=0,p=!1;do{if(e(t[c],l[u])<0){if(t[h++]=t[c++],f++,d=0,0==--o){p=!0;break}}else if(t[h++]=l[u++],d++,f=0,1==--r){p=!0;break}}while((d|f)<A);if(p)break;do{if(0!==(d=Ut(t[c],l,u,r,0,e))){for(a=0;a<d;a++)t[h+a]=l[u+a];if(h+=d,u+=d,(r-=d)<=1){p=!0;break}}if(t[h++]=t[c++],0==--o){p=!0;break}if(0!==(f=Mt(l[u],t,c,o,0,e))){for(a=0;a<f;a++)t[h+a]=t[c+a];if(h+=f,c+=f,0===(o-=f)){p=!0;break}}if(t[h++]=l[u++],1==--r){p=!0;break}A--}while(d>=xi||f>=xi);if(p)break;A<0&&(A=0),A+=2}if((s=A)<1&&(s=1),1===r){for(a=0;a<o;a++)t[h+a]=t[c+a];t[h+o]=l[u]}else{if(0===r)throw new Error;for(a=0;a<r;a++)t[h+a]=l[u+a]}}else{for(a=0;a<o;a++)t[h+a]=t[c+a];t[h+o]=l[u]}else for(a=0;a<r;a++)t[h+a]=l[u+a]}function i(n,r,i,o){var a=0;for(a=0;a<o;a++)l[a]=t[i+a];var u=n+r-1,c=o-1,h=i+o-1,d=0,f=0;if(t[h--]=t[u--],0!=--r)if(1!==o){for(var p=s;;){var A=0,g=0,v=!1;do{if(e(l[c],t[u])<0){if(t[h--]=t[u--],A++,g=0,0==--r){v=!0;break}}else if(t[h--]=l[c--],g++,A=0,1==--o){v=!0;break}}while((A|g)<p);if(v)break;do{if(0!=(A=r-Ut(l[c],t,n,r,r-1,e))){for(r-=A,f=(h-=A)+1,d=(u-=A)+1,a=A-1;a>=0;a--)t[f+a]=t[d+a];if(0===r){v=!0;break}}if(t[h--]=l[c--],1==--o){v=!0;break}if(0!=(g=o-Mt(t[u],l,0,o,o-1,e))){for(o-=g,f=(h-=g)+1,d=(c-=g)+1,a=0;a<g;a++)t[f+a]=l[d+a];if(o<=1){v=!0;break}}if(t[h--]=t[u--],0==--r){v=!0;break}p--}while(A>=xi||g>=xi);if(v)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===o){for(f=(h-=r)+1,d=(u-=r)+1,a=r-1;a>=0;a--)t[f+a]=t[d+a];t[h]=l[c]}else{if(0===o)throw new Error;for(d=h-(o-1),a=0;a<o;a++)t[d+a]=l[a]}}else{for(f=(h-=r)+1,d=(u-=r)+1,a=r-1;a>=0;a--)t[f+a]=t[d+a];t[h]=l[c]}else for(d=h-(o-1),a=0;a<o;a++)t[d+a]=l[a]}var o,a,s=xi,u=0,l=[];o=[],a=[],this.mergeRuns=function(){for(;u>1;){var t=u-2;if(t>=1&&a[t-1]<=a[t]+a[t+1]||t>=2&&a[t-2]<=a[t]+a[t-1])a[t-1]<a[t+1]&&t--;else if(a[t]>a[t+1])break;n(t)}},this.forceMergeRuns=function(){for(;u>1;){var t=u-2;t>0&&a[t-1]<a[t+1]&&t--,n(t)}},this.pushRun=function(t,e){o[u]=t,a[u]=e,u+=1}}function Lt(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<wi)return o=It(t,n,r,e),void St(t,n,r,n+o,e);var a=new Qt(t,e),s=Tt(i);do{if((o=It(t,n,r,e))<s){var u=i;u>s&&(u=s),St(t,n,n+u,n+o,e),o=u}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}function Rt(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function kt(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),t.createLinearGradient(r,o,i,a)}function Ot(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,u*=o),t.createRadialGradient(a,s,0,a,s,u)}function Pt(){return!1}function Dt(t,e,n){var r=Fr(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a.position="absolute",a.left=0,a.top=0,a.width=i+"px",a.height=o+"px",r.width=i*n,r.height=o*n,r.setAttribute("data-zr-dom-id",t),r}function Ht(t){if("string"==typeof t){var e=Ui.get(t);return e&&e.image}return t}function zt(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Ui.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!$t(e=o.image)&&o.pending.push(a):(!e&&(e=new Image),e.onload=Kt,Ui.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Kt(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function $t(t){return t&&t.width&&t.height}function Vt(t,e){var n=t+":"+(e=e||Oi);if(Qi[n])return Qi[n];for(var r=(t+"").split("\n"),i=0,o=0,a=r.length;o<a;o++)i=Math.max(re(r[o],e).width,i);return Li>Ri&&(Li=0,Qi={}),Li++,Qi[n]=i,i}function jt(t,e,n,r,i,o,a){return o?qt(t,e,n,r,i,o,a):Gt(t,e,n,r,i,a)}function Gt(t,e,n,r,i,o){var a=ie(t,e,i,o),s=Vt(t,e);i&&(s+=i[1]+i[3]);var u=a.outerHeight,l=new Nt(Xt(0,s,n),Wt(0,u,r),s,u);return l.lineHeight=a.lineHeight,l}function qt(t,e,n,r,i,o,a){var s=oe(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:i}),u=s.outerWidth,l=s.outerHeight;return new Nt(Xt(0,u,n),Wt(0,l,r),u,l)}function Xt(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Wt(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Yt(t,e,n){var r=e.x,i=e.y,o=e.height,a=e.width,s=o/2,u="left",l="top";switch(t){case"left":r-=n,i+=s,u="right",l="middle";break;case"right":r+=n+a,i+=s,l="middle";break;case"top":r+=a/2,i-=n,u="center",l="bottom";break;case"bottom":r+=a/2,i+=o+n,u="center";break;case"inside":r+=a/2,i+=s,u="center",l="middle";break;case"insideLeft":r+=n,i+=s,l="middle";break;case"insideRight":r+=a-n,i+=s,u="right",l="middle";break;case"insideTop":r+=a/2,i+=n,u="center";break;case"insideBottom":r+=a/2,i+=o-n,u="center",l="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=a-n,i+=n,u="right";break;case"insideBottomLeft":r+=n,i+=o-n,l="bottom";break;case"insideBottomRight":r+=a-n,i+=o-n,u="right",l="bottom"}return{x:r,y:i,textAlign:u,textVerticalAlign:l}}function Jt(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=Zt(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=te(o[a],i);return o.join("\n")}function Zt(t,e,n,i){(i=r({},i)).font=e;var n=y(n,"...");i.maxIterations=y(i.maxIterations,2);var o=i.minChar=y(i.minChar,0);i.cnCharWidth=Vt("国",e);var a=i.ascCharWidth=Vt("a",e);i.placeholder=y(i.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<o&&s>=a;u++)s-=a;var l=Vt(n);return l>s&&(n="",l=0),s=t-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function te(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=Vt(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?ee(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=Vt(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function ee(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function ne(t){return Vt("国",t)}function re(t,e){return Pi.measureText(t,e)}function ie(t,e,n,r){null!=t&&(t+="");var i=ne(e),o=t?t.split("\n"):[],a=o.length*i,s=a;if(n&&(s+=n[0]+n[2]),t&&r){var u=r.outerHeight,l=r.outerWidth;if(null!=u&&s>u)t="",o=[];else if(null!=l)for(var c=Zt(l-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),h=0,d=o.length;h<d;h++)o[h]=te(o[h],c)}return{lines:o,height:a,outerHeight:s,lineHeight:i}}function oe(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=ki.lastIndex=0;null!=(r=ki.exec(t));){var o=r.index;o>i&&ae(n,t.substring(i,o)),ae(n,r[2],r[1]),i=ki.lastIndex}i<t.length&&ae(n,t.substring(i,t.length));var a=n.lines,s=0,u=0,l=[],c=e.textPadding,h=e.truncate,d=h&&h.outerWidth,f=h&&h.outerHeight;c&&(null!=d&&(d-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2]));for(F=0;F<a.length;F++){for(var p=a[F],A=0,g=0,v=0;v<p.tokens.length;v++){var m=(S=p.tokens[v]).styleName&&e.rich[S.styleName]||{},_=S.textPadding=m.textPadding,w=S.font=m.font||e.font,x=S.textHeight=y(m.textHeight,ne(w));if(_&&(x+=_[0]+_[2]),S.height=x,S.lineHeight=b(m.textLineHeight,e.textLineHeight,x),S.textAlign=m&&m.textAlign||e.textAlign,S.textVerticalAlign=m&&m.textVerticalAlign||"middle",null!=f&&s+S.lineHeight>f)return{lines:[],width:0,height:0};S.textWidth=Vt(S.text,w);var C=m.textWidth,E=null==C||"auto"===C;if("string"==typeof C&&"%"===C.charAt(C.length-1))S.percentWidth=C,l.push(S),C=0;else{if(E){C=S.textWidth;var B=m.textBackgroundColor,N=B&&B.image;N&&$t(N=Ht(N))&&(C=Math.max(C,N.width*x/N.height))}var T=_?_[1]+_[3]:0;C+=T;var I=null!=d?d-g:null;null!=I&&I<C&&(!E||I<T?(S.text="",S.textWidth=C=0):(S.text=Jt(S.text,I-T,w,h.ellipsis,{minChar:h.minChar}),S.textWidth=Vt(S.text,w),C=S.textWidth+T))}g+=S.width=C,m&&(A=Math.max(A,S.lineHeight))}p.width=g,p.lineHeight=A,s+=A,u=Math.max(u,g)}n.outerWidth=n.width=y(e.textWidth,u),n.outerHeight=n.height=y(e.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var F=0;F<l.length;F++){var S=l[F],M=S.percentWidth;S.width=parseInt(M,10)/100*u}return n}function ae(t,e,n){for(var r=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],u={styleName:n,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[u]});else{var l=(o[o.length-1]||(o[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=u:(s||!c||r)&&l.push(u)}}}function se(t){return(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ")||t.textFont||t.font}function ue(t,e){var n,r,i,o,a=e.x,s=e.y,u=e.width,l=e.height,c=e.r;u<0&&(a+=u,u=-u),l<0&&(s+=l,l=-l),"number"==typeof c?n=r=i=o=c:c instanceof Array?1===c.length?n=r=i=o=c[0]:2===c.length?(n=i=c[0],r=o=c[1]):3===c.length?(n=c[0],r=o=c[1],i=c[2]):(n=c[0],r=c[1],i=c[2],o=c[3]):n=r=i=o=0;var h;n+r>u&&(n*=u/(h=n+r),r*=u/h),i+o>u&&(i*=u/(h=i+o),o*=u/h),r+i>l&&(r*=l/(h=r+i),i*=l/h),n+o>l&&(n*=l/(h=n+o),o*=l/h),t.moveTo(a+n,s),t.lineTo(a+u-r,s),0!==r&&t.quadraticCurveTo(a+u,s,a+u,s+r),t.lineTo(a+u,s+l-i),0!==i&&t.quadraticCurveTo(a+u,s+l,a+u-i,s+l),t.lineTo(a+o,s+l),0!==o&&t.quadraticCurveTo(a,s+l,a,s+l-o),t.lineTo(a,s+n),0!==n&&t.quadraticCurveTo(a,s,a+n,s)}function le(t){return ce(t),c(t.rich,ce),t}function ce(t){if(t){t.font=se(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Di[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||Hi[n]?n:"top",t.textPadding&&(t.textPadding=_(t.textPadding))}}function he(t,e,n,r,i){r.rich?fe(t,e,n,r,i):de(t,e,n,r,i)}function de(t,e,n,r,i){var o=_e(e,"font",r.font||Oi),a=r.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=ie(n,o,a,r.truncate));var u=s.outerHeight,l=s.lines,c=s.lineHeight,h=be(u,r,i),d=h.baseX,f=h.baseY,p=h.textAlign,A=h.textVerticalAlign;Ae(e,r,i,d,f);var g=Wt(f,u,A),v=d,m=g,y=ve(r);if(y||a){var b=Vt(n,o);a&&(b+=a[1]+a[3]);var _=Xt(d,b,p);y&&me(t,e,r,_,g,b,u),a&&(v=Ee(d,p,a),m+=a[0])}_e(e,"textAlign",p||"left"),_e(e,"textBaseline","middle"),_e(e,"shadowBlur",r.textShadowBlur||0),_e(e,"shadowColor",r.textShadowColor||"transparent"),_e(e,"shadowOffsetX",r.textShadowOffsetX||0),_e(e,"shadowOffsetY",r.textShadowOffsetY||0),m+=c/2;var w=r.textStrokeWidth,x=we(r.textStroke,w),C=xe(r.textFill);x&&(_e(e,"lineWidth",w),_e(e,"strokeStyle",x)),C&&_e(e,"fillStyle",C);for(var E=0;E<l.length;E++)x&&e.strokeText(l[E],v,m),C&&e.fillText(l[E],v,m),m+=c}function fe(t,e,n,r,i){var o=t.__textCotentBlock;o&&!t.__dirty||(o=t.__textCotentBlock=oe(n,r)),pe(t,e,o,r,i)}function pe(t,e,n,r,i){var o=n.width,a=n.outerWidth,s=n.outerHeight,u=r.textPadding,l=be(s,r,i),c=l.baseX,h=l.baseY,d=l.textAlign,f=l.textVerticalAlign;Ae(e,r,i,c,h);var p=Xt(c,a,d),A=Wt(h,s,f),g=p,v=A;u&&(g+=u[3],v+=u[0]);var m=g+o;ve(r)&&me(t,e,r,p,A,a,s);for(var y=0;y<n.lines.length;y++){for(var b,_=n.lines[y],w=_.tokens,x=w.length,C=_.lineHeight,E=_.width,B=0,N=g,T=m,I=x-1;B<x&&(!(b=w[B]).textAlign||"left"===b.textAlign);)ge(t,e,b,r,C,v,N,"left"),E-=b.width,N+=b.width,B++;for(;I>=0&&"right"===(b=w[I]).textAlign;)ge(t,e,b,r,C,v,T,"right"),E-=b.width,T-=b.width,I--;for(N+=(o-(N-g)-(m-T)-E)/2;B<=I;)ge(t,e,b=w[B],r,C,v,N+b.width/2,"center"),N+=b.width,B++;v+=C}}function Ae(t,e,n,r,i){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(r=n.width/2+n.x,i=n.height/2+n.y):o&&(r=o[0]+n.x,i=o[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function ge(t,e,n,r,i,o,a,s){var u=r.rich[n.styleName]||{},l=n.textVerticalAlign,c=o+i/2;"top"===l?c=o+n.height/2:"bottom"===l&&(c=o+i-n.height/2),!n.isLineHolder&&ve(u)&&me(t,e,u,"right"===s?a-n.width:"center"===s?a-n.width/2:a,c-n.height/2,n.width,n.height);var h=n.textPadding;h&&(a=Ee(a,s,h),c-=n.height/2-h[2]-n.textHeight/2),_e(e,"shadowBlur",b(u.textShadowBlur,r.textShadowBlur,0)),_e(e,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent"),_e(e,"shadowOffsetX",b(u.textShadowOffsetX,r.textShadowOffsetX,0)),_e(e,"shadowOffsetY",b(u.textShadowOffsetY,r.textShadowOffsetY,0)),_e(e,"textAlign",s),_e(e,"textBaseline","middle"),_e(e,"font",n.font||Oi);var d=we(u.textStroke||r.textStroke,p),f=xe(u.textFill||r.textFill),p=y(u.textStrokeWidth,r.textStrokeWidth);d&&(_e(e,"lineWidth",p),_e(e,"strokeStyle",d),e.strokeText(n.text,a,c)),f&&(_e(e,"fillStyle",f),e.fillText(n.text,a,c))}function ve(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function me(t,e,n,r,i,o,a){var s=n.textBackgroundColor,u=n.textBorderWidth,l=n.textBorderColor,c=A(s);if(_e(e,"shadowBlur",n.textBoxShadowBlur||0),_e(e,"shadowColor",n.textBoxShadowColor||"transparent"),_e(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),_e(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||u&&l){e.beginPath();var h=n.textBorderRadius;h?ue(e,{x:r,y:i,width:o,height:a,r:h}):e.rect(r,i,o,a),e.closePath()}if(c)_e(e,"fillStyle",s),e.fill();else if(g(s)){var d=s.image;(d=zt(d,null,t,ye,s))&&$t(d)&&e.drawImage(d,r,i,o,a)}u&&l&&(_e(e,"lineWidth",u),_e(e,"strokeStyle",l),e.stroke())}function ye(t,e){e.image=t}function be(t,e,n){var r=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+Ce(s[0],n.width),i=n.y+Ce(s[1],n.height);else{var u=Yt(s,n,e.textDistance);r=u.x,i=u.y,o=o||u.textAlign,a=a||u.textVerticalAlign}var l=e.textOffset;l&&(r+=l[0],i+=l[1])}return{baseX:r,baseY:i,textAlign:o,textVerticalAlign:a}}function _e(t,e,n){return t[e]=n,t[e]}function we(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function xe(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ce(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Ee(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Be(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Ne(t){t=t||{},vi.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Bi(t.style,this),this._rect=null,this.__clipPaths=[]}function Te(t){Ne.call(this,t)}function Ie(t){return parseInt(t,10)}function Fe(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function Se(t){t.__unusedCount++}function Me(t){1==t.__unusedCount&&t.clear()}function Ue(t,e,n){return $i.copy(t.getBoundingRect()),t.transform&&$i.applyTransform(t.transform),Vi.width=e,Vi.height=n,!$i.intersect(Vi)}function Qe(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}function Le(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}function Re(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}function ke(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function Oe(t,e,n,r){return n=n||{},r||!yr.canvasSupported?Pe(t,e,n):yr.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Pe(t,e,n),n}function Pe(t,e,n){var r=ke(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function De(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!=r?e.targetTouches[0]:e.changedTouches[0];i&&Oe(t,i,e,n)}else Oe(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&qi.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function He(t,e,n){Gi?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function ze(t,e,n){Gi?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}function Ke(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function $e(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Ve(t){return"mousewheel"===t&&yr.browser.firefox?"DOMMouseScroll":t}function je(t,e,n){var r=t._gestureMgr;"start"===n&&r.clear();var i=r.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===n&&r.clear(),i){var o=i.type;e.gestureEvent=o,t.handler.dispatchToElement({target:i.target},o,i.event)}}function Ge(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function qe(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Xe(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}c(Zi,function(e){t._handlers[e]=d(no[e],t)}),c(eo,function(e){t._handlers[e]=d(no[e],t)}),c(Ji,function(n){t._handlers[n]=e(no[n],t)})}function We(t){function e(e,n){c(e,function(e){He(t,Ve(e),n._handlers[e])},n)}Hr.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new Wi,this._handlers={},Xe(this),yr.pointerEventsSupported?e(eo,this):(yr.touchEventsSupported&&e(Zi,this),e(Ji,this))}function Ye(t,e){oo[t]=e}function Je(t){delete ao[t]}function Ze(t){return t>-co&&t<co}function tn(t){return t>co||t<-co}function en(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function nn(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function rn(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),u=3*(e-t),l=t-i,c=s*s-3*a*u,h=s*u-9*a*l,d=u*u-3*s*l,f=0;if(Ze(c)&&Ze(h))Ze(s)?o[0]=0:(C=-u/s)>=0&&C<=1&&(o[f++]=C);else{var p=h*h-4*c*d;if(Ze(p)){var A=h/c,g=-A/2;(C=-s/a+A)>=0&&C<=1&&(o[f++]=C),g>=0&&g<=1&&(o[f++]=g)}else if(p>0){var v=lo(p),m=c*s+1.5*a*(-h+v),y=c*s+1.5*a*(-h-v);(C=(-s-((m=m<0?-uo(-m,po):uo(m,po))+(y=y<0?-uo(-y,po):uo(y,po))))/(3*a))>=0&&C<=1&&(o[f++]=C)}else{var b=(2*c*s-3*a*h)/(2*lo(c*c*c)),_=Math.acos(b)/3,w=lo(c),x=Math.cos(_),C=(-s-2*w*x)/(3*a),g=(-s+w*(x+fo*Math.sin(_)))/(3*a),E=(-s+w*(x-fo*Math.sin(_)))/(3*a);C>=0&&C<=1&&(o[f++]=C),g>=0&&g<=1&&(o[f++]=g),E>=0&&E<=1&&(o[f++]=E)}}return f}function on(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,u=0;if(Ze(a))tn(o)&&(h=-s/o)>=0&&h<=1&&(i[u++]=h);else{var l=o*o-4*a*s;if(Ze(l))i[0]=-o/(2*a);else if(l>0){var c=lo(l),h=(-o+c)/(2*a),d=(-o-c)/(2*a);h>=0&&h<=1&&(i[u++]=h),d>=0&&d<=1&&(i[u++]=d)}}return u}function an(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,u=(r-n)*i+n,l=(s-a)*i+a,c=(u-s)*i+s,h=(c-l)*i+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=r}function sn(t,e,n,r,i,o,a,s,u,l,c){var h,d,f,p,A,g=.005,v=1/0;Ao[0]=u,Ao[1]=l;for(var m=0;m<1;m+=.05)go[0]=en(t,n,i,a,m),go[1]=en(e,r,o,s,m),(p=Or(Ao,go))<v&&(h=m,v=p);v=1/0;for(var y=0;y<32&&!(g<ho);y++)d=h-g,f=h+g,go[0]=en(t,n,i,a,d),go[1]=en(e,r,o,s,d),p=Or(go,Ao),d>=0&&p<v?(h=d,v=p):(vo[0]=en(t,n,i,a,f),vo[1]=en(e,r,o,s,f),A=Or(vo,Ao),f<=1&&A<v?(h=f,v=A):g*=.5);return c&&(c[0]=en(t,n,i,a,h),c[1]=en(e,r,o,s,h)),lo(v)}function un(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function ln(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function cn(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,u=0;if(Ze(o))tn(a)&&(h=-s/a)>=0&&h<=1&&(i[u++]=h);else{var l=a*a-4*o*s;if(Ze(l))(h=-a/(2*o))>=0&&h<=1&&(i[u++]=h);else if(l>0){var c=lo(l),h=(-a+c)/(2*o),d=(-a-c)/(2*o);h>=0&&h<=1&&(i[u++]=h),d>=0&&d<=1&&(i[u++]=d)}}return u}function hn(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function dn(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function fn(t,e,n,r,i,o,a,s,u){var l,c=.005,h=1/0;Ao[0]=a,Ao[1]=s;for(var d=0;d<1;d+=.05)go[0]=un(t,n,i,d),go[1]=un(e,r,o,d),(g=Or(Ao,go))<h&&(l=d,h=g);h=1/0;for(var f=0;f<32&&!(c<ho);f++){var p=l-c,A=l+c;go[0]=un(t,n,i,p),go[1]=un(e,r,o,p);var g=Or(go,Ao);if(p>=0&&g<h)l=p,h=g;else{vo[0]=un(t,n,i,A),vo[1]=un(e,r,o,A);var v=Or(vo,Ao);A<=1&&v<h?(l=A,h=v):c*=.5}}return u&&(u[0]=un(t,n,i,l),u[1]=un(e,r,o,l)),lo(h)}function pn(t,e,n,r,i,o){i[0]=mo(t,n),i[1]=mo(e,r),o[0]=yo(t,n),o[1]=yo(e,r)}function An(t,e,n,r,i,o,a,s,u,l){var c,h=on,d=en,f=h(t,n,i,a,Bo);for(u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0,c=0;c<f;c++){var p=d(t,n,i,a,Bo[c]);u[0]=mo(p,u[0]),l[0]=yo(p,l[0])}for(f=h(e,r,o,s,No),c=0;c<f;c++){var A=d(e,r,o,s,No[c]);u[1]=mo(A,u[1]),l[1]=yo(A,l[1])}u[0]=mo(t,u[0]),l[0]=yo(t,l[0]),u[0]=mo(a,u[0]),l[0]=yo(a,l[0]),u[1]=mo(e,u[1]),l[1]=yo(e,l[1]),u[1]=mo(s,u[1]),l[1]=yo(s,l[1])}function gn(t,e,n,r,i,o,a,s){var u=hn,l=un,c=yo(mo(u(t,n,i),1),0),h=yo(mo(u(e,r,o),1),0),d=l(t,n,i,c),f=l(e,r,o,h);a[0]=mo(t,i,d),a[1]=mo(e,o,f),s[0]=yo(t,i,d),s[1]=yo(e,o,f)}function vn(t,e,n,r,i,o,a,s,u){var l=L,c=R,h=Math.abs(i-o);if(h%wo<1e-4&&h>1e-4)return s[0]=t-n,s[1]=e-r,u[0]=t+n,void(u[1]=e+r);if(xo[0]=_o(i)*n+t,xo[1]=bo(i)*r+e,Co[0]=_o(o)*n+t,Co[1]=bo(o)*r+e,l(s,xo,Co),c(u,xo,Co),(i%=wo)<0&&(i+=wo),(o%=wo)<0&&(o+=wo),i>o&&!a?o+=wo:i<o&&a&&(i+=wo),a){var d=o;o=i,i=d}for(var f=0;f<o;f+=Math.PI/2)f>i&&(Eo[0]=_o(f)*n+t,Eo[1]=bo(f)*r+e,l(s,Eo,s),c(u,Eo,u))}function mn(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,u=0,l=t;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var c=(u=(e-r)/(t-n))*o-a+(l=(t*r-n*e)/(t-n));return c*c/(u*u+1)<=s/2*s/2}function yn(t,e,n,r,i,o,a,s,u,l,c){if(0===u)return!1;var h=u;return!(c>e+h&&c>r+h&&c>o+h&&c>s+h||c<e-h&&c<r-h&&c<o-h&&c<s-h||l>t+h&&l>n+h&&l>i+h&&l>a+h||l<t-h&&l<n-h&&l<i-h&&l<a-h)&&sn(t,e,n,r,i,o,a,s,l,c,null)<=h/2}function bn(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;return!(u>e+l&&u>r+l&&u>o+l||u<e-l&&u<r-l&&u<o-l||s>t+l&&s>n+l&&s>i+l||s<t-l&&s<n-l&&s<i-l)&&fn(t,e,n,r,i,o,s,u,null)<=l/2}function _n(t){return(t%=Ho)<0&&(t+=Ho),t}function wn(t,e,n,r,i,o,a,s,u){if(0===a)return!1;var l=a;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>n||c+l<n)return!1;if(Math.abs(r-i)%zo<1e-4)return!0;if(o){var h=r;r=_n(i),i=_n(h)}else r=_n(r),i=_n(i);r>i&&(i+=zo);var d=Math.atan2(u,s);return d<0&&(d+=zo),d>=r&&d<=i||d+zo>=r&&d+zo<=i}function xn(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);return 1!==s&&0!==s||(a=r<e?.5:-.5),s*(n-t)+t>i?a:0}function Cn(t,e){return Math.abs(t-e)<Vo}function En(){var t=Go[0];Go[0]=Go[1],Go[1]=t}function Bn(t,e,n,r,i,o,a,s,u,l){if(l>e&&l>r&&l>o&&l>s||l<e&&l<r&&l<o&&l<s)return 0;var c=rn(e,r,o,s,l,jo);if(0===c)return 0;for(var h,d,f=0,p=-1,A=0;A<c;A++){var g=jo[A],v=0===g||1===g?.5:1;en(t,n,i,a,g)<u||(p<0&&(p=on(e,r,o,s,Go),Go[1]<Go[0]&&p>1&&En(),h=en(e,r,o,s,Go[0]),p>1&&(d=en(e,r,o,s,Go[1]))),2==p?g<Go[0]?f+=h<e?v:-v:g<Go[1]?f+=d<h?v:-v:f+=s<d?v:-v:g<Go[0]?f+=h<e?v:-v:f+=s<h?v:-v)}return f}function Nn(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var u=cn(e,r,o,s,jo);if(0===u)return 0;var l=hn(e,r,o);if(l>=0&&l<=1){for(var c=0,h=un(e,r,o,l),d=0;d<u;d++){f=0===jo[d]||1===jo[d]?.5:1;(p=un(t,n,i,jo[d]))<a||(jo[d]<l?c+=h<e?f:-f:c+=o<h?f:-f)}return c}var f=0===jo[0]||1===jo[0]?.5:1,p=un(t,n,i,jo[0]);return p<a?0:o<e?f:-f}function Tn(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;l=Math.sqrt(n*n-s*s);jo[0]=-l,jo[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%$o<1e-4){r=0,i=$o;p=o?1:-1;return a>=jo[0]+t&&a<=jo[1]+t?p:0}if(o){var l=r;r=_n(i),i=_n(l)}else r=_n(r),i=_n(i);r>i&&(i+=$o);for(var c=0,h=0;h<2;h++){var d=jo[h];if(d+t>a){var f=Math.atan2(s,d),p=o?1:-1;f<0&&(f=$o+f),(f>=r&&f<=i||f+$o>=r&&f+$o<=i)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),c+=p)}}return c}function In(t,e,n,r,i){for(var o=0,a=0,s=0,u=0,l=0,c=0;c<t.length;){var h=t[c++];switch(h===Ko.M&&c>1&&(n||(o+=xn(a,s,u,l,r,i))),1==c&&(u=a=t[c],l=s=t[c+1]),h){case Ko.M:a=u=t[c++],s=l=t[c++];break;case Ko.L:if(n){if(mn(a,s,t[c],t[c+1],e,r,i))return!0}else o+=xn(a,s,t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Ko.C:if(n){if(yn(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else o+=Bn(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Ko.Q:if(n){if(bn(a,s,t[c++],t[c++],t[c],t[c+1],e,r,i))return!0}else o+=Nn(a,s,t[c++],t[c++],t[c],t[c+1],r,i)||0;a=t[c++],s=t[c++];break;case Ko.A:var d=t[c++],f=t[c++],p=t[c++],A=t[c++],g=t[c++],v=t[c++],m=(t[c++],1-t[c++]),y=Math.cos(g)*p+d,b=Math.sin(g)*A+f;c>1?o+=xn(a,s,y,b,r,i):(u=y,l=b);var _=(r-d)*A/p+d;if(n){if(wn(d,f,A,g,g+v,m,e,_,i))return!0}else o+=Tn(d,f,A,g,g+v,m,_,i);a=Math.cos(g+v)*p+d,s=Math.sin(g+v)*A+f;break;case Ko.R:u=a=t[c++],l=s=t[c++];var y=u+t[c++],b=l+t[c++];if(n){if(mn(u,l,y,l,e,r,i)||mn(y,l,y,b,e,r,i)||mn(y,b,u,b,e,r,i)||mn(u,b,u,l,e,r,i))return!0}else o+=xn(y,l,y,b,r,i),o+=xn(u,b,u,l,r,i);break;case Ko.Z:if(n){if(mn(a,s,u,l,e,r,i))return!0}else o+=xn(a,s,u,l,r,i);a=u,s=l}}return n||Cn(s,l)||(o+=xn(a,s,u,l,r,i)||0),0!==o}function Fn(t,e,n){return In(t,0,!1,e,n)}function Sn(t,e,n,r){return In(t,e,!0,n,r)}function Mn(t){Ne.call(this,t),this.path=null}function Un(t,e,n,r,i,o,a,s,u,l,c){var h=u*(aa/180),d=oa(h)*(t-n)/2+ia(h)*(e-r)/2,f=-1*ia(h)*(t-n)/2+oa(h)*(e-r)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=ra(p),s*=ra(p));var A=(i===o?-1:1)*ra((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,g=A*a*f/s,v=A*-s*d/a,m=(t+n)/2+oa(h)*g-ia(h)*v,y=(e+r)/2+ia(h)*g+oa(h)*v,b=la([1,0],[(d-g)/a,(f-v)/s]),_=[(d-g)/a,(f-v)/s],w=[(-1*d-g)/a,(-1*f-v)/s],x=la(_,w);ua(_,w)<=-1&&(x=aa),ua(_,w)>=1&&(x=0),0===o&&x>0&&(x-=2*aa),1===o&&x<0&&(x+=2*aa),c.addData(l,m,y,a,s,b,x,h,o)}function Qn(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<na.length;e++)n=n.replace(new RegExp(na[e],"g"),"|"+na[e]);var r,i=n.split("|"),o=0,a=0,s=new Do,u=Do.CMD;for(e=1;e<i.length;e++){var l,c=i[e],h=c.charAt(0),d=0,f=c.slice(1).replace(/e,-/g,"e-").split(",");f.length>0&&""===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var A,g,v,m,y,b,_,w=o,x=a;switch(h){case"l":o+=f[d++],a+=f[d++],l=u.L,s.addData(l,o,a);break;case"L":o=f[d++],a=f[d++],l=u.L,s.addData(l,o,a);break;case"m":o+=f[d++],a+=f[d++],l=u.M,s.addData(l,o,a),h="l";break;case"M":o=f[d++],a=f[d++],l=u.M,s.addData(l,o,a),h="L";break;case"h":o+=f[d++],l=u.L,s.addData(l,o,a);break;case"H":o=f[d++],l=u.L,s.addData(l,o,a);break;case"v":a+=f[d++],l=u.L,s.addData(l,o,a);break;case"V":a=f[d++],l=u.L,s.addData(l,o,a);break;case"C":l=u.C,s.addData(l,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),o=f[d-2],a=f[d-1];break;case"c":l=u.C,s.addData(l,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a),o+=f[d-2],a+=f[d-1];break;case"S":A=o,g=a;var C=s.len(),E=s.data;r===u.C&&(A+=o-E[C-4],g+=a-E[C-3]),l=u.C,w=f[d++],x=f[d++],o=f[d++],a=f[d++],s.addData(l,A,g,w,x,o,a);break;case"s":A=o,g=a;var C=s.len(),E=s.data;r===u.C&&(A+=o-E[C-4],g+=a-E[C-3]),l=u.C,w=o+f[d++],x=a+f[d++],o+=f[d++],a+=f[d++],s.addData(l,A,g,w,x,o,a);break;case"Q":w=f[d++],x=f[d++],o=f[d++],a=f[d++],l=u.Q,s.addData(l,w,x,o,a);break;case"q":w=f[d++]+o,x=f[d++]+a,o+=f[d++],a+=f[d++],l=u.Q,s.addData(l,w,x,o,a);break;case"T":A=o,g=a;var C=s.len(),E=s.data;r===u.Q&&(A+=o-E[C-4],g+=a-E[C-3]),o=f[d++],a=f[d++],l=u.Q,s.addData(l,A,g,o,a);break;case"t":A=o,g=a;var C=s.len(),E=s.data;r===u.Q&&(A+=o-E[C-4],g+=a-E[C-3]),o+=f[d++],a+=f[d++],l=u.Q,s.addData(l,A,g,o,a);break;case"A":v=f[d++],m=f[d++],y=f[d++],b=f[d++],_=f[d++],Un(w=o,x=a,o=f[d++],a=f[d++],b,_,v,m,y,l=u.A,s);break;case"a":v=f[d++],m=f[d++],y=f[d++],b=f[d++],_=f[d++],Un(w=o,x=a,o+=f[d++],a+=f[d++],b,_,v,m,y,l=u.A,s)}}"z"!==h&&"Z"!==h||(l=u.Z,s.addData(l)),r=l}return s.toStatic(),s}function Ln(t,e){var n=Qn(t);return e=e||{},e.buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){ea(n,t),this.dirty(!0)},e}function Rn(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?nn:en)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?nn:en)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?ln:un)(t.x1,t.cpx1,t.x2,e),(n?ln:un)(t.y1,t.cpy1,t.y2,e)]}function kn(t,e,n,r,i,o,a){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*i+e}function On(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var o=Ba(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var u=o[2*s],l=o[2*s+1],c=r[(s+1)%a];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{"spline"===i&&(r=Ea(r,n)),t.moveTo(r[0][0],r[0][1]);for(var s=1,h=r.length;s<h;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}function Pn(t){return document.createElementNS(Ga,t)}function Dn(t){return Ya(1e4*t)/1e4}function Hn(t){return t<rs&&t>-rs}function zn(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==Wa}function Kn(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==Wa}function $n(t,e){e&&Vn(t,"transform","matrix("+Xa.call(e,",")+")")}function Vn(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function jn(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function Gn(t,e,n){if(zn(e,n)){var r=n?e.textFill:e.fill;r="transparent"===r?Wa:r,"none"!==t.getAttribute("clip-path")&&r===Wa&&(r="rgba(0, 0, 0, 0.002)"),Vn(t,"fill",r),Vn(t,"fill-opacity",e.opacity)}else Vn(t,"fill",Wa);if(Kn(e,n)){var i=n?e.textStroke:e.stroke;Vn(t,"stroke",i="transparent"===i?Wa:i),Vn(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(e.strokeNoScale?e.host.getLineScale():1)),Vn(t,"paint-order","stroke"),Vn(t,"stroke-opacity",e.opacity),e.lineDash?(Vn(t,"stroke-dasharray",e.lineDash.join(",")),Vn(t,"stroke-dashoffset",Ya(e.lineDashOffset||0))):Vn(t,"stroke-dasharray",""),e.lineCap&&Vn(t,"stroke-linecap",e.lineCap),e.lineJoin&&Vn(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Vn(t,"stroke-miterlimit",e.miterLimit)}else Vn(t,"stroke",Wa)}function qn(t){for(var e=[],n=t.data,r=t.len(),i=0;i<r;){var o="",a=0;switch(n[i++]){case qa.M:o="M",a=2;break;case qa.L:o="L",a=2;break;case qa.Q:o="Q",a=4;break;case qa.C:o="C",a=6;break;case qa.A:var s=n[i++],u=n[i++],l=n[i++],c=n[i++],h=n[i++],d=n[i++],f=n[i++],p=n[i++],A=Math.abs(d),g=Hn(A%es)&&!Hn(A),v=!1;v=A>=es||!Hn(A)&&(d>-ts&&d<0||d>ts)==!!p;var m=Dn(s+l*Za(h)),y=Dn(u+c*Ja(h));g&&(d=p?es-1e-4:1e-4-es,v=!0,9===i&&e.push("M",m,y));var b=Dn(s+l*Za(h+d)),_=Dn(u+c*Ja(h+d));e.push("A",Dn(l),Dn(c),Ya(f*ns),+v,+p,b,_);break;case qa.Z:o="Z";break;case qa.R:var b=Dn(n[i++]),_=Dn(n[i++]),w=Dn(n[i++]),x=Dn(n[i++]);e.push("M",b,_,"L",b+w,_,"L",b+w,_+x,"L",b,_+x,"L",b,_)}o&&e.push(o);for(var C=0;C<a;C++)e.push(Dn(n[i++]))}return e.join(" ")}function Xn(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}function Wn(){}function Yn(t,e,n,r){for(var i=0,o=e.length,a=0,s=0;i<o;i++){var u=e[i];if(u.removed){for(var l=[],c=s;c<s+u.count;c++)l.push(c);u.indices=l,s+=u.count}else{for(var l=[],c=a;c<a+u.count;c++)l.push(c);u.indices=l,a+=u.count,u.added||(s+=u.count)}}return e}function Jn(t){return{newPos:t.newPos,components:t.components.slice(0)}}function Zn(t,e,n){this._svgRoot=t,this._tagNames="string"==typeof e?[e]:e,this._markLabel=n,this.nextId=0}function tr(t){Zn.call(this,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function er(t){Zn.call(this,t,"clipPath","__clippath_in_use__")}function nr(t){return parseInt(t,10)}function rr(t){return t instanceof Mn?is:t instanceof Te?os:t instanceof da?as:is}function ir(t,e){return e&&t&&e.parentNode!==t}function or(t,e,n){if(ir(t,e)&&n){var r=n.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function ar(t,e){if(ir(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function sr(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function ur(t){return t.__textSvgEl}function lr(t){return t.__svgEl}function cr(t){return function(){Ai('In SVG mode painter not support method "'+t+'"')}}function hr(t){return ds(t)}function dr(){if(!As&&gs){As=!0;var t=gs.styleSheets;t.length<31?gs.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}function fr(t){return parseInt(t,10)}function pr(t,e){dr(),this.root=t,this.storage=e;var n=document.createElement("div"),r=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=r,this._vmlViewport=n,this.resize();var i=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){i.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),o.call(e,t)},this._firstPaint=!0}function Ar(t){return function(){Ai('In IE8.0 VML mode painter not support method "'+t+'"')}}var gr=2311,vr=function(){return gr++},mr={},yr=mr="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:function(t){var e={},n={},r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1]),a&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11)}}(navigator.userAgent),br={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},_r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},wr=Object.prototype.toString,xr=Array.prototype,Cr=xr.forEach,Er=xr.filter,Br=xr.slice,Nr=xr.map,Tr=xr.reduce,Ir={},Fr=function(){return Ir.createCanvas()};Ir.createCanvas=function(){return document.createElement("canvas")};var Sr,Mr="__ec_primitive__";x.prototype={constructor:x,get:function(t){return this["_ec_"+t]},set:function(t,e){return this["_ec_"+t]=e,e},each:function(t,e){void 0!==e&&(t=d(t,e));for(var n in this)this.hasOwnProperty(n)&&t(this[n],n.slice(4))},removeKey:function(t){delete this["_ec_"+t]}};var Ur=(Object.freeze||Object)({$override:function(t,e){Ir[t]=e},clone:e,merge:n,mergeAll:function(t,e){for(var r=t[0],i=1,o=t.length;i<o;i++)r=n(r,t[i],e);return r},extend:r,defaults:i,createCanvas:Fr,getContext:o,indexOf:a,inherits:s,mixin:u,isArrayLike:l,each:c,map:h,reduce:function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Tr)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}},filter:function(t,e,n){if(t&&e){if(t.filter&&t.filter===Er)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},find:function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},bind:d,curry:function(t){var e=Br.call(arguments,1);return function(){return t.apply(this,e.concat(Br.call(arguments)))}},isArray:f,isFunction:p,isString:A,isObject:g,isBuiltInObject:v,isDom:m,eqNaN:function(t){return t!==t},retrieve:function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},retrieve2:y,retrieve3:b,slice:function(){return Function.call.apply(Br,arguments)},normalizeCssArray:_,assert:function(t,e){if(!t)throw new Error(e)},setAsPrimitive:function(t){t[Mr]=!0},isPrimitive:w,createHashMap:function(t){return new x(t)},noop:function(){}}),Qr="undefined"==typeof Float32Array?Array:Float32Array,Lr=T,Rr=I,kr=M,Or=U,Pr=(Object.freeze||Object)({create:C,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:E,set:function(t,e,n){return t[0]=e,t[1]=n,t},add:B,scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},sub:N,len:T,length:Lr,lenSquare:I,lengthSquare:Rr,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:F,normalize:S,distance:M,dist:kr,distanceSquare:U,distSquare:Or,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},applyTransform:Q,min:L,max:R});k.prototype={constructor:k,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(O(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.dispatchToElement(O(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(O(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(O(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(O(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(O(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Dr=Array.prototype.slice,Hr=function(){this._$handlers={}};Hr.prototype={constructor:Hr,one:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!=e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=Dr.call(e,1));for(var r=this._$handlers[t],i=r.length,o=0;o<i;){switch(n){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,e[1]);break;case 3:r[o].h.call(r[o].ctx,e[1],e[2]);break;default:r[o].h.apply(r[o].ctx,e)}r[o].one?(r.splice(o,1),i--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=Dr.call(e,1,e.length-1));for(var r=e[e.length-1],i=this._$handlers[t],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(r);break;case 2:i[a].h.call(r,e[1]);break;case 3:i[a].h.call(r,e[1],e[2]);break;default:i[a].h.apply(r,e)}i[a].one?(i.splice(a,1),o--):a++}}return this}};var zr="silent";D.prototype.dispose=function(){};var Kr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$r=function(t,e,n,r){Hr.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new D,this.proxy=n,n.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,k.call(this),c(Kr,function(t){n.on&&n.on(t,this[t],this)},this)};$r.prototype={constructor:$r,mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!=n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=P(e,t,n);r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},o=r.length-1;o>=0;o--){var a;if(r[o]!==n&&!r[o].ignore&&(a=H(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),a!==zr)){i.target=r[o];break}}return i}},c(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){$r.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mosueup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||kr(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),u($r,Hr),u($r,k);var Vr="undefined"==typeof Float32Array?Array:Float32Array,jr=(Object.freeze||Object)({create:z,identity:K,copy:$,mul:V,translate:j,rotate:G,scale:q,invert:X}),Gr=K,qr=5e-5,Xr=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Wr=Xr.prototype;Wr.transform=null,Wr.needLocalTransform=function(){return W(this.rotation)||W(this.position[0])||W(this.position[1])||W(this.scale[0]-1)||W(this.scale[1]-1)},Wr.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||z(),n?this.getLocalTransform(r):Gr(r),e&&(n?V(r,t.transform,r):$(r,t.transform)),this.transform=r,this.invTransform=this.invTransform||z(),X(this.invTransform,r)):r&&Gr(r)},Wr.getLocalTransform=function(t){return Xr.getLocalTransform(this,t)},Wr.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},Wr.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Yr=[];Wr.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(V(Yr,t.invTransform,e),e=Yr);var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;W(n-1)&&(n=Math.sqrt(n)),W(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(n=-n),e[3]<0&&(r=-r),i[0]=e[4],i[1]=e[5],o[0]=n,o[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/n)}},Wr.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},Wr.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&Q(n,n,r),n},Wr.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&Q(n,n,r),n},Xr.getLocalTransform=function(t,e){Gr(e=e||[]);var n=t.origin,r=t.scale||[1,1],i=t.rotation||0,o=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),q(e,e,r),i&&G(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=o[0],e[5]+=o[1],e};var Jr={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Jr.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Jr.bounceIn(2*t):.5*Jr.bounceOut(2*t-1)+.5}};Y.prototype={constructor:Y,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?Jr[r]:r,o="function"==typeof i?i(n):n;return this.fire("frame",o),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Zr=function(){this.head=null,this.tail=null,this._len=0},ti=Zr.prototype;ti.insert=function(t){var e=new ei(t);return this.insertEntry(e),e},ti.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},ti.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},ti.len=function(){return this._len},ti.clear=function(){this.head=this.tail=null,this._len=0};var ei=function(t){this.value=t,this.next,this.prev},ni=function(t){this._list=new Zr,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},ri=ni.prototype;ri.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new ei(e),a.key=t,n.insertEntry(a),r[t]=a}return i},ri.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},ri.clear=function(){this._list.clear(),this._map={}};var ii={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},oi=new ni(20),ai=null,si=ht,ui=dt,li=(Object.freeze||Object)({parse:ut,lift:function(t,e){var n=ut(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return ft(n,4===n.length?"rgba":"rgb")}},toHex:function(t){var e=ut(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:ht,fastMapToColor:si,lerp:dt,mapToColor:ui,modifyHSL:function(t,e,n,r){if(t=ut(t))return t=ct(t),null!=e&&(t[0]=Z(e)),null!=n&&(t[1]=nt(n)),null!=r&&(t[2]=nt(r)),ft(lt(t),"rgba")},modifyAlpha:function(t,e){if((t=ut(t))&&null!=e)return t[3]=tt(e),ft(t,"rgba")},stringify:ft}),ci=Array.prototype.slice,hi=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||pt,this._setter=r||At,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};hi.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:xt(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=Bt(this,t,function(){--i||r._doneCallback()},this._tracks[o],o,e);a&&(this._clipList.push(a),i++,this.animation&&this.animation.addClip(a),n=a)}if(n){var s=n.onframe;n.onframe=function(t,e){s(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var di=1;"undefined"!=typeof window&&(di=Math.max(window.devicePixelRatio||1,1));var fi=di,pi=function(){},Ai=pi,gi=function(){this.animators=[]};gi.prototype={constructor:gi,animate:function(t,e){var n,r=!1,i=this,o=this.__zr;if(t){var s=t.split("."),u=i;r="shape"===s[0];for(var l=0,c=s.length;l<c;l++)u&&(u=u[s[l]]);u&&(n=u)}else n=i;if(n){var h=i.animators,d=new hi(n,e);return d.during(function(t){i.dirty(r)}).done(function(){h.splice(a(h,d),1)}),h.push(d),o&&o.animation.addAnimator(d),d}Ai('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,o){A(n)?(i=r,r=n,n=0):p(r)?(i=r,r="linear",n=0):p(n)?(i=n,n=0):p(e)?(i=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,n);var a=this.animators.slice(),s=a.length;s||i&&i();for(var u=0;u<a.length;u++)a[u].done(function(){--s||i&&i()}).start(r,o)},_animateToShallow:function(t,e,n,r,i){var o={},a=0;for(var s in n)if(n.hasOwnProperty(s))if(null!=e[s])g(n[s])&&!l(n[s])?this._animateToShallow(t?t+"."+s:s,e[s],n[s],r,i):(o[s]=n[s],a++);else if(null!=n[s])if(t){var u={};u[t]={},u[t][s]=n[s],this.attr(u)}else this.attr(s,n[s]);return a>0&&this.animate(t,!1).when(null==r?500:r,o).delay(i||0),this}};var vi=function(t){Xr.call(this,t),Hr.call(this,t),gi.call(this,t),this.id=t.id||vr()};vi.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(g(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},u(vi,gi),u(vi,Xr),u(vi,Hr);var mi=Q,yi=Math.min,bi=Math.max;Nt.prototype={constructor:Nt,union:function(t){var e=yi(t.x,this.x),n=yi(t.y,this.y);this.width=bi(t.x+t.width,this.x+this.width)-e,this.height=bi(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,mi(t,t,i),mi(e,e,i),mi(n,n,i),mi(r,r,i),this.x=yi(t[0],e[0],n[0],r[0]),this.y=yi(t[1],e[1],n[1],r[1]);var o=bi(t[0],e[0],n[0],r[0]),a=bi(t[1],e[1],n[1],r[1]);this.width=o-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=z();return j(i,i,[-e.x,-e.y]),q(i,i,[n,r]),j(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Nt||(t=Nt.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,u=t.y,l=t.y+t.height;return!(r<a||s<n||o<u||l<i)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new Nt(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Nt.create=function(t){return new Nt(t.x,t.y,t.width,t.height)};var _i=function(t){t=t||{},vi.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};_i.prototype={constructor:_i,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof _i&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=a(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof _i&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof _i&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof _i&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof _i&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new Nt(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),u=a.getLocalTransform(i);u?(n.copy(s),n.applyTransform(u),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},s(_i,vi);var wi=32,xi=7,Ci=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Ci.prototype={constructor:Ci,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,yr.canvasSupported&&Lt(n,Rt)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var u=a[s];t.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof _i&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof _i&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);else{var i=a(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof _i&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t.__storage=this,t.dirty(!1),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Rt};var Ei=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Bi=function(t,e){this.extendFrom(t,!1),this.host=e};Bi.prototype={constructor:Bi,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var r=this,i=n&&n.style,o=!i,a=0;a<Ei.length;a++){var s=Ei[a],u=s[0];(o||r[u]!==i[u])&&(t[u]=r[u]||s[1])}if((o||r.fill!==i.fill)&&(t.fillStyle=r.fill),(o||r.stroke!==i.stroke)&&(t.strokeStyle=r.stroke),(o||r.opacity!==i.opacity)&&(t.globalAlpha=null==r.opacity?1:r.opacity),(o||r.blend!==i.blend)&&(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var l=r.lineWidth;t.lineWidth=l/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?Ot:kt)(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}};for(var Ni=Bi.prototype,Ti=0;Ti<Ei.length;Ti++){var Ii=Ei[Ti];Ii[0]in Ni||(Ni[Ii[0]]=Ii[1])}Bi.getGradient=Ni.getGradient;var Fi=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};Fi.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var Si=function(t,e,n){var r;n=n||fi,"string"==typeof t?r=Dt(t,e,n):g(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=Pt,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};Si.prototype={constructor:Si,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Dt("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i.width=t+"px",i.height=e+"px",r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t){var e=this.dom,n=this.ctx,r=e.width,i=e.height,o=this.clearColor,a=this.motionBlur&&!t,s=this.lastFrameAlpha,u=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,r/u,i/u)),n.clearRect(0,0,r,i),o){var l;o.colorStops?(l=o.__canvasGradient||Bi.getGradient(n,o,{x:0,y:0,width:r,height:i}),o.__canvasGradient=l):o.image&&(l=Fi.prototype.getCanvasPattern.call(o,n)),n.save(),n.fillStyle=l||o,n.fillRect(0,0,r,i),n.restore()}if(a){var c=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(c,0,0,r,i),n.restore()}}};var Mi="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Ui=new ni(50),Qi={},Li=0,Ri=5e3,ki=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Oi="12px sans-serif",Pi={};Pi.measureText=function(t,e){var n=o();return n.font=e||Oi,n.measureText(t)};var Di={left:1,right:1,center:1},Hi={top:1,bottom:1,middle:1},zi=new Nt,Ki=function(){};Ki.prototype={constructor:Ki,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&le(n);var r=n.text;if(null!=r&&(r+=""),Be(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(zi.copy(e),zi.applyTransform(i),e=zi),he(this,t,r,n,e),t.restore()}}},Ne.prototype={constructor:Ne,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?vi.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Bi(t,this),this.dirty(!1),this}},s(Ne,vi),u(Ne,Ki),Te.prototype={constructor:Te,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=zt(r,this._image,this,this.onload);if(i&&$t(i)){var o=n.x||0,a=n.y||0,s=n.width,u=n.height,l=i.width/i.height;if(null==s&&null!=u?s=u*l:null==u&&null!=s?u=s/l:null==s&&null==u&&(s=i.width,u=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;t.drawImage(i,c,h,n.sWidth,n.sHeight,o,a,s,u)}else if(n.sx&&n.sy){var d=s-(c=n.sx),f=u-(h=n.sy);t.drawImage(i,c,h,d,f,o,a,s,u)}else t.drawImage(i,o,a,s,u);this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Nt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},s(Te,Ne);var $i=new Nt(0,0,0,0),Vi=new Nt(0,0,0,0),ji=function(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=r({},n||{}),this.dpr=n.devicePixelRatio||fi,this._singleCanvas=i,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},i){null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height);var u=t.width,l=t.height;this._width=u,this._height=l;var c=new Si(t,this,1);c.initContext(),s[0]=c,a.push(0),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=Re(this._width,this._height);t.appendChild(h)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};ji.prototype={constructor:ji,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(e,t);for(var r=0;r<n.length;r++){var i=n[r],o=this._layers[i];!o.__builtin__&&o.refresh&&o.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=a(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){Lt(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),a.__hoverMir=null,e--)}n.ctx.restore()}},_startProgessive:function(){function t(){n===e._progressiveToken&&e.storage&&(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,Mi(t)):e._progressiveToken=-1)}var e=this;if(e._furtherProgressive){var n=e._progressiveToken=+new Date;e._progress++,Mi(t)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,c(this._progressiveLayers,function(t){t.__dirty&&t.clear()})},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuiltinLayer(Se),this._doPaintList(t,e),this.eachBuiltinLayer(Me)},_doPaintList:function(t,e){function n(t){var e=o.dpr||1;o.save(),o.globalAlpha=1,o.shadowBlur=0,r.__dirty=!0,o.setTransform(1,0,0,1,0,0),o.drawImage(t.dom,0,0,h*e,d*e),o.restore()}for(var r,i,o,a,s,u,l=0,h=this._width,d=this._height,f=this._progress,p=0,A=t.length;p<A;p++){var g=t[p],v=this._singleCanvas?0:g.zlevel,m=g.__frame;if(m<0&&s&&(n(s),s=null),i!==v&&(o&&o.restore(),a={},i=v,(r=this.getLayer(i)).__builtin__||Ai("ZLevel "+i+" has been used by unkown layer "+r.id),(o=r.ctx).save(),r.__unusedCount=0,(r.__dirty||e)&&r.clear()),r.__dirty||e){if(m>=0){if(!s){if((s=this._progressiveLayers[Math.min(l++,4)]).ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){p=s.__nextIdxNotProg-1;continue}u=s.__progress,s.__dirty||(f=u),s.__progress=f+1}m===f&&this._doPaintEl(g,s,!0,s.renderScope)}else this._doPaintEl(g,r,e,a);g.__dirty=!1}}s&&n(s),o&&o.restore(),this._furtherProgressive=!1,c(this._progressiveLayers,function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(t,e,n,r){var i=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!Ue(t,this._width,this._height))){var a=t.__clipPaths;(r.prevClipLayer!==e||Qe(a,r.prevElClipPaths))&&(r.prevElClipPaths&&(r.prevClipLayer.ctx.restore(),r.prevClipLayer=r.prevElClipPaths=null,r.prevEl=null),a&&(i.save(),Le(a,i),r.prevClipLayer=e,r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||((e=new Si("zr_"+t,this,this.dpr)).__builtin__=!0,this._layerConfig[t]&&n(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=null,a=-1,s=this._domRoot;if(n[t])Ai("ZLevel "+t+" has been used already");else if(Fe(e)){if(i>0&&t>r[0]){for(a=0;a<i-1&&!(r[a]<t&&r[a+1]>t);a++);o=n[r[a]]}if(r.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Ai("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,n=this._progressiveLayers,r={},i={};this.eachBuiltinLayer(function(t,e){r[e]=t.elCount,t.elCount=0,t.__dirty=!1}),c(n,function(t,e){i[e]=t.elCount,t.elCount=0,t.__dirty=!1});for(var o,a,s=0,u=0,l=0,h=t.length;l<h;l++){var d=t[l],f=e[this._singleCanvas?0:d.zlevel],p=d.progressive;if(f&&(f.elCount++,f.__dirty=f.__dirty||d.__dirty),p>=0){a!==p&&(a=p,u++);var A=d.__frame=u-1;if(!o){var g=Math.min(s,4);(o=n[g])||(o=n[g]=new Si("progressive",this,this.dpr)).initContext(),o.__maxProgress=0}o.__dirty=o.__dirty||d.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,A),o.__maxProgress>=o.__progress&&(f.__dirty=!0)}else d.__frame=-1,o&&(o.__nextIdxNotProg=l,s++,o=null)}o&&(s++,o.__nextIdxNotProg=l),this.eachBuiltinLayer(function(t,e){r[e]!==t.elCount&&(t.__dirty=!0)}),n.length=Math.min(s,5),c(n,function(t,e){i[e]!==t.elCount&&(d.__dirty=!0),t.__dirty&&(t.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var r=this._layerConfig;r[t]?n(r[t],e,!0):r[t]=e;var i=this._layers[t];i&&n(i,r[t],!0)}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(a(n,t),1))},resize:function(t,e){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!=t||e!=this._height){n.style.width=t+"px",n.style.height=e+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);c(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){function e(t,e){var r=a._zlevelList;null==t&&(t=-1/0);for(var i,o=0;o<r.length;o++){var s=r[o],u=a._layers[s];if(!u.__builtin__&&s>t&&s<e){i=u;break}}i&&i.renderToCanvas&&(n.ctx.save(),i.renderToCanvas(n.ctx),n.ctx.restore())}if(t=t||{},this._singleCanvas)return this._layers[0].dom;var n=new Si("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clearColor=t.backgroundColor,n.clear();for(var r,i=this.storage.getDisplayList(!0),o={},a=this,s=0;s<i.length;s++){var u=i[s];u.zlevel!==r&&(e(r,u.zlevel),r=u.zlevel),this._doPaintEl(u,n,!0,o)}return e(r,1/0),n.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||Ie(s[n])||Ie(a.style[n]))-(Ie(s[i])||0)-(Ie(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur,s=o.shadowOffsetX,u=o.shadowOffsetY,l=o.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-s+a),h=Math.max(l/2,s+a),d=Math.max(l/2,-u+a),f=Math.max(l/2,u+a),p=i.width+c+h,A=i.height+d+f;n.width=p*e,n.height=A*e,r.scale(e,e),r.clearRect(0,0,p,A),r.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,d-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var v=new Te({style:{x:0,y:0,image:n}});return null!=g.position&&(v.position=t.position=g.position),null!=g.rotation&&(v.rotation=t.rotation=g.rotation),null!=g.scale&&(v.scale=t.scale=g.scale),v}};var Gi="undefined"!=typeof window&&!!window.addEventListener,qi=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xi=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Hr.call(this)};Xi.prototype={constructor:Xi,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=a(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],u=s.step(t,e);u&&(i.push(u),o.push(s))}for(a=0;a<r;)n[a]._needsRemove?(n[a]=n[r-1],n.pop(),r--):a++;r=i.length;for(a=0;a<r;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(Mi(t),!e._paused&&e._update())}var e=this;this._running=!0,Mi(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){var n=new hi(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},u(Xi,Hr);var Wi=function(){this._track=[]};Wi.prototype={constructor:Wi,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],u=Oe(n,s,{});i.points.push([u.zrX,u.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in Yi)if(Yi.hasOwnProperty(e)){var n=Yi[e](this._track,t);if(n)return n}}};var Yi={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=Ke(r)/Ke(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=$e(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},Ji=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Zi=["touchstart","touchend","touchmove"],to={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},eo=h(Ji,function(t){var e=t.replace("mouse","pointer");return to[e]?e:t}),no={mousemove:function(t){t=De(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=De(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=De(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,je(this,t,"start"),no.mousemove.call(this,t),no.mousedown.call(this,t),Ge(this)},touchmove:function(t){(t=De(this.dom,t)).zrByTouch=!0,je(this,t,"change"),no.mousemove.call(this,t),Ge(this)},touchend:function(t){(t=De(this.dom,t)).zrByTouch=!0,je(this,t,"end"),no.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&no.click.call(this,t),Ge(this)},pointerdown:function(t){no.mousedown.call(this,t)},pointermove:function(t){qe(t)||no.mousemove.call(this,t)},pointerup:function(t){no.mouseup.call(this,t)},pointerout:function(t){qe(t)||no.mouseout.call(this,t)}};c(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){no[t]=function(e){e=De(this.dom,e),this.trigger(t,e)}});var ro=We.prototype;ro.dispose=function(){for(var t=Ji.concat(Zi),e=0;e<t.length;e++){var n=t[e];ze(this.dom,Ve(n),this._handlers[n])}},ro.setCursor=function(t){this.dom.style.cursor=t||"default"},u(We,Hr);var io=!yr.canvasSupported,oo={canvas:ji},ao={},so=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new Ci,o=n.renderer;if(io){if(!oo.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&oo[o]||(o="canvas");var a=new oo[o](e,i,n);this.storage=i,this.painter=a;var s=yr.node?null:new We(a.getViewportRoot());this.handler=new $r(i,a,s,a.root),this.animation=new Xi({stage:{update:d(this.flush,this)}}),this.animation.start(),this._needsRefresh;var u=i.delFromStorage,l=i.addToStorage;i.delFromStorage=function(t){u.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){l.call(i,t),t.addSelfToZr(r)}};so.prototype={constructor:so,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Je(this.id)}};var uo=Math.pow,lo=Math.sqrt,co=1e-8,ho=1e-4,fo=lo(3),po=1/3,Ao=C(),go=C(),vo=C(),mo=Math.min,yo=Math.max,bo=Math.sin,_o=Math.cos,wo=2*Math.PI,xo=C(),Co=C(),Eo=C(),Bo=[],No=[],To={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Io=[],Fo=[],So=[],Mo=[],Uo=Math.min,Qo=Math.max,Lo=Math.cos,Ro=Math.sin,ko=Math.sqrt,Oo=Math.abs,Po="undefined"!=typeof Float32Array,Do=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Do.prototype={constructor:Do,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Oo(1/fi/t)||0,this._uy=Oo(1/fi/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(To.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Oo(t-this._xi)>this._ux||Oo(e-this._yi)>this._uy||this._len<5;return this.addData(To.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,o){return this.addData(To.C,t,e,n,r,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,n,r){return this.addData(To.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,o){return this.addData(To.A,t,e,n,n,r,i-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=Lo(i)*n+t,this._yi=Ro(i)*n+t,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(To.R,t,e,n,r),this},closePath:function(){this.addData(To.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!Po||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();Po&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,d=ko(c*c+h*h),f=u,p=l,A=a.length;for(c/=d,h/=d,o<0&&(o=i+o),f-=(o%=i)*c,p-=o*h;c>0&&f<=t||c<0&&f>=t||0==c&&(h>0&&p<=e||h<0&&p>=e);)f+=c*(n=a[r=this._dashIdx]),p+=h*n,this._dashIdx=(r+1)%A,c>0&&f<u||c<0&&f>u||h>0&&p<l||h<0&&p>l||s[r%2?"moveTo":"lineTo"](c>=0?Uo(f,t):Qo(f,t),h>=0?Uo(p,e):Qo(p,e));c=f-t,h=p-e,this._dashOffset=-ko(c*c+h*h)},_dashedBezierTo:function(t,e,n,r,i,o){var a,s,u,l,c,h=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,A=this._xi,g=this._yi,v=en,m=0,y=this._dashIdx,b=f.length,_=0;for(d<0&&(d=h+d),d%=h,a=0;a<1;a+=.1)s=v(A,t,n,i,a+.1)-v(A,t,n,i,a),u=v(g,e,r,o,a+.1)-v(g,e,r,o,a),m+=ko(s*s+u*u);for(;y<b&&!((_+=f[y])>d);y++);for(a=(_-d)/m;a<=1;)l=v(A,t,n,i,a),c=v(g,e,r,o,a),y%2?p.moveTo(l,c):p.lineTo(l,c),a+=f[y]/m,y=(y+1)%b;y%2!=0&&p.lineTo(i,o),s=i-l,u=o-c,this._dashOffset=-ko(s*s+u*u)},_dashedQuadraticTo:function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Po&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Io[0]=Io[1]=So[0]=So[1]=Number.MAX_VALUE,Fo[0]=Fo[1]=Mo[0]=Mo[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,o=0;o<t.length;){var a=t[o++];switch(1==o&&(r=e=t[o],i=n=t[o+1]),a){case To.M:e=r=t[o++],n=i=t[o++],So[0]=r,So[1]=i,Mo[0]=r,Mo[1]=i;break;case To.L:pn(e,n,t[o],t[o+1],So,Mo),e=t[o++],n=t[o++];break;case To.C:An(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],So,Mo),e=t[o++],n=t[o++];break;case To.Q:gn(e,n,t[o++],t[o++],t[o],t[o+1],So,Mo),e=t[o++],n=t[o++];break;case To.A:var s=t[o++],u=t[o++],l=t[o++],c=t[o++],h=t[o++],d=t[o++]+h,f=(t[o++],1-t[o++]);1==o&&(r=Lo(h)*l+s,i=Ro(h)*c+u),vn(s,u,l,c,h,d,f,So,Mo),e=Lo(d)*l+s,n=Ro(d)*c+u;break;case To.R:pn(r=e=t[o++],i=n=t[o++],r+t[o++],i+t[o++],So,Mo);break;case To.Z:e=r,n=i}L(Io,Io,So),R(Fo,Fo,Mo)}return 0===o&&(Io[0]=Io[1]=Fo[0]=Fo[1]=0),new Nt(Io[0],Io[1],Fo[0]-Io[0],Fo[1]-Io[1])},rebuildPath:function(t){for(var e,n,r,i,o,a,s=this.data,u=this._ux,l=this._uy,c=this._len,h=0;h<c;){var d=s[h++];switch(1==h&&(e=r=s[h],n=i=s[h+1]),d){case To.M:e=r=s[h++],n=i=s[h++],t.moveTo(r,i);break;case To.L:o=s[h++],a=s[h++],(Oo(o-r)>u||Oo(a-i)>l||h===c-1)&&(t.lineTo(o,a),r=o,i=a);break;case To.C:t.bezierCurveTo(s[h++],s[h++],s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case To.Q:t.quadraticCurveTo(s[h++],s[h++],s[h++],s[h++]),r=s[h-2],i=s[h-1];break;case To.A:var f=s[h++],p=s[h++],A=s[h++],g=s[h++],v=s[h++],m=s[h++],y=s[h++],b=s[h++],_=A>g?A:g,w=A>g?1:A/g,x=A>g?g/A:1,C=v+m;Math.abs(A-g)>.001?(t.translate(f,p),t.rotate(y),t.scale(w,x),t.arc(0,0,_,v,C,1-b),t.scale(1/w,1/x),t.rotate(-y),t.translate(-f,-p)):t.arc(f,p,_,v,C,1-b),1==h&&(e=Lo(v)*A+f,n=Ro(v)*g+p),r=Lo(C)*A+f,i=Ro(C)*g+p;break;case To.R:e=r=s[h],n=i=s[h+1],t.rect(s[h++],s[h++],s[h++],s[h++]);break;case To.Z:t.closePath(),r=e,i=n}}}},Do.CMD=To;var Ho=2*Math.PI,zo=2*Math.PI,Ko=Do.CMD,$o=2*Math.PI,Vo=1e-4,jo=[-1,-1,-1],Go=[-1,-1],qo=Fi.prototype.getCanvasPattern,Xo=Math.abs,Wo=new Do(!0);Mn.prototype={constructor:Mn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n=this.style,r=this.path||Wo,i=n.hasStroke(),o=n.hasFill(),a=n.fill,s=n.stroke,u=o&&!!a.colorStops,l=i&&!!s.colorStops,c=o&&!!a.image,h=i&&!!s.image;if(n.bind(t,this,e),this.setTransform(t),this.__dirty){var d;u&&(d=d||this.getBoundingRect(),this._fillGradient=n.getGradient(t,a,d)),l&&(d=d||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,s,d))}u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=qo.call(a,t)),l?t.strokeStyle=this._strokeGradient:h&&(t.strokeStyle=qo.call(s,t));var f=n.lineDash,p=n.lineDashOffset,A=!!t.setLineDash,g=this.getGlobalScale();r.setScale(g[0],g[1]),this.__dirtyPath||f&&!A&&i?(r.beginPath(t),f&&!A&&(r.setLineDash(f),r.setLineDashOffset(p)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&&r.fill(t),f&&A&&(t.setLineDash(f),t.lineDashOffset=p),i&&r.stroke(t),f&&A&&t.setLineDash([]),this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new Do},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new Do),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(i.width+=o/a,i.height+=o/a,i.x-=o/a/2,i.y-=o/a/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Sn(o,a/s,t,e)))return!0}if(i.hasFill())return Fn(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Ne.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(g(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&Xo(t[0]-1)>1e-10&&Xo(t[3]-1)>1e-10?Math.sqrt(Xo(t[0]*t[3]-t[2]*t[1])):1}},Mn.extend=function(t){var e=function(e){Mn.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};s(e,Mn);for(var n in t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},s(Mn,Ne);var Yo=Do.CMD,Jo=[[],[],[]],Zo=Math.sqrt,ta=Math.atan2,ea=function(t,e){var n,r,i,o,a,s,u=t.data,l=Yo.M,c=Yo.C,h=Yo.L,d=Yo.R,f=Yo.A,p=Yo.Q;for(i=0,o=0;i<u.length;){switch(n=u[i++],o=i,r=0,n){case l:case h:r=1;break;case c:r=3;break;case p:r=2;break;case f:var A=e[4],g=e[5],v=Zo(e[0]*e[0]+e[1]*e[1]),m=Zo(e[2]*e[2]+e[3]*e[3]),y=ta(-e[1]/m,e[0]/v);u[i]*=v,u[i++]+=A,u[i]*=m,u[i++]+=g,u[i++]*=v,u[i++]*=m,u[i++]+=y,u[i++]+=y,o=i+=2;break;case d:s[0]=u[i++],s[1]=u[i++],Q(s,s,e),u[o++]=s[0],u[o++]=s[1],s[0]+=u[i++],s[1]+=u[i++],Q(s,s,e),u[o++]=s[0],u[o++]=s[1]}for(a=0;a<r;a++)(s=Jo[a])[0]=u[i++],s[1]=u[i++],Q(s,s,e),u[o++]=s[0],u[o++]=s[1]}},na=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],ra=Math.sqrt,ia=Math.sin,oa=Math.cos,aa=Math.PI,sa=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},ua=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(sa(t)*sa(e))},la=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ua(t,e))},ca=(Object.freeze||Object)({createFromString:function(t,e){return new Mn(Ln(t,e))},extendFromString:function(t,e){return Mn.extend(Ln(t,e))},mergePath:function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Mn(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a}}),ha=Mn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Mn.prototype.getBoundingRect.call(this)}}),da=function(t){Ne.call(this,t)};da.prototype={constructor:da,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&le(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),n.bind(t,this,e),Be(r,n)&&(this.setTransform(t),he(this,t,r,n),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&le(t),!this._rect){var e=t.text;null!=e?e+="":e="";var n=jt(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,we(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},s(da,Ne);var fa=Mn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),l=Math.sin(o);t.moveTo(u*i+n,l*i+r),t.arc(n,r,i,o,a,!s)}}),pa=[],Aa=Mn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,u=e.cpx2,l=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,r),null==u||null==l?(c<1&&(dn(n,a,i,c,pa),a=pa[1],i=pa[2],dn(r,s,o,c,pa),s=pa[1],o=pa[2]),t.quadraticCurveTo(a,s,i,o)):(c<1&&(an(n,a,u,i,c,pa),a=pa[1],u=pa[2],i=pa[3],an(r,s,l,o,c,pa),s=pa[1],l=pa[2],o=pa[3]),t.bezierCurveTo(a,s,u,l,i,o)))},pointAt:function(t){return Rn(this.shape,t,!1)},tangentAt:function(t){var e=Rn(this.shape,t,!0);return S(e,e)}}),ga=Mn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),va=Mn.extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width,o=e.height;t.moveTo(n,r+i),t.bezierCurveTo(n+i,r+i,n+3*i/2,r-i/3,n,r-o),t.bezierCurveTo(n-3*i/2,r-i/3,n-i,r+i,n,r+i),t.closePath()}}),ma=Mn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*n,u=a*n;t.moveTo(r-o,i),t.bezierCurveTo(r-o,i-u,r-s,i-a,r,i-a),t.bezierCurveTo(r+s,i-a,r+o,i-u,r+o,i),t.bezierCurveTo(r+o,i+u,r+s,i+a,r,i+a),t.bezierCurveTo(r-s,i+a,r-o,i+u,r-o,i),t.closePath()}}),ya=Mn.extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width,o=e.height;t.moveTo(n,r),t.bezierCurveTo(n+i/2,r-2*o/3,n+2*i,r+o/3,n,r+o),t.bezierCurveTo(n-2*i,r+o/3,n-i/2,r-2*o/3,n,r)}}),ba=Math.PI,_a=Math.sin,wa=Math.cos,xa=Mn.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var n=e.n;if(n&&!(n<2)){var r=e.x,i=e.y,o=e.r,a=2*ba/n,s=-ba/2;t.moveTo(r+o*wa(s),i+o*_a(s));for(var u=0,l=n-1;u<l;u++)s+=a,t.lineTo(r+o*wa(s),i+o*_a(s));t.closePath()}}}),Ca=Mn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(n,r),a<1&&(i=n*(1-a)+i*a,o=r*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Ea=function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=M(t[o-1],t[o]);var a=i/2;a=a<n?n:a;for(o=0;o<a;o++){var s,u,l,c=o/(a-1)*(e?n:n-1),h=Math.floor(c),d=c-h,f=t[h%n];e?(s=t[(h-1+n)%n],u=t[(h+1)%n],l=t[(h+2)%n]):(s=t[0===h?h:h-1],u=t[h>n-2?n-1:h+1],l=t[h>n-3?n-1:h+2]);var p=d*d,A=d*p;r.push([kn(s[0],f[0],u[0],l[0],d,p,A),kn(s[1],f[1],u[1],l[1],d,p,A)])}return r},Ba=function(t,e,n,r){var i,o,a,s,u=[],l=[],c=[],h=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)L(a,a,t[d]),R(s,s,t[d]);L(a,a,r[0]),R(s,s,r[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(n)i=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){u.push(E(t[d]));continue}i=t[d-1],o=t[d+1]}N(l,o,i),F(l,l,e);var A=M(p,i),g=M(p,o),v=A+g;0!==v&&(A/=v,g/=v),F(c,l,-A),F(h,l,g);var m=B([],p,c),y=B([],p,h);r&&(R(m,m,a),L(m,m,s),R(y,y,a),L(y,y,s)),u.push(m),u.push(y)}return n&&u.push(u.shift()),u},Na=Mn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){On(t,e,!0)}}),Ta=Mn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){On(t,e,!1)}}),Ia=Mn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;e.r?ue(t,e):t.rect(n,r,i,o),t.closePath()}}),Fa=Mn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}}),Sa=Math.sin,Ma=Math.cos,Ua=Math.PI/180,Qa=Mn.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,o=e.r,a=e.k,s=e.n,u=e.cx,l=e.cy;t.moveTo(u,l);for(var c=0,h=o.length;c<h;c++){i=o[c];for(var d=0;d<=360*s;d++)n=i*Sa(a/s*d%360*Ua)*Ma(d*Ua)+u,r=i*Sa(a/s*d%360*Ua)*Sa(d*Ua)+l,t.lineTo(n,r)}}}),La=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Ra=Mn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:function(t){return yr.browser.ie&&yr.browser.version>=11?function(){var e,n=this.__clipPaths,r=this.style;if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(u=0;u<La.length;u++)La[u][2]=r[La[u][0]],r[La[u][0]]=La[u][1];e=!0;break}}if(t.apply(this,arguments),e)for(var u=0;u<La.length;u++)r[La[u][0]]=La[u][2]}:t}(Mn.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(a),c=Math.sin(a);t.moveTo(l*i+n,c*i+r),t.lineTo(l*o+n,c*o+r),t.arc(n,r,o,a,s,!u),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,a,u),t.closePath()}}),ka=Math.PI,Oa=Math.cos,Pa=Math.sin,Da=Mn.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var n=e.n;if(n&&!(n<2)){var r=e.cx,i=e.cy,o=e.r,a=e.r0;null==a&&(a=n>4?o*Oa(2*ka/n)/Oa(ka/n):o/3);var s=ka/n,u=-ka/2,l=r+o*Oa(u),c=i+o*Pa(u);u+=s,t.moveTo(l,c);for(var h,d=0,f=2*n-1;d<f;d++)h=d%2==0?a:o,t.lineTo(r+h*Oa(u),i+h*Pa(u)),u+=s;t.closePath()}}}),Ha=Math.cos,za=Math.sin,Ka=Mn.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,o,a=e.r,s=e.r0,u=e.d,l=e.cx,c=e.cy,h="out"==e.location?1:-1;if(!(e.location&&a<=s)){var d,f=0,p=1;n=(a+h*s)*Ha(0)-h*u*Ha(0)+l,r=(a+h*s)*za(0)-u*za(0)+c,t.moveTo(n,r);do{f++}while(s*f%(a+h*s)!=0);do{d=Math.PI/180*p,i=(a+h*s)*Ha(d)-h*u*Ha((a/s+h)*d)+l,o=(a+h*s)*za(d)-u*za((a/s+h)*d)+c,t.lineTo(i,o),p++}while(p<=s*f/(a+h*s)*360)}}}),$a=function(t){this.colorStops=t||[]};$a.prototype={constructor:$a,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Va=function(t,e,n,r,i,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,$a.call(this,i)};Va.prototype={constructor:Va},s(Va,$a);var ja=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,$a.call(this,r)};ja.prototype={constructor:ja},s(ja,$a);var Ga="http://www.w3.org/2000/svg",qa=Do.CMD,Xa=Array.prototype.join,Wa="none",Ya=Math.round,Ja=Math.sin,Za=Math.cos,ts=Math.PI,es=2*Math.PI,ns=180/ts,rs=1e-4,is={};is.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=Pn("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),t.buildPath(r,t.shape),t.__dirtyPath=!1;var i=qn(r);i.indexOf("NaN")<0&&Vn(n,"d",i)}Gn(n,e),$n(n,t.transform),null!=e.text&&us(t,t.getBoundingRect())};var os={};os.brush=function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var r=e.x||0,i=e.y||0,o=e.width,a=e.height,s=t.__svgEl;s||(s=Pn("image"),t.__svgEl=s),n!==t.__imageSrc&&(jn(s,"href",n),t.__imageSrc=n),Vn(s,"width",o),Vn(s,"height",a),Vn(s,"x",r),Vn(s,"y",i),$n(s,t.transform),null!=e.text&&us(t,t.getBoundingRect())}};var as={},ss=new Nt,us=function(t,e,n){var r=t.style;t.__dirty&&le(r);var i=r.text;if(null!=i){i+="";var o=t.__textSvgEl;if(o||(o=Pn("text"),t.__textSvgEl=o),Gn(o,r,!0),t instanceof da||t.style.transformText)$n(o,t.transform);else if(t.transform)ss.copy(e),ss.applyTransform(t.transform),e=ss;else{var a=t.transformCoordToGlobal(e.x,e.y);e.x=a[0],e.y=a[1]}var s,u,l=r.textPosition,c=r.textDistance,h=r.textAlign||"left";"number"==typeof r.fontSize&&(r.fontSize+="px");var d=r.font||[r.fontStyle||"",r.fontWeight||"",r.fontSize||"",r.fontFamily||""].join(" ")||Oi,f=Xn(r.textVerticalAlign),p=(n=jt(i,d,h,f)).lineHeight;if(l instanceof Array)s=e.x+l[0],u=e.y+l[1];else{var A=Yt(l,e,c);s=A.x,u=A.y,f=Xn(A.textVerticalAlign),h=A.textAlign}Vn(o,"alignment-baseline",f),d&&(o.style.font=d);var g=r.textPadding;Vn(o,"x",s),Vn(o,"y",u);var v=i.split("\n"),m=v.length,y=h;"left"===y?(y="start",g&&(s+=g[3])):"right"===y?(y="end",g&&(s-=g[1])):"center"===y&&(y="middle",g&&(s+=(g[3]-g[1])/2));var b=0;if("baseline"===f?(b=-n.height+p,g&&(b-=g[2])):"middle"===f?(b=(-n.height+p)/2,g&&(u+=(g[0]-g[2])/2)):g&&(b+=g[0]),t.__text!==i||t.__textFont!==d){var _=t.__tspanList||[];t.__tspanList=_;for(x=0;x<m;x++)(C=_[x])?C.innerHTML="":(C=_[x]=Pn("tspan"),o.appendChild(C),Vn(C,"alignment-baseline",f),Vn(C,"text-anchor",y)),Vn(C,"x",s),Vn(C,"y",u+x*p+b),C.appendChild(document.createTextNode(v[x]));for(;x<_.length;x++)o.removeChild(_[x]);_.length=m,t.__text=i,t.__textFont=d}else if(t.__tspanList.length)for(var w=t.__tspanList.length,x=0;x<w;++x){var C=t.__tspanList[x];C&&(Vn(C,"x",s),Vn(C,"y",u+x*p+b))}}};as.drawRectText=us,as.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],us(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},Wn.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var r=this;t=t.slice();var i=(e=e.slice()).length,o=t.length,a=1,s=i+o,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=i&&l+1>=o){for(var c=[],h=0;h<e.length;h++)c.push(h);return[{indices:c,count:e.length}]}for(;a<=s;){var d=function(){for(var n=-1*a;n<=a;n+=2){var s,l=u[n-1],c=u[n+1],h=(c?c.newPos:0)-n;l&&(u[n-1]=void 0);var d=l&&l.newPos+1<i,f=c&&0<=h&&h<o;if(d||f){if(!d||f&&l.newPos<c.newPos?(s=Jn(c),r.pushComponent(s.components,void 0,!0)):((s=l).newPos++,r.pushComponent(s.components,!0,void 0)),h=r.extractCommon(s,e,t,n),s.newPos+1>=i&&h+1>=o)return Yn(0,s.components);u[n]=s}else u[n]=void 0}a++}();if(d)return d}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,a=t.newPos,s=a-r,u=0;a+1<i&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,u++;return u&&t.components.push({count:u}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var ls=new Wn,cs=function(t,e,n){return ls.diff(t,e,n)};Zn.prototype.createElement=Pn,Zn.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},Zn.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t._dom&&n.contains(t._dom))"function"==typeof e&&e();else{var r=this.add(t);r&&(t._dom=r)}}},Zn.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},Zn.prototype.removeDom=function(t){this.getDefs(!1).removeChild(t._dom)},Zn.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return c(this._tagNames,function(n){var r=t.getElementsByTagName(n);e=e.concat([].slice.call(r))}),e},Zn.prototype.markAllUnused=function(){var t=this;c(this.getDoms(),function(e){e[t._markLabel]="0"})},Zn.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},Zn.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;c(this.getDoms(),function(n){"1"!==n[e._markLabel]&&t.removeChild(n)})}},Zn.prototype.getSvgProxy=function(t){return t instanceof Mn?is:t instanceof Te?os:t instanceof da?as:is},Zn.prototype.getTextSvgElement=function(t){return t.__textSvgEl},Zn.prototype.getSvgElement=function(t){return t.__svgEl},s(tr,Zn),tr.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;c(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var i,o=e.style[r],a=n.getDefs(!0);o._dom?(i=o._dom,a.contains(o._dom)||n.addDom(i)):i=n.add(o),n.markUsed(e);var s=i.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}})}},tr.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Ai("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},tr.prototype.update=function(t){var e=this;Zn.prototype.update.call(this,t,function(){var n=t.type,r=t._dom.tagName;"linear"===n&&"linearGradient"===r||"radial"===n&&"radialGradient"===r?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},tr.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Ai("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,r=0,i=n.length;r<i;++r){var o=this.createElement("stop");o.setAttribute("offset",100*n[r].offset+"%"),o.setAttribute("stop-color",n[r].color),e.appendChild(o)}t._dom=e},tr.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&Zn.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&Zn.prototype.markUsed.call(this,e._dom)}},s(er,Zn),er.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},er.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var r,i,o=this.getDefs(!0),a=e[0],s=n?"_textDom":"_dom";a[s]?(i=a[s].getAttribute("id"),r=a[s],o.contains(r)||o.appendChild(r)):(i="zr-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",i),o.appendChild(r),a[s]=r);var u=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var l=Array.prototype.slice.call(a.transform);V(a.transform,a.parent.invTransform,a.transform),u.brush(a),a.transform=l}else u.brush(a);var c=this.getSvgElement(a);r.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(r,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},er.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&c(t.__clipPaths,function(t){t._dom&&Zn.prototype.markUsed.call(e,t._dom),t._textDom&&Zn.prototype.markUsed.call(e,t._textDom)})};var hs=function(t,e,n){this.root=t,this.storage=e,this._opts=n=r({},n||{});var i=Pn("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style["user-select"]="none",i.style.cssText="position:absolute;left:0;top:0;",this.gradientManager=new tr(i),this.clipPathManager=new er(i);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=i,this._viewport=o,t.appendChild(o),o.appendChild(i),this.resize(n.width,n.height),this._visibleList=[]};hs.prototype={constructor:hs,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused();var e,n=this._svgRoot,r=this._visibleList,i=t.length,o=[];for(e=0;e<i;e++){var a=rr(f=t[e]);f.invisible||(f.__dirty&&(a&&a.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke)),f.__dirty=!1),o.push(f))}var s,u=cs(r,o);for(e=0;e<u.length;e++)if((h=u[e]).removed)for(d=0;d<h.count;d++){var l=lr(f=r[h.indices[d]]),c=ur(f);sr(n,l),sr(n,c)}for(e=0;e<u.length;e++){var h=u[e];if(h.added)for(d=0;d<h.count;d++){var l=lr(f=o[h.indices[d]]),c=ur(f);s?or(n,l,s):ar(n,l),l?or(n,c,l):s?or(n,c,s):ar(n,c),or(n,c,l),s=c||l||s,this.gradientManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}else if(!h.removed)for(var d=0;d<h.count;d++){var f=o[h.indices[d]];s=l=ur(f)||lr(f)||s,this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(l,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this._visibleList=o},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(Pn("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),n):null:n[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t&&this._height!==e){this._width=t,this._height=e;var i=n.style;i.width=t+"px",i.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||nr(s[n])||nr(a.style[n]))-(nr(s[i])||0)-(nr(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var t=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(t)}},c(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){hs.prototype[t]=cr(t)}),Ye("svg",hs);var ds,fs="urn:schemas-microsoft-com:vml",ps="undefined"==typeof window?null:window,As=!1,gs=ps&&ps.document;if(gs&&!yr.canvasSupported)try{!gs.namespaces.zrvml&&gs.namespaces.add("zrvml",fs),ds=function(t){return gs.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){ds=function(t){return gs.createElement("<"+t+' xmlns="'+fs+'" class="zrvml">')}}var vs=Do.CMD,ms=Math.round,ys=Math.sqrt,bs=Math.abs,_s=Math.cos,ws=Math.sin,xs=Math.max;if(!yr.canvasSupported){var Cs=21600,Es=Cs/2,Bs=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=Cs+","+Cs,t.coordorigin="0,0"},Ns=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},Ts=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},Is=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},Fs=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},Ss=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},Ms=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},Us=function(t,e,n){var r=ut(e);n=+n,isNaN(n)&&(n=1),r&&(t.color=Ts(r[0],r[1],r[2]),t.opacity=n*r[3])},Qs=function(t){var e=ut(t);return[Ts(e[0],e[1],e[2]),e[3]]},Ls=function(t,e,n){var r=e.fill;if(null!=r)if(r instanceof $a){var i,o=0,a=[0,0],s=0,u=1,l=n.getBoundingRect(),c=l.width,h=l.height;if("linear"===r.type){i="gradient";var d=n.transform,f=[r.x*c,r.y*h],p=[r.x2*c,r.y2*h];d&&(Q(f,f,d),Q(p,p,d));var A=p[0]-f[0],g=p[1]-f[1];(o=180*Math.atan2(A,g)/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{i="gradientradial";var f=[r.x*c,r.y*h],d=n.transform,v=n.scale,m=c,y=h;a=[(f[0]-l.x)/m,(f[1]-l.y)/y],d&&Q(f,f,d),m/=v[0]*Cs,y/=v[1]*Cs;var b=xs(m,y);s=0/b,u=2*r.r/b-s}var _=r.colorStops.slice();_.sort(function(t,e){return t.offset-e.offset});for(var w=_.length,x=[],C=[],E=0;E<w;E++){var B=_[E],N=Qs(B.color);C.push(B.offset*u+s+" "+N[0]),0!==E&&E!==w-1||x.push(N)}if(w>=2){var T=x[0][0],I=x[1][0],F=x[0][1]*e.opacity,S=x[1][1]*e.opacity;t.type=i,t.method="none",t.focus="100%",t.angle=o,t.color=T,t.color2=I,t.colors=C.join(","),t.opacity=S,t.opacity2=F}"radial"===i&&(t.focusposition=a.join(","))}else Us(t,r,e.opacity)},Rs=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof $a||Us(t,e.stroke,e.opacity)},ks=function(t,e,n,r){var i="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(i||!i&&n.lineWidth)?(t[i?"filled":"stroked"]="true",n[e]instanceof $a&&Fs(t,o),o||(o=hr(e)),i?Ls(o,n,r):Rs(o,n),Is(t,o)):(t[i?"filled":"stroked"]="false",Fs(t,o))},Os=[[],[],[]],Ps=function(t,e){var n,r,i,o,a,s,u=vs.M,l=vs.C,c=vs.L,h=vs.A,d=vs.Q,f=[],p=t.data,A=t.len();for(o=0;o<A;){switch(i=p[o++],r="",n=0,i){case u:r=" m ",n=1,a=p[o++],s=p[o++],Os[0][0]=a,Os[0][1]=s;break;case c:r=" l ",n=1,a=p[o++],s=p[o++],Os[0][0]=a,Os[0][1]=s;break;case d:case l:r=" c ",n=3;var g,v,m=p[o++],y=p[o++],b=p[o++],_=p[o++];i===d?(g=b,v=_,b=(b+2*m)/3,_=(_+2*y)/3,m=(a+2*m)/3,y=(s+2*y)/3):(g=p[o++],v=p[o++]),Os[0][0]=m,Os[0][1]=y,Os[1][0]=b,Os[1][1]=_,Os[2][0]=g,Os[2][1]=v,a=g,s=v;break;case h:var w=0,x=0,C=1,E=1,B=0;e&&(w=e[4],x=e[5],C=ys(e[0]*e[0]+e[1]*e[1]),E=ys(e[2]*e[2]+e[3]*e[3]),B=Math.atan2(-e[1]/E,e[0]/C));var N=p[o++],T=p[o++],I=p[o++],F=p[o++],S=p[o++]+B,M=p[o++]+S+B;o++;var U=p[o++],L=N+_s(S)*I,R=T+ws(S)*F,m=N+_s(M)*I,y=T+ws(M)*F,k=U?" wa ":" at ";Math.abs(L-m)<1e-4&&(Math.abs(M-S)>.01?U&&(L+=.0125):Math.abs(R-T)<1e-4?U&&L<N||!U&&L>N?y-=.0125:y+=.0125:U&&R<T||!U&&R>T?m+=.0125:m-=.0125),f.push(k,ms(((N-I)*C+w)*Cs-Es),",",ms(((T-F)*E+x)*Cs-Es),",",ms(((N+I)*C+w)*Cs-Es),",",ms(((T+F)*E+x)*Cs-Es),",",ms((L*C+w)*Cs-Es),",",ms((R*E+x)*Cs-Es),",",ms((m*C+w)*Cs-Es),",",ms((y*E+x)*Cs-Es)),a=m,s=y;break;case vs.R:var O=Os[0],P=Os[1];O[0]=p[o++],O[1]=p[o++],P[0]=O[0]+p[o++],P[1]=O[1]+p[o++],e&&(Q(O,O,e),Q(P,P,e)),O[0]=ms(O[0]*Cs-Es),P[0]=ms(P[0]*Cs-Es),O[1]=ms(O[1]*Cs-Es),P[1]=ms(P[1]*Cs-Es),f.push(" m ",O[0],",",O[1]," l ",P[0],",",O[1]," l ",P[0],",",P[1]," l ",O[0],",",P[1]);break;case vs.Z:f.push(" x ")}if(n>0){f.push(r);for(var D=0;D<n;D++){var H=Os[D];e&&Q(H,H,e),f.push(ms(H[0]*Cs-Es),",",ms(H[1]*Cs-Es),D<n-1?",":"")}}}return f.join("")};Mn.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=hr("shape"),Bs(n),this._vmlEl=n),ks(n,"fill",e,this),ks(n,"stroke",e,this);var r=this.transform,i=null!=r,o=n.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(i&&!e.strokeNoScale){var s=r[0]*r[3]-r[1]*r[2];a*=ys(bs(s))}o.weight=a+"px"}var u=this.path||(this.path=new Do);this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=Ps(u,this.transform),n.style.zIndex=Ss(this.zlevel,this.z,this.z2),Is(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Mn.prototype.onRemove=function(t){Fs(t,this._vmlEl),this.removeRectText(t)},Mn.prototype.onAdd=function(t){Is(t,this._vmlEl),this.appendRectText(t)};var Ds=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};Te.prototype.brushVML=function(t){var e,n,r=this.style,i=r.image;if(Ds(i)){var o=i.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var a=i.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",e=i.width,n=i.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}i=o}else i===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(i){var l=r.x||0,c=r.y||0,h=r.width,d=r.height,f=r.sWidth,p=r.sHeight,A=r.sx||0,g=r.sy||0,v=f&&p,m=this._vmlEl;m||(m=gs.createElement("div"),Bs(m),this._vmlEl=m);var y,b=m.style,_=!1,w=1,x=1;if(this.transform&&(y=this.transform,w=ys(y[0]*y[0]+y[1]*y[1]),x=ys(y[2]*y[2]+y[3]*y[3]),_=y[1]||y[2]),_){var C=[l,c],E=[l+h,c],B=[l,c+d],N=[l+h,c+d];Q(C,C,y),Q(E,E,y),Q(B,B,y),Q(N,N,y);var T=xs(C[0],E[0],B[0],N[0]),I=xs(C[1],E[1],B[1],N[1]),F=[];F.push("M11=",y[0]/w,",","M12=",y[2]/x,",","M21=",y[1]/w,",","M22=",y[3]/x,",","Dx=",ms(l*w+y[4]),",","Dy=",ms(c*x+y[5])),b.padding="0 "+ms(T)+"px "+ms(I)+"px 0",b.filter="progid:DXImageTransform.Microsoft.Matrix("+F.join("")+", SizingMethod=clip)"}else y&&(l=l*w+y[4],c=c*x+y[5]),b.filter="",b.left=ms(l)+"px",b.top=ms(c)+"px";var S=this._imageEl,M=this._cropEl;S||(S=gs.createElement("div"),this._imageEl=S);var U=S.style;if(v){if(e&&n)U.width=ms(w*e*h/f)+"px",U.height=ms(x*n*d/p)+"px";else{var L=new Image,R=this;L.onload=function(){L.onload=null,e=L.width,n=L.height,U.width=ms(w*e*h/f)+"px",U.height=ms(x*n*d/p)+"px",R._imageWidth=e,R._imageHeight=n,R._imageSrc=i},L.src=i}M||((M=gs.createElement("div")).style.overflow="hidden",this._cropEl=M);var k=M.style;k.width=ms((h+A*h/f)*w),k.height=ms((d+g*d/p)*x),k.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-A*h/f*w+",Dy="+-g*d/p*x+")",M.parentNode||m.appendChild(M),S.parentNode!=M&&M.appendChild(S)}else U.width=ms(w*h)+"px",U.height=ms(x*d)+"px",m.appendChild(S),M&&M.parentNode&&(m.removeChild(M),this._cropEl=null);var O="",P=r.opacity;P<1&&(O+=".Alpha(opacity="+ms(100*P)+") "),O+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+i+", SizingMethod=scale)",U.filter=O,m.style.zIndex=Ss(this.zlevel,this.z,this.z2),Is(t,m),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},Te.prototype.onRemove=function(t){Fs(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Te.prototype.onAdd=function(t){Is(t,this._vmlEl),this.appendRectText(t)};var Hs,zs={},Ks=0,$s=document.createElement("div"),Vs=function(t){var e=zs[t];if(!e){Ks>100&&(Ks=0,zs={});var n,r=$s.style;try{r.font=t,n=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:0|parseFloat(r.fontSize||12),family:n||"Microsoft YaHei"},zs[t]=e,Ks++}return e};!function(t,e){Pi[t]=e}("measureText",function(t,e){var n=gs;Hs||((Hs=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",gs.body.appendChild(Hs));try{Hs.style.font=e}catch(t){}return Hs.innerHTML="",Hs.appendChild(n.createTextNode(t)),{width:Hs.offsetWidth}});for(var js=new Nt,Gs=[Ki,Ne,Te,Mn,da],qs=0;qs<Gs.length;qs++){var Xs=Gs[qs].prototype;Xs.drawRectText=function(t,e,n,r){var i=this.style;this.__dirty&&le(i);var o=i.text;if(null!=o&&(o+=""),o){if(i.rich){var a=oe(o,i);o=[];for(var s=0;s<a.lines.length;s++){for(var u=a.lines[s].tokens,l=[],c=0;c<u.length;c++)l.push(u[c].text);o.push(l.join(""))}o=o.join("\n")}var h,d,f=i.textAlign,p=i.textVerticalAlign,A=Vs(i.font),g=A.style+" "+A.variant+" "+A.weight+" "+A.size+'px "'+A.family+'"';n=n||jt(o,g,f,p);var v=this.transform;if(v&&!r&&(js.copy(e),js.applyTransform(v),e=js),r)h=e.x,d=e.y;else{var m=i.textPosition,y=i.textDistance;if(m instanceof Array)h=e.x+Ms(m[0],e.width),d=e.y+Ms(m[1],e.height),f=f||"left";else{var b=Yt(m,e,y);h=b.x,d=b.y,f=f||b.textAlign,p=p||b.textVerticalAlign}}h=Xt(h,n.width,f),d=Wt(d,n.height,p),d+=n.height/2;var _,w,x,C=hr,E=this._textVmlEl;E?w=(_=(x=E.firstChild).nextSibling).nextSibling:(E=C("line"),_=C("path"),w=C("textpath"),x=C("skew"),w.style["v-text-align"]="left",Bs(E),_.textpathok=!0,w.on=!0,E.from="0 0",E.to="1000 0.05",Is(E,x),Is(E,_),Is(E,w),this._textVmlEl=E);var B=[h,d],N=E.style;v&&r?(Q(B,B,v),x.on=!0,x.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",x.offset=(ms(B[0])||0)+","+(ms(B[1])||0),x.origin="0 0",N.left="0px",N.top="0px"):(x.on=!1,N.left=ms(h)+"px",N.top=ms(d)+"px"),w.string=Ns(o);try{w.style.font=g}catch(t){}ks(E,"fill",{fill:i.textFill,opacity:i.opacity},this),ks(E,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),E.style.zIndex=Ss(this.zlevel,this.z,this.z2),Is(t,E)}},Xs.removeRectText=function(t){Fs(t,this._textVmlEl),this._textVmlEl=null},Xs.appendRectText=function(t){Is(t,this._textVmlEl)}}da.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},da.prototype.onRemove=function(t){this.removeRectText(t)},da.prototype.onAdd=function(t){this.appendRectText(t)}}pr.prototype={constructor:pr,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var r=t[n];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||fr(e.width))-fr(e.paddingLeft)-fr(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||fr(e.height))-fr(e.paddingTop)-fr(e.paddingBottom)|0}},c(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){pr.prototype[t]=Ar(t)}),Ye("vml",pr),t.version="3.7.4",t.init=function(t,e){var n=new so(vr(),t,e);return ao[n.id]=n,n},t.dispose=function(t){if(t)t.dispose();else{for(var e in ao)ao.hasOwnProperty(e)&&ao[e].dispose();ao={}}return this},t.getInstance=function(t){return ao[t]},t.registerPainter=Ye,t.matrix=jr,t.vector=Pr,t.color=li,t.path=ca,t.util=Ur,t.Group=_i,t.Path=Mn,t.Image=Te,t.CompoundPath=ha,t.Text=da,t.Arc=fa,t.BezierCurve=Aa,t.Circle=ga,t.Droplet=va,t.Ellipse=ma,t.Heart=ya,t.Isogon=xa,t.Line=Ca,t.Polygon=Na,t.Polyline=Ta,t.Rect=Ia,t.Ring=Fa,t.Rose=Qa,t.Sector=Ra,t.Star=Da,t.Trochoid=Ka,t.LinearGradient=Va,t.RadialGradient=ja,t.Pattern=Fi,t.BoundingRect=Nt});var CgszrenderEx=function(t){t.Group.prototype.setChildsAttr=function(e,n){function r(i){i.eachChild(function(i){i instanceof t.Group?r(i):i.attr(e,n)})}r(this)},t.Group.prototype.setChildsAttrWithAnime=function(e){function n(e){e.eachChild(function(e){e instanceof t.Group?n(e):o.push(i(e))})}var r={attr:{},animeTime:300,delayTime:0};_.assign(r,e);var i=function(t){return new Promise(function(e){t.animateTo(r.attr,r.animeTime,r.delayTime,function(){e()})})},o=[];return n(this),Promise.all(o)}}(Cgszrender);!function(t,e,n){e.h337=n()}(0,this,function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},n=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var r=t[this._xField],i=t[this._yField],o=this._radi,a=this._data,s=this._max,u=this._min,l=t[this._valueField]||1,c=t.radius||this._cfgRadius||n;a[r]||(a[r]=[],o[r]=[]),a[r][i]?a[r][i]+=l:(a[r][i]=l,o[r][i]=c);var h=a[r][i];return h>s?(e?this.setDataMax(h):this._max=h,!1):h<u?(e?this.setDataMin(h):this._min=h,!1):{x:r,y:i,value:l,radius:c,min:u,max:s}},_unOrganizeData:function(){var t=[],e=this._data,n=this._radi;for(var r in e)for(var i in e[r])t.push({x:r,y:i,radius:n[r][i],value:e[r][i]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(t){var e=t.data,n=e.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(e[r],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),n=function(){function t(t){var n=t.container,r=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=t.canvas||document.createElement("canvas"),o=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});i.className="heatmap-canvas",this._width=i.width=r.width=t.width||+o.width.replace(/px/,""),this._height=i.height=r.height=t.height||+o.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(i),t.onCanvasAdded&&t.onCanvasAdded(i),this._palette=e(t),this._templates={},this._setStyles(t)}var e=function(t){var e=t.gradient||t.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var i=r.createLinearGradient(0,0,256,1);for(var o in e)i.addColorStop(o,e[o]);return r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},n=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t,o=t;if(n.width=n.height=2*t,1==e)r.beginPath(),r.arc(i,o,t,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var a=r.createRadialGradient(i,o,t*e,i,o,t);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=a,r.fillRect(0,0,2*t,2*t)}return n},r=function(t){for(var e=[],n=t.min,r=t.max,i=t.radi,t=t.data,o=Object.keys(t),a=o.length;a--;)for(var s=o[a],u=Object.keys(t[s]),l=u.length;l--;){var c=u[l],h=t[s][c],d=i[s][c];e.push({x:s,y:c,value:h,radius:d})}return{min:n,max:r,data:e}};return t.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(r(t)),this._colorize())},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var e=this._min=t.min,r=this._max=t.max,i=(t=t.data||[]).length,o=1-this._blur;i--;){var a,s=t[i],u=s.x,l=s.y,c=s.radius,h=Math.min(s.value,r),d=u-c,f=l-c,p=this.shadowCtx;this._templates[c]?a=this._templates[c]:this._templates[c]=a=n(c,o);var A=(h-e)/(r-e);p.globalAlpha=A<.01?.01:A,p.drawImage(a,d,f),d<this._renderBoundaries[0]&&(this._renderBoundaries[0]=d),f<this._renderBoundaries[1]&&(this._renderBoundaries[1]=f),d+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=d+2*c),f+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=f+2*c)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],n=this._renderBoundaries[2]-t,r=this._renderBoundaries[3]-e,i=this._width,o=this._height,a=this._opacity,s=this._maxOpacity,u=this._minOpacity,l=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+n>i&&(n=i-t),e+r>o&&(r=o-e);for(var c=this.shadowCtx.getImageData(t,e,n,r),h=c.data,d=h.length,f=this._palette,p=3;p<d;p+=4){var A=h[p],g=4*A;if(g){var v;v=a>0?a:A<s?A<u?u:A:s,h[p-3]=f[g],h[p-2]=f[g+1],h[p-1]=f[g+2],h[p]=l?f[g+3]:v}}c.data=h,this.ctx.putImageData(c,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e=this.shadowCtx.getImageData(t.x,t.y,1,1).data[3],n=this._max,r=this._min;return Math.abs(n-r)*(e/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},t}(),r=function(){var e=!1;return"canvas2d"===t.defaultRenderer&&(e=n),e}(),i={merge:function(){for(var t={},e=arguments.length,n=0;n<e;n++){var r=arguments[n];for(var i in r)t[i]=r[i]}return t}},o=function(){function n(){var n=this._config=i.merge(t,arguments[0]||{});if(this._coordinator=new o,n.plugin){var s=n.plugin;if(!t.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var u=t.plugins[s];this._renderer=new u.renderer(n),this._store=new u.store(n)}else this._renderer=new r(n),this._store=new e(n);a(this)}var o=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,n){var r=this.cStore;r[t]||(r[t]=[]),r[t].push(function(t){return e.call(n,t)})},emit:function(t,e){var n=this.cStore;if(n[t])for(var r=n[t].length,i=0;i<r;i++)(0,n[t][i])(e)}},t}(),a=function(t){var e=t._renderer,n=t._coordinator,r=t._store;n.on("renderpartial",e.renderPartial,e),n.on("renderall",e.renderAll,e),n.on("extremachange",function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})}),r.setCoordinator(n)};return n.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=i.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},n}();return{create:function(t){return new o(t)},register:function(e,n){t.plugins[e]=n}}});var Windy=function(t){this.fillColor=t.fillColor,this.particleCount=t.lineCount,this.maxParticleAge=t.speed;var e,n,r,i,o,a,s,u,l,c,h,d=this,f=.005*(Math.pow(window.devicePixelRatio,1/3)||1),p=90,A=Math.pow(window.devicePixelRatio,1/3)||1.6,g=[NaN,NaN,null],v=function(t,e,n,r,i,o){var a=1-t,s=1-e,u=a*s,l=t*s,c=a*e,h=t*e;return[n[0]*u+r[0]*l+i[0]*c+o[0]*h,n[1]*u+r[1]*l+i[1]*c+o[1]*h,n[2]*u+r[2]*l+i[2]*c+o[2]*h]},m=function(t,e,n){var r=t.data,i=e.data;return{header:t.header,data:function(t){return n?[r[t],i[t],n.data[t]]:[r[t],i[t],0]},interpolate:v}},y=function(t){var e=null,n=null,r=null,i=null;return t.forEach(function(t){switch(t.header.parameterCategory+","+t.header.parameterNumber){case"2,2":e=t;break;case"2,3":n=t;break;case"0,0":r=t;break;default:i=t}}),m(e,n,r)},b=function(t,c){var h=(e=y(t)).header;i=h.lo1,o=h.la1,a=h.dx,s=h.dy,u=h.nx,l=h.ny,(r=new Date(h.refTime)).setHours(r.getHours()+h.forecastTime),n=[];for(var d=0,f=Math.floor(u*a)>=360,p=0;p<l;p++){for(var A=[],g=0;g<u;g++,d++)A[g]=e.data(d);f&&A.push(A[0]),n[p]=A}c({date:r,interpolate:_})},_=function(t,r){if(!n)return null;var u,l=x(t-i,360)/a,c=(o-r)/s,h=Math.floor(l),d=h+1,f=Math.floor(c),p=f+1;if(u=n[f]){var A=u[h],g=u[d];if(w(A)&&w(g)&&(u=n[p])){var v=u[h],m=u[d];if(w(v)&&w(m))return e.interpolate(l-h,c-f,A,g,v,m)}}return null},w=function(t){return null!==t&&void 0!==t},x=function(t,e){return t-e*Math.floor(t/e)},C=function(){return/android|blackberry|iemobile|ipad|iphone|ipod|opera mini|webos/i.test(navigator.userAgent)},E=function(t,e,n,r,i,o,a,s){var u=a[0]*o,l=a[1]*o,c=B(t,e,n,r,i,s);return a[0]=c[0]*u+c[2]*l,a[1]=c[1]*u+c[3]*l,a},B=function(t,e,n,r,i,o){var a=2*Math.PI,s=Math.pow(10,-5.2),u=e<0?s:-s,l=n<0?s:-s,c=U(n,e+u,o),h=U(n+l,e,o),d=Math.cos(n/360*a);return[(c[0]-r)/u/d,(c[1]-i)/u/d,(h[0]-r)/l,(h[1]-i)/l]},N=function(t,e,n){function r(e,n){if(!t)return[NaN,NaN,null];var r=t[Math.round(e)];return r&&r[Math.round(n)]||g}r.release=function(){t=[]},r.randomize=function(t){var n,i,o=0;do{n=Math.round(Math.floor(Math.random()*e.width)+e.x),i=Math.round(Math.floor(Math.random()*e.height)+e.y)}while(null===r(n,i)[2]&&o++<30);return t.x=n,t.y=i,t},n(e,r)},T=function(t,e,n){var r=t[0],i=t[1],o=Math.round(r[0]),a=Math.max(Math.floor(r[1],0),0);Math.min(Math.ceil(i[0],e),e-1);return{x:o,y:a,xMax:e,yMax:Math.min(Math.ceil(i[1],n),n-1),width:e,height:n}},I=function(t){return t/180*Math.PI},F=function(t){return t/(Math.PI/180)},S=function(t,e,n){var r=n.east-n.west,i=n.width/F(r)*360/(2*Math.PI),o=i/2*Math.log((1+Math.sin(n.south))/(1-Math.sin(n.south))),a=(n.height+o-e)/i,s=180/Math.PI*(2*Math.atan(Math.exp(a))-Math.PI/2);return[F(n.west)+t/n.width*F(r),s]},M=function(t){return Math.log(Math.tan(t/2+Math.PI/4))},U=function(t,e,n){var r=M(n.south),i=M(n.north),o=n.width/(n.east-n.west),a=n.height/(i-r),s=M(I(t));return[(I(e)-n.west)*o,s=(i-s)*a]},Q=function(t,e,n,r){for(var i={},o=(n.south-n.north)*(n.west-n.east),a=f*Math.pow(o,.3),s=[],u=e.x;u<e.width;u+=2)!function(r){for(var o=[],u=e.y;u<=e.yMax;u+=2){var l=S(r,u,n);if(l){var c=l[0],h=l[1];if(isFinite(c)){var d=t.interpolate(c,h);d&&(d=E(i,c,h,r,u,a,d,n),o[u+1]=o[u]=d)}}}s[r+1]=s[r]=o}(u);N(s,e,r)},L=function(e,n,r){function i(){s.forEach(function(t){t.length=0}),c.forEach(function(t){t.age>p&&(n.randomize(t).age=~~(Math.random()*p/2));var e=t.x,r=t.y,i=n(e,r),o=i[2];if(null===o)t.age=p;else{var u=e+i[0],l=r+i[1];null!==n(u,l)[0]?(t.xt=u,t.yt=l,s[a.indexFor(o)].push(t)):(t.x=u,t.y=l)}t.age+=1})}function o(){g.save(),g.globalAlpha=.16,g.globalCompositeOperation="destination-out",g.fillStyle="#000",g.fillRect(e.x,e.y,e.width,e.height),g.restore(),s.forEach(function(t,e){t.length>0&&(g.beginPath(),d.fillColor?g.strokeStyle=d.fillColor:g.strokeStyle=a[e],t.forEach(function(t){g.moveTo(t.x,t.y),g.lineTo(t.xt,t.yt),t.x=t.xt,t.y=t.yt}),g.stroke())})}var a=function(t,e){var n=["rgb(36,104, 180)","rgb(60,157, 194)","rgb(128,205,193 )","rgb(151,218,168 )","rgb(198,231,181)","rgb(238,247,217)","rgb(255,238,159)","rgb(252,217,125)","rgb(255,182,100)","rgb(252,150,75)","rgb(250,112,52)","rgb(245,64,32)","rgb(237,45,28)","rgb(220,24,32)","rgb(180,0,35)"];return n.indexFor=function(r){return Math.max(0,Math.min(n.length-1,Math.round((r-t)/(e-t)*(n.length-1))))},n}(261.15,317.15),s=a.map(function(){return[]}),u=(r.south-r.north)*(r.west-r.east);if(d.particleCount)l=d.particleCount;else var l=Math.round(e.width*e.height*.005*Math.pow(u,.24));C()&&(l/=A),(c=c||[]).length>l&&(c=c.slice(0,l));for(var f=c.length;f<l;f++)c.push(n.randomize({age:0+~~(Math.random()*p)}));var g=t.canvas.getContext("2d");g.lineWidth=1;var v=Date.now();!function t(){h=requestAnimationFrame(t);var e=Date.now(),n=e-v;n>1e3/15&&(v=e-n%(1e3/15),i(),o())}()},R=function(e,n,r,i){var o={south:I(i[0][1]),north:I(i[1][1]),east:I(i[1][0]),west:I(i[0][0]),width:n,height:r};k(),d.maxParticleAge&&(p=d.maxParticleAge),b(t.data,function(t){Q(t,T(e,n,r),o,function(t,e){O.field=e,L(t,e,o)})})},k=function(){O.field&&O.field.release(),h&&cancelAnimationFrame(h)},O={params:t,start:R,stop:k,update:function(e,n,r,i,o){delete t.data,t.data=e,o&&R(n,r,i,o)},shift:function(e,n){var r=t.canvas,i=r.width,o=r.height,a=r.getContext("2d");if(i>e&&o>n){var s=function(t,e){return Math.max(0,Math.min(t,e))},u=a.getImageData(s(i,-e),s(o,-n),s(i,i-e),s(o,o-n));a.clearRect(0,0,i,o),a.putImageData(u,s(i,e),s(o,n));for(var l=0,h=c.length;l<h;l++)c[l].x+=e,c[l].y+=n}},createField:N,interpolatePoint:_,setFillColor:function(t){d.fillColor=t},setParticleCount:function(t){d.particleCount=t},setMaxParticleAge:function(t){d.maxParticleAge=t}};return O};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.turf={})}(this,function(t){"use strict";function e(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&E(r),i&&B(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");i&&E(i);var a;switch(t){case"Point":a=r(e).geometry;break;case"LineString":a=s(e).geometry;break;case"Polygon":a=o(e).geometry;break;case"MultiPoint":a=h(e).geometry;break;case"MultiLineString":a=c(e).geometry;break;case"MultiPolygon":a=d(e).geometry;break;default:throw new Error(t+" is invalid")}return i&&(a.bbox=i),a}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!x(t[0])||!x(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return r(t,e)}),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!x(o[0][0])||!x(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return o(t,e)}),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!x(t[0][1])||!x(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return s(t,e)}),n)}function l(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&E(n),r&&B(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function d(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function p(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function A(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function v(t,e){return y(g(t,e))}function m(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function y(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function _(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return A(g(t,e),n||"kilometers")}function w(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Po[e||"meters"];if(!r)throw new Error("invalid original units");var i=Po[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function x(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function E(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!x(t))throw new Error("bbox must only contain numbers")})}function B(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function N(t,e,n){if(null!==t)for(var r,i,o,a,s,u,l,c,h=0,d=0,f=t.type,p="FeatureCollection"===f,A="Feature"===f,g=p?t.features.length:1,v=0;v<g;v++){s=(c=!!(l=p?t.features[v].geometry:A?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<s;m++){var y=0,b=0;if(null!==(a=c?l.geometries[m]:l)){u=a.coordinates;var _=a.type;switch(h=!n||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":e(u,d,v,y,b),d++,y++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],d,v,y,b),d++,"MultiPoint"===_&&y++;"LineString"===_&&y++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++)e(u[r][i],d,v,y,b),d++;"MultiLineString"===_&&y++,"Polygon"===_&&b++}"Polygon"===_&&y++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===_&&(b=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++)e(u[r][i][o],d,v,y,b),d++;b++}y++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)N(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(t,e,n,r){var i=n;return N(t,function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)},r),i}function I(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function F(t,e,n){var r=n;return I(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function S(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function M(t,e,n){var r=n;return S(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function U(t){var e=[];return N(t,function(t){e.push(t)}),e}function Q(t,e){var n,r,i,o,a,s,u,l,c,h,d=0,f="FeatureCollection"===t.type,p="Feature"===t.type,A=f?t.features.length:1;for(n=0;n<A;n++){for(s=f?t.features[n].geometry:p?t.geometry:t,l=f?t.features[n].properties:p?t.properties:{},c=f?t.features[n].bbox:p?t.bbox:void 0,h=f?t.features[n].id:p?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,d,l,c,h);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],d,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,d,l,c,h);d++}}function L(t,e,n){var r=n;return Q(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)}),r}function R(t,n){Q(t,function(t,r,i,o,a){var s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}var u;switch(s){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:u,coordinates:t},i),r,o)})})}function k(t,e,n){var r=n;return R(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r}function O(t,e){R(t,function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&T(t,function(o,a,u,l,c,h){var d=s([o,a],t.properties);return e(d,n,r,h,i),i++,a})}})}function P(t,e,n){var r=n,i=!1;return O(t,function(t,o,a,s,u){r=!1===i&&void 0===n?t:e(r,t,o,a,s,u),i=!0}),r}function D(t,e){if(!t)throw new Error("geojson is required");R(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var a=0;a<o.length;a++)e(s(o[a],t.properties),n,r,a)}}})}function H(t,e,n){var r=n;return D(t,function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)}),r}function z(t){var e=[1/0,1/0,-1/0,-1/0];return N(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function K(t){if(!t)throw new Error("obj is required");var e=$(t);if(e.length>1&&x(e[0])&&x(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function $(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return V(e),e;throw new Error("No valid coordinates")}function V(t){if(t.length>1&&x(t[0])&&x(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return V(t[0]);throw new Error("coordinates must only contain numbers")}function j(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function G(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function q(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function X(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function W(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Y(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var r=Object.keys(Ko),i=0;i<r.length;i++){var o=r[i],a=n[o];a=void 0!==a&&null!==a?a:Ko[o],$o[o]=a}$o.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach(function(r,i){r.forEach(function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=(t[e][n],t[e][n]),d=h.cval,f=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][d]);s.push([n+f[0],e+f[1]]),f=nt(h,o=c[d]),s.push([n+f[0],e+f[1]]),et(h);for(var p=n+u[d],A=e+l[d],g=d;p>=0&&A>=0&&A<a&&(p!=n||A!=e)&&void 0!==(h=t[A][p]);){if(0===(d=h.cval)||15===d)return{path:s,info:"mergeable"};o=c[d],r=u[d],i=l[d],5!==d&&10!==d||(5===d?h.flipped?-1===l[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[g]&&(o="bottom",r=0,i=-1):10===d&&(h.flipped?-1===u[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[g]&&(o="left",r=-1,i=0))),f=nt(h,o),s.push([p+f[0],A+f[1]]),et(h),p+=r,A+=i,g=d}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=a.path.length-2;h>=0;--h)e[c].unshift(a.path[h]);s=!0;break}s||(e[n++]=a.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,u=t[o+1][a],l=t[o+1][a+1],c=t[o][a+1],h=t[o][a];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){s|=u>=e?8:0,s|=l>=e?4:0,s|=c>=e?2:0;var d=!1;if(5==(s|=h>=e?1:0)||10===s){var f=(u+l+c+h)/4;5===s&&f<e?(s=10,d=!0):10===s&&f<e&&(s=5,d=!0)}if(0!==s&&15!==s){var p,A,g,v;p=A=g=v=.5,1===s?(g=1-Z(e,u,h),A=1-Z(e,c,h)):2===s?(A=Z(e,h,c),v=1-Z(e,l,c)):3===s?(g=1-Z(e,u,h),v=1-Z(e,l,c)):4===s?(p=Z(e,u,l),v=Z(e,c,l)):5===s?(p=Z(e,u,l),v=Z(e,c,l),A=1-Z(e,c,h),g=1-Z(e,u,h)):6===s?(A=Z(e,h,c),p=Z(e,u,l)):7===s?(g=1-Z(e,u,h),p=Z(e,u,l)):8===s?(g=Z(e,h,u),p=1-Z(e,l,u)):9===s?(A=1-Z(e,c,h),p=1-Z(e,l,u)):10===s?(p=1-Z(e,l,u),v=1-Z(e,l,c),A=Z(e,h,c),g=Z(e,h,u)):11===s?(p=1-Z(e,l,u),v=1-Z(e,l,c)):12===s?(g=Z(e,h,u),v=Z(e,c,l)):13===s?(A=1-Z(e,c,h),v=Z(e,c,l)):14===s?(g=Z(e,h,u),A=Z(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:d,top:p,right:v,bottom:A,left:g}}}}}return i}(t,e));return"function"==typeof $o.successCallback&&$o.successCallback(s),s}function Z(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;q(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return S(t,function(t){var e=$(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return $(t)[0]-$(e)[0]})}).sort(function(t,n){return e?$(t[0])[1]-$(n[0])[1]:$(n[0])[1]-$(t[0])[1]})}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}function it(t,e,n,r,i){for(n=n||0,r=r||t.length-1,i=i||function(t,e){return t<e?-1:t>e?1:0};r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);it(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(r,Math.floor(e+(o-a)*u/o+l)),i)}var c=t[e],h=n,d=r;for(ot(t,n,e),i(t[r],c)>0&&ot(t,n,r);h<d;){for(ot(t,h,d),h++,d--;i(t[h],c)<0;)h++;for(;i(t[d],c)>0;)d--}0===i(t[n],c)?ot(t,n,d):ot(t,++d,r),d<=e&&(n=d+1),e<=d&&(r=d-1)}}function ot(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function at(t,e){if(!(this instanceof at))return new at(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function st(t,e){ut(t,0,t.children.length,e,t)}function ut(t,e,n,r,i){i||(i=gt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],lt(i,t.leaf?r(o):o);return i}function lt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ct(t,e){return t.minX-e.minX}function ht(t,e){return t.minY-e.minY}function dt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ft(t){return t.maxX-t.minX+(t.maxY-t.minY)}function pt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function At(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function gt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function vt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Vo(t,o,e,n,i),a.push(e,o,o,n))}function mt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function bt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],u=s.slice();for(o=0;o<t.length;o++)ia(t[o],s)||u.push(t[o]);var l=ta(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=jo(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var u=i[s];o.remove(u),r=Et(u,r),a.push(r)}var l=jo(16);for(s=0;s<a.length;s++)l.insert(Ct(a[s]));for(var c=e*e,h=n*n;a.length;){var d=a.shift(),f=d.p,p=d.next.p,A=Bt(f,p);if(!(A<h)){var g=A/c;(u=function(t,e,n,r,i,o,a){for(var s=new na(null,_t),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?Nt(c,n,r):function(t,e,n){if(wt(t,n)||wt(e,n))return 0;var r=Tt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Tt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Tt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Tt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,c);h>o||s.push({node:c,dist:h})}for(;s.length&&!s.peek().node.children;){var d=s.pop(),f=d.node,p=Nt(f,e,n),A=Nt(f,r,i);if(d.dist<p&&d.dist<A&&xt(n,f,a)&&xt(r,f,a))return f}(u=s.pop())&&(u=u.node)}return null}(o,d.prev.p,f,p,d.next.next.p,g,l))&&Math.min(Bt(u,f),Bt(u,p))<=g&&(a.push(d),a.push(Et(u,d)),o.remove(u),l.remove(d),l.insert(Ct(d)),l.insert(Ct(d.next)))}}d=r;var v=[];do{v.push(d.p),d=d.next}while(d!==r);return v.push(d.p),v}function _t(t,e){return t.dist-e.dist}function wt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function xt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),u=0;u<s.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&oa(t,e,n)>0!=oa(t,e,r)>0&&oa(n,r,t)>0!=oa(n,r,e)>0}(s[u].p,s[u].next.p,t,e))return!1;return!0}function Ct(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Et(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Bt(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Nt(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return o=t[0]-r,a=t[1]-i,o*o+a*a}function Tt(t,e,n,r,i,o,a,s){var u,l,c,h,d=n-t,f=r-e,p=a-i,A=s-o,g=t-i,v=e-o,m=d*d+f*f,y=d*p+f*A,b=p*p+A*A,_=d*g+f*v,w=p*g+A*v,x=m*b-y*y,C=x,E=x;0===x?(l=0,C=1,h=w,E=b):(h=m*w-y*_,(l=y*w-b*_)<0?(l=0,h=w,E=b):l>C&&(l=C,h=w+y,E=b)),h<0?(h=0,-_<0?l=0:-_>m?l=C:(l=-_,C=m)):h>E&&(h=E,-_+y<0?l=0:-_+y>m?l=C:(l=-_+y,C=m)),u=0===l?0:l/C;var B=(1-(c=0===h?0:h/E))*i+c*a-((1-u)*t+u*n),N=(1-c)*o+c*s-((1-u)*e+u*r);return B*B+N*N}function It(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(N(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var i=aa(r,n);return i.length>3?o([i]):null}function Ft(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=K(t),o=$(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===a&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(St(i,o[u][0],r)){for(var c=!1,h=1;h<o[u].length&&!c;)St(i,o[u][h],!r)&&(c=!0),h++;c||(l=!0)}return l}function St(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(r=!r)}return r}function Mt(t,e){var n=[];return Q(e,function(e){S(t,function(t){Ft(t,e)&&n.push(t)})}),l(n)}function Ut(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(Lt);for(var e,n,r,i,o,a,s=t.length-1,u=t[s].x,l=t[0].x,c=t[s].y,h=c;s--;)t[s].y<c&&(c=t[s].y),t[s].y>h&&(h=t[s].y);var d,f=l-u,p=h-c,A=f>p?f:p,g=.5*(l+u),v=.5*(h+c),m=[new Qt({x:g-20*A,y:v-A,__sentinel:!0},{x:g,y:v+20*A,__sentinel:!0},{x:g+20*A,y:v-A,__sentinel:!0})],y=[],b=[];for(s=t.length;s--;){for(b.length=0,d=m.length;d--;)(f=t[s].x-m[d].x)>0&&f*f>m[d].r?(y.push(m[d]),m.splice(d,1)):(p=t[s].y-m[d].y,f*f+p*p>m[d].r||(b.push(m[d].a,m[d].b,m[d].b,m[d].c,m[d].c,m[d].a),m.splice(d,1)));for(Rt(b),d=b.length;d;)n=b[--d],e=b[--d],r=t[s],i=n.x-e.x,o=n.y-e.y,a=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(a)>1e-12&&m.push(new Qt(e,n,r))}for(Array.prototype.push.apply(y,m),s=y.length;s--;)(y[s].a.__sentinel||y[s].b.__sentinel||y[s].c.__sentinel)&&y.splice(s,1);return y}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)}))}function Qt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(u*l-a*c)/h,this.y=(o*c-s*l)/h,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function Lt(t,e){return e.x-t.x}function Rt(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function kt(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=K(t),o=K(e),a=b(o[1]-i[1]),s=b(o[0]-i[0]),u=b(i[1]),l=b(o[1]),c=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(l);return A(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Ot(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Pt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Pt(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ht(t);default:throw new Error("unknown GeoJSON type")}}function Pt(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=Dt(t.properties),e.geometry=Ht(t.geometry),e}function Dt(t){var e={};return t?(Object.keys(t).forEach(function(n){var r=t[n];"object"==typeof r?null===r?e[n]=null:r.length?e[n]=r.map(function(t){return t}):e[n]=Dt(r):e[n]=r}),e):e}function Ht(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Ht(t)}),e):(e.coordinates=zt(t.coordinates),e)}function zt(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return zt(t)})}function Kt(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r],r));t<0&&ca(e,i)}function r(t){return u(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var u=la(t.transform),l=t.arcs;return s(e)}function $t(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),a.push(t)}function i(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Kt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},a=[],s=[];return e.forEach(n),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&r.push(t)})})}),r=ha(t,r),(n=r.length)>1)for(var a,s,u=1,l=i(r[0]);u<n;++u)(a=i(r[u]))>l&&(s=r[0],r[0]=r[u],r[u]=s,l=a);return r})}}function Vt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function jt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Gt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Gt:qt)(t)}function Gt(t){var e,n=qt(t.geometry);null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox);for(e in t.properties){n.properties=t.properties;break}return n}function qt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(qt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Xt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Wt(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function Yt(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Y(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ot(t));var r=[],i=H(t,function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Jt(r[0]),a=Jt(r[r.length-1]),u=Jt(i[0]),l=Jt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(u===a)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(a!==l)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)});return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map(function(t){return t.coordinates})):null}function Jt(t){return t[0].toString()+","+t[1].toString()}function Zt(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Y(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ot(t));var r=function(t){var e={};R(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return Yt(t,e);case"Polygon":return function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Y(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ot(t));var r=[];R(t,function(t){r.push(t.geometry)});var i=wa({geoms:f(r).geometry});return da(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function te(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=Y(t),o=[];switch(i){case"LineString":o=ee(t);break;case"MultiLineString":case"Polygon":$(t).forEach(function(t){o.push(ee(t))});break;case"MultiPolygon":$(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(ee(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var a={};$(t).forEach(function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function ee(t){var e=$(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],a=e.length-1;o.push(e[0]);for(var s=1;s<a;s++)n=e[s-1],r=e[s],function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],u=e[1],l=s-o,c=u-a;return(r-o)*c-(i-a)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=u:u<=i&&i<=a)}(n,i=e[s+1],r)||o.push(r);return o.push(i),o}function ne(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function re(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return o=t.x-r,a=t.y-i,o*o+a*a}function ie(t,e,n,r,i){for(var o,a=r,s=e+1;s<n;s++){var u=re(t[s],t[e],t[n]);u>a&&(o=s,a=u)}a>r&&(o-e>1&&ie(t,e,o,r,i),i.push(t[o]),n-o>1&&ie(t,o,n,r,i))}function oe(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)ne(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),t=function(t,e){var n=t.length-1,r=[t[0]];return ie(t,0,n,e,r),r.push(t[n]),r}(t,r)}function ae(t,e,n){return oe(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function se(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var i=oe(r,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=oe(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function ue(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!x(n))throw new Error("resolution must be an number");if(!x(r))throw new Error("sharpness must be an number");for(var i=[],o=new xa({points:X(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var u=o.pos(a);Math.floor(a/100)%2==0&&i.push([u.x,u.y])}return s(i,t.properties)}function le(t){E(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function ce(t){return le(z(t))}function he(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(kt(t.slice(0,2),[r,n])>=kt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function de(t,e,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var o=i.units,a=i.properties,s=K(t),u=b(s[0]),l=b(s[1]),c=b(n),h=g(e,o),d=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return r([y(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(d))),y(d)],a)}function fe(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(de(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),o([a],i)}function pe(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=pe(e,t);return n=(n+180)%360}(t,e);var r=K(t),i=K(e),o=b(r[0]),a=b(i[0]),s=b(r[1]),u=b(i[1]),l=Math.sin(a-o)*Math.cos(u),c=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-o);return y(Math.atan2(l,c))}function Ae(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=z(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ge(t,e){var n=0,i=0,o=0;return N(t,function(t){n+=t[0],i+=t[1],o++},!0),r([n/o,i/o],e)}function ve(t,e){switch(Y(t)){case"Point":return t;case"Polygon":var n=[];N(t,function(t){n.push(t)});var i,o,a,s,u,l,c,h,d=ge(t,e),f=d.geometry.coordinates,p=0,A=0,g=0,v=n.map(function(t){return[t[0]-f[0],t[1]-f[1]]});for(i=0;i<n.length-1;i++)s=(o=v[i])[0],l=o[1],u=(a=v[i+1])[0],g+=h=s*(c=a[1])-u*l,p+=(s+u)*h,A+=(l+c)*h;if(0===g)return d;var m=1/(.5*g*6);return r([f[0]+m*p,f[1]+m*A],e);default:var y=It(t);return y?ve(y,e):ge(t,e)}}function me(t){var e=[];return"FeatureCollection"===t.type?S(t,function(t){N(t,function(n){e.push(r(n,t.properties))})}):N(t,function(n){e.push(r(n,t.properties))}),l(e)}function ye(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,o=be(t,0,i,n,!0),a=[];if(!o)return a;var s,u,l,c,h,d,f;if(r&&(o=function(t,e,n,r){var i,o,a,s,u,l=[];for(i=0,o=e.length;i<o;i++)a=e[i]*r,s=i<o-1?e[i+1]*r:t.length,(u=be(t,a,s,r,!1))===u.next&&(u.steiner=!0),l.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(u));for(l.sort(xe),i=0;i<l.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,d=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Ee(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<d||u===d&&r.x>n.x)&&Ie(r,t)&&(n=r,d=u),r=r.next;return n}(t,e)){var n=Fe(e,t);_e(n,n.next)}}(l[i],n),n=_e(n,n.next);return n}(t,e,o,n)),t.length>80*n){s=l=t[0],u=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<s&&(s=h),d<u&&(u=d),h>l&&(l=h),d>c&&(c=d);f=0!==(f=Math.max(l-s,c-u))?1/f:0}return we(o,a,n,s,u,f),a}function be(t,e,n,r,i){var o,a;if(i===Qe(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Se(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Se(o,t[o],t[o+1],a);return a&&Ne(a,a.next)&&(Me(a),a=a.next),a}function _e(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ne(r,r.next)&&0!==Be(r.prev,r,r.next))r=r.next;else{if(Me(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function we(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ce(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Be(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Ce(s,u,e,n,r),d=Ce(l,c,e,n,r),f=t.nextZ;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&Ee(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Be(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&Ee(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Be(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(Be(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ee(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Be(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Me(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?we(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ne(i,o)&&Te(i,r,r.next,o)&&Ie(i,o)&&Ie(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Me(r),Me(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===a&&function(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Te(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ie(t,e)&&Ie(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(a,s)){var u=Fe(a,s);return a=_e(a,a.next),u=_e(u,u.next),we(a,e,n,r,i,o),void we(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}(t,e,n,r,i,o):we(_e(t),e,n,r,i,o,1);break}}}function xe(t,e){return t.x-e.x}function Ce(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Ee(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Be(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ne(t,e){return t.x===e.x&&t.y===e.y}function Te(t,e,n,r){return!!(Ne(t,e)&&Ne(n,r)||Ne(t,r)&&Ne(n,e))||Be(t,e,n)>0!=Be(t,e,r)>0&&Be(n,r,t)>0!=Be(n,r,e)>0}function Ie(t,e){return Be(t.prev,t,t.next)<0?Be(t,e,t.next)>=0&&Be(t,t.prev,e)>=0:Be(t,e,t.prev)<0||Be(t,t.next,e)<0}function Fe(t,e){var n=new Ue(t.i,t.x,t.y),r=new Ue(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Se(t,e,n,r){var i=new Ue(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Me(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ue(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qe(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Le(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=Ca(e.vertices,e.holes,2),r=[],i=[];n.forEach(function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Re(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return S(e,function(e,i){var o=kt(t,e);o<r&&((n=Ot(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)}),n}function ke(t,e,n,r,i){Oe(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Oe(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);Oe(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(r,Math.floor(e+(o-a)*u/o+l)),i)}var c=t[e],h=n,d=r;for(Pe(t,n,e),i(t[r],c)>0&&Pe(t,n,r);h<d;){for(Pe(t,h,d),h++,d--;i(t[h],c)<0;)h++;for(;i(t[d],c)>0;)d--}0===i(t[n],c)?Pe(t,n,d):Pe(t,++d,r),d<=e&&(n=d+1),e<=d&&(r=d-1)}}function Pe(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function De(t,e){if(!(this instanceof De))return new De(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function He(t,e){ze(t,0,t.children.length,e,t)}function ze(t,e,n,r,i){i||(i=We(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ke(i,t.leaf?r(o):o);return i}function Ke(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function $e(t,e){return t.minX-e.minX}function Ve(t,e){return t.minY-e.minY}function je(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ge(t){return t.maxX-t.minX+(t.maxY-t.minY)}function qe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Xe(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function We(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ye(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(ke(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function Je(t){var e=De(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Ze(e)).bbox=e}else t.bbox=t.bbox?t.bbox:tn(t);return De.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=Ze(t);n.bbox=t,e.push(n)}):S(t,function(t){t.bbox=t.bbox?t.bbox:tn(t),e.push(t)}),De.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Ze(e)).bbox=e}return De.prototype.remove.call(this,t)},e.clear=function(){return De.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:De.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return De.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:De.prototype.all.call(this)}},e.toJSON=function(){return De.prototype.toJSON.call(this)},e.fromJSON=function(t){return De.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:tn(t),{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Ze(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function tn(t){var e=[1/0,1/0,-1/0,-1/0];return N(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function en(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=$(r);break;case"LineString":n=[$(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,r){var i=s([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),l(e)}function nn(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=rn(t,n);return o&&i.push(o),l(i)}var a=Je();return a.load(en(n)),S(en(t),function(t){S(a.search(t),function(e){var n=rn(t,e);if(n){var o=$(n).join(",");r[o]||(r[o]=!0,i.push(n))}})}),l(i)}function rn(t,e){var n=$(t),i=$(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],d=i[1][1],f=(d-c)*(s-o)-(h-l)*(u-a),p=(h-l)*(a-c)-(d-c)*(o-l),A=(s-o)*(a-c)-(u-a)*(o-l);if(0===f)return null;var g=p/f,v=A/f;return g>=0&&g<=1&&v>=0&&v<=1?r([o+g*(s-o),a+g*(u-a)]):null}function on(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return R(t,function(t){for(var i=$(t),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=kt(e,l,n);var c=r(i[u+1]);c.properties.dist=kt(e,c,n);var h=kt(l,c,n),d=Math.max(l.properties.dist,c.properties.dist),f=pe(l,c),p=de(e,d,f+90,n),A=de(e,d,f-90,n),g=nn(s([p.geometry.coordinates,A.geometry.coordinates]),s([l.geometry.coordinates,c.geometry.coordinates])),v=null;g.features.length>0&&((v=g.features[0]).properties.dist=kt(e,v,n),v.properties.location=a+kt(l,v,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=a),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=a+h),v&&v.properties.dist<o.properties.dist&&((o=v).properties.index=u),a+=h}}),o}function an(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");var i;return(i=r?sn(K(e),K(t)):sn(K(t),K(e)))>180?-(360-i):i}function sn(t,e){var n=b(t[1]),r=b(e[1]),i=b(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(y(Math.atan2(i,o))+360)%360}function un(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=K(t),o=K(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,_(function(t,e,n){var r=n=void 0===n?Ro:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?a/u:Math.cos(i);return Math.sqrt(a*a+l*l*s*s)*r}(i,o),"meters",r)}function ln(t,e){return hn(t,"mercator",e)}function cn(t,e){return hn(t,"wgs84",e)}function hn(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&x(t[0])?t="mercator"===e?dn(t):fn(t):(!0!==r&&(t=Ot(t)),N(t,function(t){var n="mercator"===e?dn(t):fn(t);t[0]=n[0],t[1]=n[1]})),t}function dn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function fn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function pn(t,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):G(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):G(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return O(n,function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],s=function(t,e,n,i){var o=i.mercator,a=!0!==o?kt(e,t,i):An(e,t,i),s=m(!0!==o?pe(e,t):an(e,t)),u=m(!0!==o?pe(e,n):an(e,n)),l=Math.abs(s-u);if(l>90)return a;var c=(u+180)%360,h=m(!0!==o?pe(n,t):an(n,t)),d=Math.abs(h-c);return d>180&&(d=Math.abs(d-360)),d>90?!0!==o?kt(t,n,i):An(t,n,i):!0!==o?a*Math.sin(b(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=cn(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}(ln([t[0]+o,t[1]]),ln([e[0]+o,e[1]]),ln([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),un(a,s,i)}(e,n,t,i)}(a,e,n,i);o>s&&(o=s)}),o}function An(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=ln([t[0]+i,t[1]]),a=ln([e[0]+i,e[1]]),s=function(t){return t*t},u=s(o[0]-a[0])+s(o[1]-a[1]);return _(Math.sqrt(u),"meters",r)}function gn(t){for(var n=function(t){return"FeatureCollection"!==t.type?l("Feature"!==t.type?[e(t)]:[t]):t}(t),i=Ae(n),o=!1,a=0;!o&&a<n.features.length;){var s,u=n.features[a].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var h=!1;for(s=0;!h&&s<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[s][0]&&i.geometry.coordinates[1]===u.coordinates[s][1]&&(o=!0,h=!0),s++}else if("LineString"===u.type)for(s=0;!c&&s<u.coordinates.length-1;)vn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(c=!0,o=!0),s++;else if("MultiLineString"===u.type)for(var d=0;d<u.coordinates.length;){c=!1,s=0;for(var f=u.coordinates[d];!c&&s<f.length-1;)vn(i.geometry.coordinates[0],i.geometry.coordinates[1],f[s][0],f[s][1],f[s+1][0],f[s+1][1])&&(c=!0,o=!0),s++;d++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Ft(i,u)&&(o=!0);a++}if(o)return i;var p=l([]);for(a=0;a<n.features.length;a++)p.features=p.features.concat(me(n.features[a]).features);return r(Re(i,p).geometry.coordinates)}function vn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function mn(t){return L(t,function(t,e){return t+yn(e)},0)}function yn(t){var e,n=0;switch(t.type){case"Polygon":return bn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=bn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=yn(t.geometries[e]);return n}}function bn(t){var e=0;if(t&&t.length>0){e+=Math.abs(_n(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(_n(t[n]))}return e}function _n(t){var e,n,r,i,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,i=u-1,o=0):a===u-1?(r=u-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(wn(t[o][0])-wn(e[0]))*Math.sin(wn(n[1]));s=s*Na*Na/2}return s}function wn(t){return t*Math.PI/180}function xn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return P(t,function(t,n){var r=n.geometry.coordinates;return t+kt(r[0],r[1],e)},0)}function Cn(t,e,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,u,l,c=0,h=0;h<i.length&&!(e>=c&&h===i.length-1);h++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(i[h]),s(o);u=pe(i[h],i[h-1])-180,l=de(i[h],a,u,r),o.push(l.geometry.coordinates)}if(c>=n)return(a=n-c)?(u=pe(i[h],i[h-1])-180,l=de(i[h],a,u,r),o.push(l.geometry.coordinates),s(o)):(o.push(i[h]),s(o));if(c>=e&&o.push(i[h]),h===i.length-1)return s(o);c+=kt(i[h],i[h+1],r)}return s(i[i.length-1])}function En(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=K(t),o=$(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],u=e[0],l=e[1],c=u-a,h=l-s;return(n[0]-a)*h-(n[1]-s)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(h)?c>0?a<i&&i<=u:u<=i&&i<a:h>0?s<o&&o<=l:l<=o&&o<s:"end"===r?Math.abs(c)>=Math.abs(h)?c>0?a<=i&&i<u:u<i&&i<=a:h>0?s<=o&&o<l:l<o&&o<=s:"both"===r?Math.abs(c)>=Math.abs(h)?c>0?a<i&&i<u:u<i&&i<a:h>0?s<o&&o<l:l<o&&o<s:void 0:Math.abs(c)>=Math.abs(h)?c>0?a<=i&&i<=u:u<=i&&i<=a:h>0?s<=o&&o<=l:l<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function Bn(t,e){var n=Y(t),r=Y(e),i=X(t),o=X(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Tn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return En(i,o,{ignoreEndVertices:!0});case"Polygon":return Ft(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Tn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!En(t.coordinates[r],e))return!1;n||(n=En(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Ft(t.coordinates[1],e);if(!i){n=!1;break}i=Ft(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!En(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!Nn(z(e),z(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Ft(t.coordinates[r],e))return!1;n||(n=Ft(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=Ft(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=z(t);if(!Nn(z(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Ft(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function Nn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Tn(t,e){return t[0]===e[0]&&t[1]===e[1]}function In(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!x(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Y(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],d=e/kt([s,u],[c,u],n)*(c-s),f=e/kt([s,u],[s,h],n)*(h-u),p=c-s,A=h-u,g=Math.floor(p/d),v=(A-Math.floor(A/f)*f)/2,m=s+(p-g*d)/2;m<=c;){for(var y=u+v;y<=h;){var b=r([m,y],o);i?Bn(b,i)&&a.push(b):a.push(b),y+=f}m+=d}return l(a)}function Fn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return N(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)}),t}function Sn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Sn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Mn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Un(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Un(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Qn(t,e){var n=[],r=Je();return R(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var i=r.search(e);if(i.features.length){var o=Rn(e,i);n=n.filter(function(t){return t.id!==o.id}),r.remove(o),S(Ln(o,e),function(t){n.push(t),r.insert(t)})}}else(n=Ln(t,e).features).forEach(function(t){t.bbox||(t.bbox=he(z(t)))}),r.load(l(n))}),l(n)}function Ln(t,e){var n=[],r=$(t)[0],i=$(t)[t.geometry.coordinates.length-1];if(kn(r,K(e))||kn(i,K(e)))return l([t]);var o=Je(),a=en(t);o.load(a);var u=o.search(e);if(!u.features.length)return l([t]);var c=Rn(e,u),h=M(a,function(t,r,i){var o=$(r)[1],a=K(e);return i===c.id?(t.push(a),n.push(s(t)),kn(a,o)?[a]:[a,o]):(t.push(o),t)},[r]);return h.length>1&&n.push(s(h)),l(n)}function Rn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return S(e,function(e){var i=on(e,t).properties.dist;i<r&&(n=e,r=i)}),n}function kn(t,e){return t[0]===e[0]&&t[1]===e[1]}function On(t,e,n,r,i){if(i=i||{},!C(i))throw new Error("options is invalid");var o=i.steps,a=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Pn(n),l=Pn(r),c=t.properties;if(u===l)return s(fe(t,e,i).geometry.coordinates[0],c);for(var h=u,d=u<l?l:l+360,f=h,p=[],A=0;f<d;)p.push(de(t,e,f,a).geometry.coordinates),f=h+360*++A/o;return f>d&&p.push(de(t,e,d,a).geometry.coordinates),s(p,c)}function Pn(t){var e=t%360;return e<0&&(e+=360),e}function Dn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,r=Y(t),i=$(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Hn(i,n);case"MultiPolygon":var o=[];return i.forEach(function(t){o.push(Hn(t,n))}),l(o);default:throw new Error("geom "+r+" not supported")}}function Hn(t,e){return t.length>1?c(t,e):s(t[0],e)}function zn(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,Y(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push($(Kn(t,{},r,i)))}),d(o,n)}return Kn(t,n,r,i)}function Kn(t,e,n,r){e=e||t.properties||{};var i=$(t),a=Y(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=$n(i)),o([i],e);case"MultiLineString":var u=[],l=0;return i.forEach(function(t){if(n&&(t=$n(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(z(s(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)}),o(u,e);default:throw new Error("geometry type "+a+" is not supported")}}function $n(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],a=i[1];return n===o&&r===a||t.push(e),t}function Vn(t,e,n){var r,i,o,a,s,u=t.length,l=Gn(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],a=s=Gn(o=t[r],e);;){if(!(l|a)){c.push(i),a!==s?(c.push(o),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(o);break}if(l&a)break;l?l=Gn(i=jn(i,o,l,e),e):a=Gn(o=jn(i,o,a,e),e)}l=s}return c.length&&n.push(c),n}function jn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Gn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function qn(t,e){for(var n=[],r=0;r<t.length;r++){var i=Oa.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Xn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Wn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var r,i;if(Yn(t)||Yn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Xn(t))return!!Xn(e)&&(t=Pa.call(t),e=Pa.call(e),Wn(t,e,n));if(Jn(t)){if(!Jn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),r=o.length-1;r>=0;r--)if(o[r]!==a[r])return!1;for(r=o.length-1;r>=0;r--)if(i=o[r],!Wn(t[i],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Yn(t){return null===t||void 0===t}function Jn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Zn(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.tolerance||0,i=[],o=Je();o.load(en(t));var a;return O(e,function(t){var e=!1;S(o.search(t),function(n){if(!1===e){var i=$(t).sort(),o=$(n).sort();Wn(i,o)?(e=!0,a=a?tr(a,t):t):(0===r?En(i[0],n)&&En(i[1],n):on(n,i[0]).properties.dist<=r&&on(n,i[1]).properties.dist<=r)?(e=!0,a=a?tr(a,t):t):(0===r?En(o[0],t)&&En(o[1],t):on(t,o[0]).properties.dist<=r&&on(t,o[1]).properties.dist<=r)&&(a=a?tr(a,n):n)}}),!1===e&&a&&(i.push(a),a=void 0)}),a&&i.push(a),l(i)}function tr(t,e){var n=$(e),r=$(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return Wn(n[0],i)?a.unshift(n[1]):Wn(n[0],o)?a.push(n[1]):Wn(n[1],i)?a.unshift(n[0]):Wn(n[1],o)&&a.push(n[0]),t}function er(t){var e=t%360;return e<0&&(e+=360),e}function nr(t,e,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=_(e,o,"meters"),u=K(t),l=function(t,e,n,r){var i=e/(r=void 0===r?Ro:Number(r)),o=t[0]*Math.PI/180,a=b(t[1]),s=b(n),u=i*Math.cos(s),l=a+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(a);return[(180*(o+i*Math.sin(s)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,s,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,a)}function rr(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),r=ir(s,u,e),n<=0&&r>0?function(t,e,n){return ir(t,s,i)<0}(e)||(i=s):n>0&&r<=0&&(function(t,e,n){return ir(t,s,o)>0}(e)||(o=s)),n=r}return[i,o]}function ir(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function or(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=$(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function ar(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return Q(t,function(t){ar(t,e)}),t;case"LineString":return sr($(t),e),t;case"Polygon":return ur($(t),e),t;case"MultiLineString":return $(t).forEach(function(t){sr(t,e)}),t;case"MultiPolygon":return $(t).forEach(function(t){ur(t,e)}),t;case"Point":case"MultiPoint":return t}}function sr(t,e){or(t)===e&&t.reverse()}function ur(t,e){or(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)or(t[n])===e&&t[n].reverse()}function lr(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;q(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return S(t,function(t){var e=$(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return $(t)[0]-$(e)[0]})}).sort(function(t,n){return e?$(t[0])[1]-$(n[0])[1]:$(n[0])[1]-$(t[0])[1]})}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}function cr(t,e,n,r){r=r||{};for(var i=Object.keys(Da),o=0;o<i.length;o++){var a=i[o],s=r[a];s=void 0!==s&&null!==s?s:Da[a],Ha[a]=s}Ha.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var u=0;u<i;++u){var l=0,c=t[s+1][u],h=t[s+1][u+1],d=t[s][u+1],f=t[s][u];if(!(isNaN(c)||isNaN(h)||isNaN(d)||isNaN(f))){l|=c<e?0:c>a?128:64,l|=h<e?0:h>a?32:16,l|=d<e?0:d>a?8:4;var p=+(l|=f<e?0:f>a?2:1),A=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+d+f)/4;A=g>a?2:g<e?0:1,34===l?1===A?l=35:0===A&&(l=136):136===l?1===A?(l=35,A=4):0===A&&(l=34):17===l?1===A?(l=155,A=4):0===A&&(l=153):68===l?1===A?(l=103,A=4):0===A&&(l=102):153===l?1===A&&(l=155):102===l?1===A&&(l=103):152===l?A<2&&(l=156,A=1):137===l?A<2&&(l=139,A=1):98===l?A<2&&(l=99,A=1):38===l?A<2&&(l=39,A=1):18===l?A>0?(l=156,A=4):l=152:33===l?A>0?(l=139,A=4):l=137:72===l?A>0?(l=99,A=4):l=98:132===l&&(A>0?(l=39,A=4):l=38)}if(0!=l&&170!=l){var v,m,y,b,_,w,x,C;v=m=y=b=_=w=x=C=.5;var E=[];1===l?(y=1-hr(e,d,f),C=1-hr(e,c,f),E.push(Ns[l])):169===l?(y=hr(a,f,d),C=hr(a,f,c),E.push(Ns[l])):4===l?(w=1-hr(e,h,d),b=hr(e,f,d),E.push(Es[l])):166===l?(w=hr(a,d,h),b=1-hr(a,d,f),E.push(Es[l])):16===l?(_=hr(e,d,h),m=hr(e,c,h),E.push(Cs[l])):154===l?(_=1-hr(a,h,d),m=1-hr(a,h,c),E.push(Cs[l])):64===l?(x=hr(e,f,c),v=1-hr(e,h,c),E.push(Is[l])):106===l?(x=1-hr(a,c,f),v=hr(a,c,h),E.push(Is[l])):168===l?(b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),E.push(Bs[l]),E.push(Ns[l])):2===l?(b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),E.push(Bs[l]),E.push(Ns[l])):162===l?(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),E.push(Bs[l]),E.push(Ns[l])):8===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),E.push(Cs[l]),E.push(Es[l])):138===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Cs[l]),E.push(Es[l])):32===l?(_=hr(a,d,h),w=hr(e,d,h),v=hr(e,c,h),m=hr(a,c,h),E.push(Cs[l]),E.push(Es[l])):42===l?(C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h),E.push(Ts[l]),E.push(Is[l])):128===l&&(C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Ts[l]),E.push(Is[l])),5===l?(w=1-hr(e,h,d),C=1-hr(e,c,f),E.push(Es[l])):165===l?(w=hr(a,d,h),C=hr(a,f,c),E.push(Es[l])):20===l?(b=hr(e,f,d),m=hr(e,c,h),E.push(Bs[l])):150===l?(b=1-hr(a,d,f),m=1-hr(a,h,c),E.push(Bs[l])):80===l?(_=hr(e,d,h),x=hr(e,f,c),E.push(Cs[l])):90===l?(_=1-hr(a,h,d),x=1-hr(a,c,f),E.push(Cs[l])):65===l?(y=1-hr(e,d,f),v=1-hr(e,h,c),E.push(Ns[l])):105===l?(y=hr(a,f,d),v=hr(a,c,h),E.push(Ns[l])):160===l?(_=hr(a,d,h),w=hr(e,d,h),C=hr(e,f,c),x=hr(a,f,c),E.push(Cs[l]),E.push(Es[l])):10===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),C=1-hr(a,c,f),x=1-hr(e,c,f),E.push(Cs[l]),E.push(Es[l])):130===l?(b=1-hr(e,d,f),y=1-hr(a,d,f),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Bs[l]),E.push(Ns[l])):40===l?(b=hr(a,f,d),y=hr(e,f,d),v=hr(e,c,h),m=hr(a,c,h),E.push(Bs[l]),E.push(Ns[l])):101===l?(w=hr(a,d,h),v=hr(a,c,h),E.push(Es[l])):69===l?(w=1-hr(e,h,d),v=1-hr(e,h,c),E.push(Es[l])):149===l?(C=hr(a,f,c),m=1-hr(a,h,c),E.push(Ts[l])):21===l?(C=1-hr(e,c,f),m=hr(e,c,h),E.push(Ts[l])):86===l?(b=1-hr(a,d,f),x=1-hr(a,c,f),E.push(Bs[l])):84===l?(b=hr(e,f,d),x=hr(e,f,c),E.push(Bs[l])):89===l?(_=1-hr(a,h,d),y=hr(a,f,d),E.push(Ns[l])):81===l?(_=hr(e,d,h),y=1-hr(e,d,f),E.push(Ns[l])):96===l?(_=hr(a,d,h),w=hr(e,d,h),x=hr(e,f,c),v=hr(a,c,h),E.push(Cs[l]),E.push(Es[l])):74===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),x=1-hr(a,c,f),v=1-hr(e,h,c),E.push(Cs[l]),E.push(Es[l])):24===l?(_=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),m=hr(e,c,h),E.push(Cs[l]),E.push(Ns[l])):146===l?(_=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),m=1-hr(a,h,c),E.push(Cs[l]),E.push(Ns[l])):6===l?(w=1-hr(e,h,d),b=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),E.push(Es[l]),E.push(Bs[l])):164===l?(w=hr(a,d,h),b=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),E.push(Es[l]),E.push(Bs[l])):129===l?(y=1-hr(e,d,f),C=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Ns[l]),E.push(Ts[l])):41===l?(y=hr(a,f,d),C=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h),E.push(Ns[l]),E.push(Ts[l])):66===l?(b=1-hr(e,d,f),y=1-hr(a,d,f),x=1-hr(a,c,f),v=1-hr(e,h,c),E.push(Bs[l]),E.push(Ns[l])):104===l?(b=hr(a,f,d),y=hr(e,f,d),x=hr(e,f,c),v=hr(a,c,h),E.push(Ns[l]),E.push(Fs[l])):144===l?(_=hr(e,d,h),C=hr(e,f,c),x=hr(a,f,c),m=1-hr(a,h,c),E.push(Cs[l]),E.push(Is[l])):26===l?(_=1-hr(a,h,d),C=1-hr(a,c,f),x=1-hr(e,c,f),m=hr(e,c,h),E.push(Cs[l]),E.push(Is[l])):36===l?(w=hr(a,d,h),b=hr(e,f,d),v=hr(e,c,h),m=hr(a,c,h),E.push(Es[l]),E.push(Bs[l])):134===l?(w=1-hr(e,h,d),b=1-hr(a,d,f),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Es[l]),E.push(Bs[l])):9===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),y=hr(a,f,d),C=1-hr(e,c,f),E.push(Cs[l]),E.push(Es[l])):161===l?(_=hr(a,d,h),w=hr(e,d,h),y=1-hr(e,d,f),C=hr(a,f,c),E.push(Cs[l]),E.push(Es[l])):37===l?(w=hr(a,d,h),C=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h),E.push(Es[l]),E.push(Ts[l])):133===l?(w=1-hr(e,h,d),C=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c),E.push(Es[l]),E.push(Ts[l])):148===l?(b=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),m=1-hr(a,h,c),E.push(Bs[l]),E.push(Is[l])):22===l?(b=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),m=hr(e,c,h),E.push(Bs[l]),E.push(Is[l])):82===l?(_=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),x=1-hr(a,c,f),E.push(Cs[l]),E.push(Ns[l])):88===l?(_=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),x=hr(e,f,c),E.push(Cs[l]),E.push(Ns[l])):73===l?(_=1-hr(e,h,d),w=1-hr(a,h,d),y=hr(a,f,d),v=1-hr(e,h,c),E.push(Cs[l]),E.push(Es[l])):97===l?(_=hr(a,d,h),w=hr(e,d,h),y=1-hr(e,d,f),v=hr(a,c,h),E.push(Cs[l]),E.push(Es[l])):145===l?(_=hr(e,d,h),y=1-hr(e,d,f),C=hr(a,f,c),m=1-hr(a,h,c),E.push(Cs[l]),E.push(Ts[l])):25===l?(_=1-hr(a,h,d),y=hr(a,f,d),C=1-hr(e,c,f),m=hr(e,c,h),E.push(Cs[l]),E.push(Ts[l])):70===l?(w=1-hr(e,h,d),b=1-hr(a,d,f),x=1-hr(a,c,f),v=1-hr(e,h,c),E.push(Es[l]),E.push(Bs[l])):100===l?(w=hr(a,d,h),b=hr(e,f,d),x=hr(e,f,c),v=hr(a,c,h),E.push(Es[l]),E.push(Bs[l])):34===l?(0===A?(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)):(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)),E.push(Cs[l]),E.push(Es[l]),E.push(Ts[l]),E.push(Is[l])):35===l?(4===A?(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)):(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)),E.push(Cs[l]),E.push(Es[l]),E.push(Ns[l]),E.push(Is[l])):136===l?(0===A?(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)):(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)),E.push(Cs[l]),E.push(Es[l]),E.push(Ts[l]),E.push(Is[l])):153===l?(0===A?(_=hr(e,d,h),y=1-hr(e,d,f),C=1-hr(e,c,f),m=hr(e,c,h)):(_=1-hr(a,h,d),y=hr(a,f,d),C=hr(a,f,c),m=1-hr(a,h,c)),E.push(Cs[l]),E.push(Ns[l])):102===l?(0===A?(w=1-hr(e,h,d),b=hr(e,f,d),x=hr(e,f,c),v=1-hr(e,h,c)):(w=hr(a,d,h),b=1-hr(a,d,f),x=1-hr(a,c,f),v=hr(a,c,h)),E.push(Es[l]),E.push(Is[l])):155===l?(4===A?(_=hr(e,d,h),y=1-hr(e,d,f),C=1-hr(e,c,f),m=hr(e,c,h)):(_=1-hr(a,h,d),y=hr(a,f,d),C=hr(a,f,c),m=1-hr(a,h,c)),E.push(Cs[l]),E.push(Ts[l])):103===l?(4===A?(w=1-hr(e,h,d),b=hr(e,f,d),x=hr(e,f,c),v=1-hr(e,h,c)):(w=hr(a,d,h),b=1-hr(a,d,f),x=1-hr(a,c,f),v=hr(a,c,h)),E.push(Es[l]),E.push(Bs[l])):152===l?(0===A?(_=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),m=hr(e,c,h)):(_=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),m=1-hr(a,h,c)),E.push(Cs[l]),E.push(Bs[l]),E.push(Ns[l])):156===l?(4===A?(_=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),m=hr(e,c,h)):(_=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),m=1-hr(a,h,c)),E.push(Cs[l]),E.push(Ns[l]),E.push(Is[l])):137===l?(0===A?(_=hr(a,d,h),w=hr(e,d,h),y=1-hr(e,d,f),C=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)):(_=1-hr(e,h,d),w=1-hr(a,h,d),y=hr(a,f,d),C=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)),E.push(Cs[l]),E.push(Es[l]),E.push(Ns[l])):139===l?(4===A?(_=hr(a,d,h),w=hr(e,d,h),y=1-hr(e,d,f),C=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)):(_=1-hr(e,h,d),w=1-hr(a,h,d),y=hr(a,f,d),C=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)),E.push(Cs[l]),E.push(Es[l]),E.push(Ts[l])):98===l?(0===A?(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),x=hr(e,f,c),v=1-hr(e,h,c)):(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),x=1-hr(a,c,f),v=hr(a,c,h)),E.push(Cs[l]),E.push(Es[l]),E.push(Is[l])):99===l?(4===A?(_=1-hr(e,h,d),w=1-hr(a,h,d),b=hr(a,f,d),y=hr(e,f,d),x=hr(e,f,c),v=1-hr(e,h,c)):(_=hr(a,d,h),w=hr(e,d,h),b=1-hr(e,d,f),y=1-hr(a,d,f),x=1-hr(a,c,f),v=hr(a,c,h)),E.push(Cs[l]),E.push(Es[l]),E.push(Ns[l])):38===l?(0===A?(w=1-hr(e,h,d),b=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)):(w=hr(a,d,h),b=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)),E.push(Es[l]),E.push(Ts[l]),E.push(Is[l])):39===l?(4===A?(w=1-hr(e,h,d),b=hr(e,f,d),C=hr(e,f,c),x=hr(a,f,c),v=1-hr(a,h,c),m=1-hr(e,h,c)):(w=hr(a,d,h),b=1-hr(a,d,f),C=1-hr(a,c,f),x=1-hr(e,c,f),v=hr(e,c,h),m=hr(a,c,h)),E.push(Es[l]),E.push(Bs[l]),E.push(Is[l])):85===l&&(_=1,w=0,b=1,y=0,C=0,x=1,v=0,m=1),(v<0||v>1||m<0||m>1||_<0||_>1||b<0||b>1||C<0||C>1||x<0||x>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+p+" "+c+","+h+","+d+","+f+" "+A+" "+v+" "+m+" "+_+" "+w+" "+b+" "+y+" "+C+" "+x),o.cells[s][u]={cval:l,cval_real:p,flipped:A,topleft:v,topright:m,righttop:_,rightbottom:w,bottomright:b,bottomleft:y,leftbottom:C,lefttop:x,edges:E}}}}}return o}(t,e,n);return Ha.polygons?(Ha.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return l.cells.forEach(function(t,r){t.forEach(function(t,i){if(void 0!==t){var o=Ms[t.cval](t);"object"==typeof o&&dr(o)?"object"==typeof o[0]&&dr(o[0])?"object"==typeof o[0][0]&&dr(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}()):(Ha.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Ka?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&$a?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&$a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Va?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Ka?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&$a?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&$a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Va?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&$a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Va?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&za?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&$a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Va?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&za?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&$a?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&za?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&za?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&za?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Ka?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&za?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Ka?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),u=null,l=a,c=o;null!==s&&i.push([s.p[0]+l,s.p[1]+c]);do{if(null===(u=function(t,e,n,r){var i,o,a,s,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=Es[l],a=es[l],s=ns[l],u=rs[l];break;default:i=Cs[l],a=Ja[l],s=Za[l],u=ts[l]}break;case 1:switch(r){case 0:i=Ts[l],a=fs[l],s=ps[l],u=As[l];break;default:i=Is[l],a=cs[l],s=hs[l],u=ds[l]}break;default:switch(n){case-1:switch(r){case 0:i=Fs[l],a=ja[l],s=Ga[l],u=qa[l];break;default:i=Ss[l],a=Xa[l],s=Wa[l],u=Ya[l]}break;case 1:switch(r){case 0:i=Ns[l],a=is[l],s=os[l],u=as[l];break;default:i=Bs[l],a=ss[l],s=us[l],u=ls[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&Ka?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&$a?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&$a?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Va?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&Ka?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&$a?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&$a?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Va?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&$a?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Va?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Va?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&za?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&$a?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Va?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Va?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&za?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&$a?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&za?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Va?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&za?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&za?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&Ka?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&za?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&Ka?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}(t.cells[c][l],s.x,s.y,s.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,c+=u.y,s=u,c<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,a=t.cells[l][u],s=a.cval_real,-1===i)if(0===o)if(s&Va)c.push([u,l]),r=-1,i=0,o=0;else{if(!(s&$a)){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(s&Va)){if(s&$a){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+a.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&Ka)){if(s&za){c.push([u+a.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+a.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&za)){if(s&Va){c.push([u,l+a.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+a.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(s&za)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&$a)){c.push([u+1,l+a.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(s&$a)){if(s&Ka){c.push([u+1,l+a.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+a.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(a=t.cells[l][u],s=a.cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(s&Va)){c.push([u+a.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(s&za)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(s&Ka)){c.push([u+a.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(s&$a)){c.push([u+1,l+a.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(s&za)){c.push([u,l+a.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(u+=r,l+=i,u===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){i.push(t)}),l=h.i,c=h.j,s=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof Ha.successCallback&&Ha.successCallback(u),u}function hr(t,e,n){return(t-e)/(n-e)}function dr(t){return t.constructor.toString().indexOf("Array")>-1}function fr(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e?t:(r||(r=ge(t)),!1!==i&&void 0!==i||(t=Ot(t)),N(t,function(t){var n=an(r,t)+e,i=un(r,t),o=$(nr(r,i,n));t[0]=o[0],t[1]=o[1]}),t)}function pr(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Ot(t)),"FeatureCollection"!==t.type||o?Ar(t,e,r):(S(t,function(n,i){t.features[i]=Ar(n,e,r)}),t)}function Ar(t,e,n){var i="Point"===Y(t);return n=function(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return K(e);var n=t.bbox?t.bbox:z(t),i=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return Ae(t);case void 0:case null:case"centroid":return ge(t);default:throw new Error("invalid origin")}}(t,n),1===e||i?t:(N(t,function(t){var r=un(n,t),i=an(n,t),o=$(nr(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t)}function gr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function vr(t,e){return t[0]*e[1]-e[0]*t[1]}function mr(t,e){return!function(t,e){return 0===vr(gr(t),gr(e))}(t,e)&&function(t,e){var n=t[0],r=gr(t),i=e[0],o=gr(e),a=vr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(vr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/a,r))}(t,e)}function yr(t,e,n){var r=[],i=v(e,n),o=$(t),a=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r;return[[i,t[1]+n*(t[0]-e[0])/r],[o,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],u=mr(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}}),s(a,t.properties)}function br(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],a=n[1]-e[1];return Math.sign(r*a-o*i)}function _r(t,e){return e.geometry.coordinates[0].every(function(e){return Ft(r(e),t)})}function wr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1];return r*a-i*o==0&&(Math.abs(o)>=Math.abs(a)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function xr(t,e){return nn(e,Dn(t)).features.length>0}function Cr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Er(t,e){return t[0]===e[0]&&t[1]===e[1]}function Br(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),Ir(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function Nr(t,e){return nn(t,Dn(e)).features.length>0}function Tr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)Ft(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function Ir(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==i*s-o*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:s>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Fr(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Sr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Mr(t,e){return Ds(t,e,{strict:!0})}function Ur(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Y(t);if(n!==Y(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new zs({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=U(t),o=U(e);i.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case"LineString":case"MultiLineString":O(t,function(t){O(e,function(e){Zn(t,e).features.length&&r++})});break;case"Polygon":case"MultiPolygon":O(t,function(t){O(e,function(e){nn(t,e).features.length&&r++})})}return r>0}function Qr(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Lr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Rr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function kr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Or(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Or(t,e,n){this.x=t,this.y=e,this.weight=n}function Pr(t){this.content=[],this.scoreFunction=t}function Dr(t){return t[0]}function Hr(t){return t[1]}function zr(){this._=null}function Kr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function $r(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Vr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function jr(t){for(;t.L;)t=t.L;return t}function Gr(t,e,n,r){var i=[null,null],o=su.push(i)-1;return i.left=t,i.right=e,n&&Xr(i,t,e,n),r&&Xr(i,e,t,r),ou[t.index].halfedges.push(o),ou[e.index].halfedges.push(o),i}function qr(t,e,n){var r=[e,n];return r.left=t,r}function Xr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Wr(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,d=s[0]-u,f=s[1]-l;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*d,l+c*f]),h<1&&(t[1]=[u+h*d,l+h*f]),!0)}}}}}function Yr(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],d=l[1],f=c[0],p=c[1],A=(h+f)/2,g=(d+p)/2;if(p===d){if(A<e||A>=r)return;if(h>f){if(u){if(u[1]>=i)return}else u=[A,n];o=[A,i]}else{if(u){if(u[1]<n)return}else u=[A,i];o=[A,n]}}else if(a=(h-f)/(p-d),s=g-a*A,a<-1||a>1)if(h>f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Jr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Zr(t,e){return e[+(e.left!==t.site)]}function ti(t,e){return e[+(e.left===t.site)]}function ei(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,d=2*(u*h-l*c);if(!(d>=-hu)){var f=u*u+l*l,p=c*c+h*h,A=(h*f-l*p)/d,g=(u*p-c*f)/d,v=uu.pop()||new function(){Kr(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=A+a,v.y=(v.cy=g+s)+Math.sqrt(A*A+g*g),t.circle=v;for(var m=null,y=au._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}au.insert(m,v),m||(ru=v)}}}}function ni(t){var e=t.circle;e&&(e.P||(ru=e.N),au.remove(e),uu.push(e),Kr(e),t.circle=null)}function ri(t){var e=lu.pop()||new function(){Kr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function ii(t){ni(t),iu.remove(t),lu.push(t),Kr(t)}function oi(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];ii(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<cu&&Math.abs(r-u.circle.cy)<cu;)o=u.P,s.unshift(u),ii(u),u=o;s.unshift(u),ni(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<cu&&Math.abs(r-l.circle.cy)<cu;)a=l.N,s.push(l),ii(l),l=a;s.push(l),ni(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Xr(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Gr(u.site,l.site,null,i),ei(u),ei(l)}function ai(t){for(var e,n,r,i,o=t[0],a=t[1],s=iu._;s;)if((r=si(s,a)-o)>cu)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return si(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>cu)){r>-cu?(e=s.P,n=s):i>-cu?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ou[t.index]={site:t,halfedges:[]}}(t);var u=ri(t);if(iu.insert(e,u),e||n){if(e===n)return ni(e),n=ri(e.site),iu.insert(u,n),u.edge=n.edge=Gr(e.site,u.site),ei(e),void ei(n);if(n){ni(e),ni(n);var l=e.site,c=l[0],h=l[1],d=t[0]-c,f=t[1]-h,p=n.site,A=p[0]-c,g=p[1]-h,v=2*(d*g-f*A),m=d*d+f*f,y=A*A+g*g,b=[(g*m-f*y)/v+c,(d*y-A*m)/v+h];Xr(n.edge,l,p,b),u.edge=Gr(l,t,null,b),n.edge=Gr(t,p,null,b),ei(e),ei(n)}else u.edge=Gr(e.site,u.site)}}function si(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,d=c/l;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function ui(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function li(t,e){return e[1]-t[1]||e[0]-t[0]}function ci(t,e){var n,r,i,o=t.sort(li).pop();for(su=[],ou=new Array(t.length),iu=new zr,au=new zr;;)if(i=ru,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ai(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;oi(i.arc)}if(function(){for(var t,e,n,r,i=0,o=ou.length;i<o;++i)if((t=ou[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Jr(t,su[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=su.length;o--;)Yr(i=su[o],t,e,n,r)&&Wr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>cu||Math.abs(i[0][1]-i[1][1])>cu)||delete su[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,d,f,p,A,g=ou.length,v=!0;for(i=0;i<g;++i)if(o=ou[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)su[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(f=ti(o,su[u[s]]))[0],A=f[1],h=(c=Zr(o,su[u[++s%l]]))[0],d=c[1],(Math.abs(p-h)>cu||Math.abs(A-d)>cu)&&(u.splice(s,0,su.push(qr(a,f,Math.abs(p-t)<cu&&r-A>cu?[t,Math.abs(h-t)<cu?d:r]:Math.abs(A-r)<cu&&n-p>cu?[Math.abs(d-r)<cu?h:n,r]:Math.abs(p-n)<cu&&A-e>cu?[n,Math.abs(h-n)<cu?d:e]:Math.abs(A-e)<cu&&p-t>cu?[Math.abs(d-e)<cu?h:t,e]:null))-1),++l);l&&(v=!1)}if(v){var m,y,b,_=1/0;for(i=0,v=null;i<g;++i)(o=ou[i])&&(b=(m=(a=o.site)[0]-t)*m+(y=a[1]-e)*y)<_&&(_=b,v=o);if(v){var w=[t,e],x=[t,r],C=[n,r],E=[n,e];v.halfedges.push(su.push(qr(a=v.site,w,x))-1,su.push(qr(a,x,C))-1,su.push(qr(a,C,E))-1,su.push(qr(a,E,w))-1)}}for(i=0;i<g;++i)(o=ou[i])&&(o.halfedges.length||delete ou[i])}(a,s,u,l)}this.edges=su,this.cells=ou,iu=au=su=ou=null}function hi(t){return(t=t.slice()).push(t[0]),o([t])}function di(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,u=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!x(i))throw new Error("steps must be a number");if(!x(s))throw new Error("angle must be a number");var c=K(t);if("degrees"===a)var h=b(s);else e=nr(t,e,90,{units:a}),n=nr(t,n,0,{units:a}),e=K(e)[0]-c[0],n=K(n)[1]-c[1];for(var d=[],f=0;f<i;f+=1){var p=-360*f/i,A=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(fi(p),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(fi(p),2));if(p<-90&&p>=-270&&(A=-A),p<-180&&p>=-360&&(g=-g),"degrees"===a){var v=A*Math.cos(h)+g*Math.sin(h),m=g*Math.cos(h)-A*Math.sin(h);A=v,g=m}d.push([A+c[0],g+c[1]])}return d.push(d[0]),"degrees"===a?o([d],l):fr(o([d],l),s,{pivot:u})}function fi(t){var e=t*Math.PI/180;return Math.tan(e)}function pi(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return Q(t,function(t,e,n){var r=n[i];if(r=void 0===r||null===r?1:r,!x(r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&N(t,function(t){o+=t[0]*r,a+=t[1]*r,s+=r})}),r([o/s,a/s],n)}function Ai(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,u=0,l=0;if(S(n,function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(r=Number(r),!x(r))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*kt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,u+=o}}),l<1)throw new Error("no features to measure");var c=a/u,h=s/u;return 1===l||0===i||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),Ai([c,h],t,n,i-1))}function gi(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function vi(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*_i(),180*_i()]}function mi(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(vi(n)));return l(i)}function yi(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;void 0!==t&&null!==t||(t=1),x(r)||(r=10),x(i)||(i=10);for(var a=[],s=0;s<t;s++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(vi(n))),a.push(o([u]))}return l(a)}function bi(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;void 0!==t&&null!==t||(t=1),(!x(r)||r<2)&&(r=10),x(i)||(i=1e-4),x(o)||(o=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var c=[vi(n)],h=0;h<r-1;h++){var d=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,f=Math.random()*i;c.push([c[h][0]+f*Math.cos(d),c[h][1]+f*Math.sin(d)])}a.push(s(c))}return l(a)}function _i(){return Math.random()-.5}function wi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return S(t,function(t){Bi(t.properties,e)&&n.push(t)}),l(n)}function xi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var r=Ei(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],u=[],c=0;c<s.length;c++)u.push(t.features[s[c]]);n(l(u),a,o)}}function Ci(t,e,n,r){var i=r;return xi(t,e,function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)}),i}function Ei(t,e){var n={};return S(t,function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}}),n}function Bi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!Bi(t,e[r]))return!1;return!0}return Ni(t,e)}function Ni(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Ti(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function Ii(){}function Fi(t){this.message=t||""}function Si(t){this.message=t||""}function Mi(){}function Ui(t){return null===t?Ul:t.color}function Qi(t){return null===t?null:t.parent}function Li(t,e){null!==t&&(t.color=e)}function Ri(t){return null===t?null:t.left}function ki(t){return null===t?null:t.right}function Oi(){this.root_=null,this.size_=0}function Pi(){}function Di(){this.array_=[],arguments[0]instanceof ml&&this.addAll(arguments[0])}function Hi(){}function zi(t){this.message=t||""}function Ki(){this.array_=[]}function $i(t){switch(t.type){case"Polygon":return mn(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,function(t){mn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Vi(){this.reset()}function ji(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Gi(t){return t>1?Pf:t<-1?-Pf:Math.asin(t)}function qi(){}function Xi(t,e){t&&tp.hasOwnProperty(t.type)&&tp[t.type](t,e)}function Wi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Yi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Wi(t[n],e,1);e.polygonEnd()}function Ji(t){return[jf(t[1],t[0]),Gi(t[2])]}function Zi(t){var e=t[0],n=t[1],r=Gf(n);return[r*Gf(e),r*Wf(e),Wf(n)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function eo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function no(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function io(t){var e=Yf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function oo(t,e){return[t>Of?t-Hf:t<-Of?t+Hf:t,e]}function ao(t,e,n){return(t%=Hf)?e||n?np(uo(t),lo(e,n)):uo(t):e||n?lo(e,n):oo}function so(t){return function(e,n){return e+=t,[e>Of?e-Hf:e<-Of?e+Hf:e,n]}}function uo(t){var e=so(t);return e.invert=so(-t),e}function lo(t,e){function n(t,e){var n=Gf(e),s=Gf(t)*n,u=Wf(t)*n,l=Wf(e),c=l*r+s*i;return[jf(u*o-c*a,s*r-l*i),Gi(c*o+u*a)]}var r=Gf(t),i=Wf(t),o=Gf(e),a=Wf(e);return n.invert=function(t,e){var n=Gf(e),s=Gf(t)*n,u=Wf(t)*n,l=Wf(e),c=l*o-u*a;return[jf(u*o+l*a,s*r+c*i),Gi(c*r-s*i)]},n}function co(t,e){(e=Zi(e))[0]-=t,io(e);var n=function(t){return t>1?0:t<-1?Of:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Hf-kf)%Hf}function ho(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fo(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function po(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return $f(r[0]-t)<kf?i>0?0:3:$f(r[0]-n)<kf?i>0?2:1:$f(r[1]-e)<kf?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&_.point(t,e)}function l(o,a){var s=i(o,a);if(h&&d.push([o,a]),y)f=o,p=a,A=s,y=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&m)_.point(o,a);else{var u=[g=Math.max(hp,Math.min(cp,g)),v=Math.max(hp,Math.min(cp,v))],l=[o=Math.max(hp,Math.min(cp,o)),a=Math.max(hp,Math.min(cp,a))];op(u,l,t,e,n,r)?(m||(_.lineStart(),_.point(u[0],u[1])),_.point(l[0],l[1]),s||_.lineEnd(),b=!1):s&&(_.lineStart(),_.point(o,a),b=!1)}g=o,v=a,m=s}var c,h,d,f,p,A,g,v,m,y,b,_=a,w=ip(),x={point:u,lineStart:function(){x.point=l,h&&h.push(d=[]),y=!0,m=!1,g=v=NaN},lineEnd:function(){c&&(l(f,p),A&&m&&w.rejoin(),c.push(w.result())),x.point=u,m&&_.lineEnd()},polygonStart:function(){_=w,c=[],h=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var o,a,s=h[n],u=1,l=s.length,c=s[0],d=c[0],f=c[1];u<l;++u)o=d,a=f,d=(c=s[u])[0],f=c[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=lp(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&sp(c,s,e,o,a),a.polygonEnd()),_=a,c=h=d=null}};return x}}function Ao(t){return t.length>1}function go(t,e){return((t=t.x)[0]<0?t[1]-Pf-kf:Pf-t[1])-((e=e.x)[0]<0?e[1]-Pf-kf:Pf-e[1])}function vo(t){return function(e){var n=new mo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mo(){}function yo(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),ep(n,t.stream(mp));var a=mp.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function bo(t){return function(t){function e(t){return t=l(t[0]*Kf,t[1]*Kf),[t[0]*A+a,s-t[1]*A]}function n(t,e){return t=o(t,e),[t[0]*A+a,s-t[1]*A]}function r(){l=np(u=ao(b,_,w),o);var t=o(m,y);return a=g-t[0]*A,s=v+t[1]*A,i()}function i(){return f=p=null,e}var o,a,s,u,l,c,h,d,f,p,A=150,g=480,v=250,m=0,y=0,b=0,_=0,w=0,x=null,C=bp,E=null,B=fp,N=.5,T=Cp(n,N);return e.stream=function(t){return f&&p===t?f:f=Ep(C(u,T(B(p=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?_p(x=t*Kf,6*Kf):(x=null,bp),i()):x*zf},e.clipExtent=function(t){return arguments.length?(B=null==t?(E=c=h=d=null,fp):po(E=+t[0][0],c=+t[0][1],h=+t[1][0],d=+t[1][1]),i()):null==E?null:[[E,c],[h,d]]},e.scale=function(t){return arguments.length?(A=+t,r()):A},e.translate=function(t){return arguments.length?(g=+t[0],v=+t[1],r()):[g,v]},e.center=function(t){return arguments.length?(m=t[0]%360*Kf,y=t[1]%360*Kf,r()):[m*zf,y*zf]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Kf,_=t[1]%360*Kf,w=t.length>2?t[2]%360*Kf:0,r()):[b*zf,_*zf,w*zf]},e.precision=function(t){return arguments.length?(T=Cp(n,N=t*t),i()):Yf(N)},e.fitExtent=function(t,n){return yo(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return yo(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-a)/A,(s-t[1])/A))&&[t[0]*zf,t[1]*zf]},r()}}(function(){return t})()}function _o(t,e){return[t,Xf(Jf((Pf+e)/2))]}function wo(t,e){return[Xf(Jf((Pf+e)/2)),-t]}function xo(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return Q(t,function(t){var e=xo(t,n,r,i);e&&s.push(e)}),l(s)}var u,c=z(t),h=c[1]>50&&c[3]>50;u=h?{type:a.type,coordinates:Eo(a.coordinates,No(a))}:ln(a);var d=(new wc).read(u),f=A(g(n,r),"meters"),p=fd.bufferOp(d,f);if(p=(new xc).write(p),!Co(p.coordinates)){var v;return(v=h?{type:p.type,coordinates:Bo(p.coordinates,No(a))}:cn(p)).geometry?v:e(v,o)}}function Co(t){return Array.isArray(t[0])?Co(t[0]):isNaN(t[0])}function Eo(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return Eo(t,e)})}function Bo(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return Bo(t,e)})}function No(t){var e=Ae(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return Bp().center(e).rotate(n).scale(Ro)}function To(){for(var t=new wc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=Qf.union(e,t.read(JSON.stringify(arguments[n].geometry)));return e=(new xc).write(e),{type:"Feature",geometry:e,properties:arguments[0].properties}}function Io(t,n){var r=X(t),i=X(n);if(te(Fn(i,{precision:4})).coordinates[0].length<4)return null;if(te(Fn(r,{precision:4})).coordinates[0].length<4)return null;var o=new wc,a=o.read(Fn(r)),s=o.read(Fn(i)),u=Ef.intersection(a,s);return u.isEmpty()?null:e((new xc).write(u))}function Fo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,o){var a=n(e,t);a>=0&&(void 0===i||a<i)&&(i=a,r=o)}),r}(t,e,function(t,e){return t-e})}function So(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!x(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(Y(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],u=t[1],c=t[2],h=t[3],d=(u+h)/2,f=(s+c)/2,p=2*e/kt([s,d],[c,d],n)*(c-s),A=2*e/kt([f,u],[f,h],n)*(h-u),g=p/2,v=2*g,m=Math.sqrt(3)/2*A,y=c-s,b=h-u,_=.75*v,w=m,E=(y-v)/(v-g/2),B=Math.floor(E),N=(B*_-g/2-y)/2-g/2+_/2,T=Math.floor((b-m)/m),I=(b-T*m)/2,F=T*m-b>m/2;F&&(I-=m/4);for(var S=[],M=[],U=0;U<6;U++){var Q=2*Math.PI/6*U;S.push(Math.cos(Q)),M.push(Math.sin(Q))}for(var L=[],R=0;R<=B;R++)for(var k=0;k<=T;k++){var O=R%2==1;if(!(0===k&&O||0===k&&F)){var P=R*_+s-N,D=k*w+u+I;if(O&&(D-=m/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*a[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*a[(u+1)%6]]),l.push(t),s.push(o([l],r))}return s})([P,D],p/2,A/2,r,S,M).forEach(function(t){a?Io(a,t)&&L.push(t):L.push(t)});else{var H=function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var l=t[0]+e*i[u],c=t[1]+n*a[u];s.push([l,c])}return s.push(s[0].slice()),o([s],r)}([P,D],p/2,A/2,r,S,M);a?Io(a,H)&&L.push(H):L.push(H)}}}return l(L)}function Mo(t){if(t.features.length<=1)return t;var e=function(t){var e=jo(),n=[];return R(t,function(t,e){var r=z(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return R(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},Uo),r[i]=!0;;){var o=z(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map(function(t){return r[t.index]=!0,e.remove({index:t.index},Uo),t.geojson});s.push(t),t=To.apply(this,s)}if(0===a.length)break}n.push(t)}),l(n)}function Uo(t,e){return t.index===e.index}function Qo(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!x(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Y(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],d=e/kt([s,u],[c,u],n)*(c-s),f=e/kt([s,u],[s,h],n)*(h-u),p=c-s,A=h-u,g=Math.floor(p/d),v=Math.floor(A/f),m=(A-v*f)/2,y=s+(p-g*d)/2,b=0;b<g;b++){for(var _=u+m,w=0;w<v;w++){var E=o([[[y,_],[y,_+f],[y+d,_+f],[y+d,_],[y,_]]],r);i?Io(i,E)&&a.push(E):a.push(E),_+=f}y+=d}return l(a)}function Lo(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!x(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Y(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/kt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/kt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var d=0,f=t[1];f<=t[3];){var p=null,A=null;c%2==0&&d%2==0?(p=o([[[h,f],[h,f+u],[h+s,f],[h,f]]],r),A=o([[[h,f+u],[h+s,f+u],[h+s,f],[h,f+u]]],r)):c%2==0&&d%2==1?(p=o([[[h,f],[h+s,f+u],[h+s,f],[h,f]]],r),A=o([[[h,f],[h,f+u],[h+s,f+u],[h,f]]],r)):d%2==0&&c%2==1?(p=o([[[h,f],[h,f+u],[h+s,f+u],[h,f]]],r),A=o([[[h,f],[h+s,f+u],[h+s,f],[h,f]]],r)):d%2==1&&c%2==1&&(p=o([[[h,f],[h,f+u],[h+s,f],[h,f]]],r),A=o([[[h,f+u],[h+s,f+u],[h+s,f],[h,f+u]]],r)),i?(Io(i,p)&&a.push(p),Io(i,A)&&a.push(A)):(a.push(p),a.push(A)),f+=u,d++}c++,h+=s}return l(a)}var Ro=6371008.8,ko={meters:Ro,metres:Ro,millimeters:1e3*Ro,millimetres:1e3*Ro,centimeters:100*Ro,centimetres:100*Ro,kilometers:Ro/1e3,kilometres:Ro/1e3,miles:Ro/1609.344,nauticalmiles:Ro/1852,inches:39.37*Ro,yards:Ro/1.0936,feet:3.28084*Ro,radians:1,degrees:Ro/111325},Oo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Ro,degrees:1/111325},Po={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Do=Object.freeze({earthRadius:Ro,factors:ko,unitsFactors:Oo,areaFactors:Po,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:a,lineString:s,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:d,geometryCollection:f,round:p,radiansToLength:A,lengthToRadians:g,lengthToDegrees:v,bearingToAzimuth:m,radiansToDegrees:y,degreesToRadians:b,convertLength:_,convertArea:w,isNumber:x,isObject:C,validateBBox:E,validateId:B,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Ho=Object.freeze({coordEach:N,coordReduce:T,propEach:I,propReduce:F,featureEach:S,featureReduce:M,coordAll:U,geomEach:Q,geomReduce:L,flattenEach:R,flattenReduce:k,segmentEach:O,segmentReduce:P,lineEach:D,lineReduce:H}),zo=Object.freeze({getCoord:K,getCoords:$,containsNumber:V,geojsonType:j,featureOf:G,collectionOf:q,getGeom:X,getGeomType:W,getType:Y}),Ko={successCallback:null,verbose:!1},$o={},Vo=it,jo=at;at.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!At(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],At(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):pt(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!At(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],a=e.leaf?n(o):o,At(t,a)){if(e.leaf||pt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=gt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!pt(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ct,compareMinY:ht,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return i=gt(t.slice(e,n+1)),st(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=gt([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(o/a),d=h*Math.ceil(Math.sqrt(a));for(vt(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(vt(t,s,l=Math.min(s+d-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return st(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=dt(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),lt(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=gt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,st(n,this.toBBox),st(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=gt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,st(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ut(t,0,r,this.toBBox),o=ut(t,r,n,this.toBBox)),s=dt(i)+dt(o),a<u?(u=a,c=r,l=s<l?s:l):a===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ct,i=t.leaf?this.compareMinY:ht;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=ut(t,0,e,a),u=ut(t,n-e,n,a),l=ft(s)+ft(u);for(i=e;i<n-e;i++)o=t.children[i],lt(s,t.leaf?a(o):o),l+=ft(s);for(i=n-e-1;i>=e;i--)o=t.children[i],lt(u,t.leaf?a(o):o),l+=ft(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)lt(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():st(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Go=function(t,e,n){var r=t*e,i=qo*t,o=i-(i-t),a=t-o,s=qo*e,u=s-(s-e),l=e-u,c=a*l-(r-o*u-a*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},qo=+(Math.pow(2,27)+1),Xo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=n+r,s=new Array(a),u=0,l=0,c=0,h=Math.abs,d=t[l],f=h(d),p=e[c],A=h(p);f<A?(o=d,(l+=1)<n&&(f=h(d=t[l]))):(o=p,(c+=1)<r&&(A=h(p=e[c]))),l<n&&f<A||c>=r?(i=d,(l+=1)<n&&(f=h(d=t[l]))):(i=p,(c+=1)<r&&(A=h(p=e[c])));for(var g,v,m=i+o,y=m-i,b=o-y,_=b,w=m;l<n&&c<r;)f<A?(i=d,(l+=1)<n&&(f=h(d=t[l]))):(i=p,(c+=1)<r&&(A=h(p=e[c]))),(b=(o=_)-(y=(m=i+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g;for(;l<n;)(b=(o=_)-(y=(m=(i=d)+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g,(l+=1)<n&&(d=t[l]);for(;c<r;)(b=(o=_)-(y=(m=(i=p)+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g,(c+=1)<r&&(p=e[c]);return _&&(s[u++]=_),w&&(s[u++]=w),u||(s[u++]=0),s.length=u,s},Wo=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},Yo=function(t,e){var n=t.length;if(1===n){var r=Go(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;Go(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var u=1;u<n;++u){Go(t[u],e,a);var l=o[1];Wo(l,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],h=o[1],d=c+h,f=h-(d-c);o[1]=d,f&&(i[s++]=f)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},Jo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=n+r,s=new Array(a),u=0,l=0,c=0,h=Math.abs,d=t[l],f=h(d),p=-e[c],A=h(p);f<A?(o=d,(l+=1)<n&&(f=h(d=t[l]))):(o=p,(c+=1)<r&&(A=h(p=-e[c]))),l<n&&f<A||c>=r?(i=d,(l+=1)<n&&(f=h(d=t[l]))):(i=p,(c+=1)<r&&(A=h(p=-e[c])));for(var g,v,m=i+o,y=m-i,b=o-y,_=b,w=m;l<n&&c<r;)f<A?(i=d,(l+=1)<n&&(f=h(d=t[l]))):(i=p,(c+=1)<r&&(A=h(p=-e[c]))),(b=(o=_)-(y=(m=i+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g;for(;l<n;)(b=(o=_)-(y=(m=(i=d)+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g,(l+=1)<n&&(d=t[l]);for(;c<r;)(b=(o=_)-(y=(m=(i=p)+o)-i))&&(s[u++]=b),_=w-((g=w+m)-(v=g-w))+(m-v),w=g,(c+=1)<r&&(p=-e[c]);return _&&(s[u++]=_),w&&(s[u++]=w),u||(s[u++]=0),s.length=u,s},Zo=mt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(a,u))):o.push.apply(o,i(e(a,u))),s.push("m"+u);var l=r(n),c=r(o),h="orientation"+t+"Exact",d=["function ",h,"(",s.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",d)(Xo,Go,Yo,Jo)}var a=o(3),s=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var u=3.3306690738754716e-16*r;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],h=t[2]-r[2],d=e[2]-r[2],f=n[2]-r[2],p=o*c,A=a*l,g=a*u,v=i*c,m=i*l,y=o*u,b=h*(p-A)+d*(g-v)+f*(m-y),_=7.771561172376103e-16*((Math.abs(p)+Math.abs(A))*Math.abs(h)+(Math.abs(g)+Math.abs(v))*Math.abs(d)+(Math.abs(m)+Math.abs(y))*Math.abs(f));return b>_||-b>_?b:s(t,e,n,r)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),r=0;r<=5;++r)t.exports[r]=u[r]}()}),ta=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],u=t[s],l=o.length;l>1&&ea(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(s),l=a.length;l>1&&ea(t[a[l-2]],t[a[l-1]],u)>=0;)l-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,h=(r=0,o.length);r<h;++r)n[c++]=o[r];for(var d=a.length-2;d>0;--d)n[c++]=a[d];return n},ea=Zo[3],na=yt,ra=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return--this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},na.default=ra;var ia=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],u=e[o][1],l=e[a][0],c=e[a][1];u>r!=c>r&&n<(l-s)*(r-u)/(c-u)+s&&(i=!i)}return i},oa=Zo[3],aa=bt,sa=bt;aa.default=sa;var ua=function(t){return t},la=function(t){if(null==t)return ua;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;u<l;)c[u]=t[u],++u;return c}},ca=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},ha=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)}),e.forEach(function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=u]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a},da=function(t){return Kt(t,$t.apply(this,arguments))},fa=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,l=0;l<t;++l)a[l]=i;return{set:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l]=o;if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=r,s[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=r,s[l]=o,o},get:function(r,o){for(var l=e(r)&u,c=a[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=t)break;c=a[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},pa=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Aa=new ArrayBuffer(16),ga=new Float64Array(Aa),va=new Uint32Array(Aa),ma=function(t){ga[0]=t[0],ga[1]=t[1];var e=va[0]^va[1];return 2147483647&(e=e<<5^e>>7^va[2]^va[3])},ya=function(t){function e(t,e,n,r){if(d[n]!==t){d[n]=t;var i=f[n];if(i>=0){var o=p[n];i===e&&o===r||i===r&&o===e||(++g,A[n]=1)}else f[n]=e,p[n]=r}}function n(t){return ma(u[t])}function r(t,e){return pa(u[t],u[e])}var i,o,a,s,u=t.coordinates,l=t.lines,c=t.rings,h=function(){for(var t=fa(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),d=new Int32Array(u.length),f=new Int32Array(u.length),p=new Int32Array(u.length),A=new Int8Array(u.length),g=0;for(i=0,o=u.length;i<o;++i)d[i]=f[i]=p[i]=-1;for(i=0,o=l.length;i<o;++i){var v=l[i],m=v[0],y=v[1];for(a=h[m],s=h[++m],++g,A[a]=1;++m<=y;)e(i,a,a=s,s=h[m]);++g,A[s]=1}for(i=0,o=u.length;i<o;++i)d[i]=-1;for(i=0,o=c.length;i<o;++i){var b=c[i],_=b[0]+1,w=b[1];for(e(i,h[w-1],a=h[_-1],s=h[_]);++_<=w;)e(i,a,a=s,s=h[_])}d=f=p=null;var x,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,u=o[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,u=o[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,ma,pa);for(i=0,o=u.length;i<o;++i)A[x=h[i]]&&C.add(u[x]);return C},ba=function(t){var e,n,r,i=ya(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var u=a[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=s.length;n<r;++n)for(var h=s[n],d=h[0],f=d,p=h[1],A=i.has(o[d]);++f<p;)i.has(o[f])&&(A?(e={0:f,1:h[1]},h[1]=f,h=h.next=e):(function(t,e,n,r){Vt(t,e,n),Vt(t,e,e+r),Vt(t,e+r,n)}(o,d,p,p-f),o[p]=o[d],A=!0,f=d));return t},_a=function(t){function e(t){var e,n,r,i,o,a,s,u;if(r=f.get(e=l[t[0]]))for(s=0,u=r.length;s<u;++s)if(i=r[s],function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!pa(l[n],l[r]))return!1;return!0}(i,t))return t[0]=i[0],void(t[1]=i[1]);if(o=f.get(n=l[t[1]]))for(s=0,u=o.length;s<u;++s)if(a=o[s],function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!pa(l[n],l[o]))return!1;return!0}(a,t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),p.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),u=0;u<o;++u)if(!pa(l[n+(u+a)%o],l[r+(u+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],a=e[1],s=o-n;if(s!==a-r)return!1;for(var u=i(t),c=s-i(e),h=0;h<s;++h)if(!pa(l[n+(h+u)%s],l[a-(h+c)%s]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var a=l[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,u,l=t.coordinates,c=t.lines,h=t.rings,d=c.length+h.length;for(delete t.lines,delete t.rings,s=0,u=c.length;s<u;++s)for(o=c[s];o=o.next;)++d;for(s=0,u=h.length;s<u;++s)for(a=h[s];a=a.next;)++d;var f=fa(2*d*1.4,ma,pa),p=t.arcs=[];for(s=0,u=c.length;s<u;++s){o=c[s];do{e(o)}while(o=o.next)}for(s=0,u=h.length;s<u;++s)if((a=h[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,u;if(o=f.get(e=l[t[0]]))for(s=0,u=o.length;s<u;++s){if(a=o[s],n(a,t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=f.get(e=l[t[0]+i(t)]))for(s=0,u=o.length;s<u;++s){if(a=o[s],n(a,t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):f.set(e,[t]),p.push(t)}(a);return t},wa=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return s>=o&&u>=a?[o,a,s,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=jt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*f),Math.round((t[1]-c)*p)]}function i(t,e){for(var n,r,i,o,a,s=-1,u=0,h=t.length,d=new Array(h);++s<h;)n=t[s],o=Math.round((n[0]-l)*f),a=Math.round((n[1]-c)*p),o===r&&a===i||(d[u++]=[r=o,i=a]);for(d.length=u;u<e;)u=d.push([d[0][0],d[0][1]]);return d}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&A.hasOwnProperty(t.type)&&A[t.type](t)}var l=e[0],c=e[1],h=e[2],d=e[3],f=h-l?(n-1)/(h-l):1,p=d-c?(n-1)/(d-c):1,A={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)u(t[g]);return{scale:[1/f,1/p],translate:[l,c]}}(t,o,e),s=_a(ba(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,l=fa(1.4*s.arcs.length,Xt,Wt);t=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var h in t)n(t[h]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,u=o.length,l=o[0],c=l[0],h=l[1];++a<u;)r=(l=o[a])[0],i=l[1],r===c&&i===h||(o[s++]=[r-c,i-h],c=r,h=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s},xa=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};xa.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},xa.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},xa.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Ca=ye,Ea=ye;ye.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Qe(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Qe(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,f=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},ye.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},Ca.default=Ea,De.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Xe(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],Xe(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):qe(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Xe(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],a=e.leaf?n(o):o,Xe(t,a)){if(e.leaf||qe(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=We([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!qe(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:$e,compareMinY:Ve,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return i=We(t.slice(e,n+1)),He(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=We([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(o/a),d=h*Math.ceil(Math.sqrt(a));for(Ye(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(Ye(t,s,l=Math.min(s+d-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return He(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=je(a=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),Ke(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=We(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,He(n,this.toBBox),He(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=We([t,e]),this.data.height=t.height+1,this.data.leaf=!1,He(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ze(t,0,r,this.toBBox),o=ze(t,r,n,this.toBBox)),s=je(i)+je(o),a<u?(u=a,c=r,l=s<l?s:l):a===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:$e,i=t.leaf?this.compareMinY:Ve;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=ze(t,0,e,a),u=ze(t,n-e,n,a),l=Ge(s)+Ge(u);for(i=e;i<n-e;i++)o=t.children[i],Ke(s,t.leaf?a(o):o),l+=Ge(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ke(u,t.leaf?a(o):o),l+=Ge(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ke(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():He(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Ba=Object.freeze({toMercator:ln,toWgs84:cn}),Na=6378137,Ta=function(t,e,n){function r(t,n,r,i){var u=o[t][n],l=o[t][n+1],c=o[r][i],h=o[r][i+1],d=function(t,e,n,r){if(Sn(t,n)||Sn(t,r)||Sn(e,n)||Sn(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],u=n[0],l=n[1],c=r[0],h=r[1],d=(i-a)*(l-h)-(o-s)*(u-c);return 0===d?null:[((i*s-o*a)*(u-c)-(i-a)*(u*h-l*c))/d,((i*s-o*a)*(l-h)-(o-s)*(u*h-l*c))/d]}(u,l,c,h);if(null!==d){var f,p;if(f=l[0]!==u[0]?(d[0]-u[0])/(l[0]-u[0]):(d[1]-u[1])/(l[1]-u[1]),p=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),!(f>=1||f<=0||p>=1||p<=0)){var A=d,g=!s[A];g&&(s[A]=!0),e?a.push(e(d,t,n,u,l,f,r,i,c,h,p,g)):a.push(d)}}}function i(t,e){var n,r,i,a,s=o[t][e],u=o[t][e+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(i=s[1],a=u[1]):(i=u[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(i(l,c));var h=jo();h.load(u)}for(var d=0;d<o.length;d++)for(var f=0;f<o[d].length-1;f++)if(n)h.search(i(d,f)).forEach(function(t){var e=t.ring,n=t.edge;r(d,f,e,n)});else for(var p=0;p<o.length;p++)for(var A=0;A<o[p].length-1;A++)r(d,f,p,A);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a},Ia=function(t){function e(){for(var t=[],e=0;e<p.features.length;e++)-1==p.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<p.features.length;r++)t[e]!=r&&Ft(p.features[t[e]].geometry.coordinates[0][0],p.features[r],{ignoreBoundary:!0})&&mn(p.features[r])<1/0&&(n=r);p.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<p.features.length;t++)if(-1==p.features[t].properties.parent){var e=p.features[t].properties.winding;p.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<p.features.length;n++)if(p.features[n].properties.parent==t){var i=e+p.features[n].properties.winding;p.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var u=t.geometry.coordinates[s];Un(u[0],u[u.length-1])||u.push(u[0]),a.push.apply(a,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=a.length,h=Ta(t,function(t,e,n,r,i,o,a,s,u,l,c,h){return[t,e,n,r,i,o,a,s,u,l,c,h]}),d=h.length;if(0==d){var f=[];for(s=0;s<i;s++)f.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Mn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var p=l(f);return e(),n(),p}var A=[],g=[];for(s=0;s<i;s++){A.push([]);for(var v=0;v<t.geometry.coordinates[s].length-1;v++)A[s].push([new Fa(t.geometry.coordinates[s][(v+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,v],[s,(v+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),g.push(new Sa(t.geometry.coordinates[s][v],[s,(v-1).modulo(t.geometry.coordinates[s].length-1)],[s,v],void 0,void 0,!1,!0))}for(s=0;s<d;s++)A[h[s][1]][h[s][2]].push(new Fa(h[s][0],h[s][5],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0)),h[s][11]&&g.push(new Sa(h[s][0],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0,void 0,!0,!0));var m=g.length;for(s=0;s<A.length;s++)for(v=0;v<A[s].length;v++)A[s][v].sort(function(t,e){return t.param<e.param?-1:1});var y=[];for(s=0;s<m;s++)y.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=jo();for(b.load(y),s=0;s<A.length;s++)for(v=0;v<A[s].length;v++)for(var _=0;_<A[s][v].length;_++){x=_==A[s][v].length-1?A[s][(v+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:A[s][v][_+1].coord;var w=b.search({minX:x[0],minY:x[1],maxX:x[0],maxY:x[1]})[0];A[s][v][_].nxtIsectAlongEdgeIn=w.index}for(s=0;s<A.length;s++)for(v=0;v<A[s].length;v++)for(_=0;_<A[s][v].length;_++){var x=A[s][v][_].coord,C=(w=b.search({minX:x[0],minY:x[1],maxX:x[0],maxY:x[1]})[0]).index;C<c?g[C].nxtIsectAlongRingAndEdge2=A[s][v][_].nxtIsectAlongEdgeIn:Un(g[C].ringAndEdge1,A[s][v][_].ringAndEdgeIn)?g[C].nxtIsectAlongRingAndEdge1=A[s][v][_].nxtIsectAlongEdgeIn:g[C].nxtIsectAlongRingAndEdge2=A[s][v][_].nxtIsectAlongEdgeIn}var E=[];for(s=0,v=0;v<i;v++){var B=s;for(_=0;_<t.geometry.coordinates[v].length-1;_++)g[s].coord[0]<g[B].coord[0]&&(B=s),s++;var N=g[B].nxtIsectAlongRingAndEdge2;for(_=0;_<g.length;_++)if(g[_].nxtIsectAlongRingAndEdge1==B||g[_].nxtIsectAlongRingAndEdge2==B){var T=_;break}var I=Mn([g[T].coord,g[B].coord,g[N].coord],!0)?1:-1;E.push({isect:B,parent:-1,winding:I})}for(E.sort(function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1}),f=[];E.length>0;){var F=E.pop(),S=F.isect,M=F.parent,U=F.winding,Q=f.length,L=[g[S].coord],R=S;if(g[S].ringAndEdge1Walkable)var k=g[S].ringAndEdge1,O=g[S].nxtIsectAlongRingAndEdge1;else k=g[S].ringAndEdge2,O=g[S].nxtIsectAlongRingAndEdge2;for(;!Un(g[S].coord,g[O].coord);){L.push(g[O].coord);var P=void 0;for(s=0;s<E.length;s++)if(E[s].isect==O){P=s;break}if(void 0!=P&&E.splice(P,1),Un(k,g[O].ringAndEdge1)){if(k=g[O].ringAndEdge2,g[O].ringAndEdge2Walkable=!1,g[O].ringAndEdge1Walkable){var D={isect:O};Mn([g[R].coord,g[O].coord,g[g[O].nxtIsectAlongRingAndEdge2].coord],1==U)?(D.parent=M,D.winding=-U):(D.parent=Q,D.winding=U),E.push(D)}R=O,O=g[O].nxtIsectAlongRingAndEdge2}else k=g[O].ringAndEdge1,g[O].ringAndEdge1Walkable=!1,g[O].ringAndEdge2Walkable&&(D={isect:O},Mn([g[R].coord,g[O].coord,g[g[O].nxtIsectAlongRingAndEdge1].coord],1==U)?(D.parent=M,D.winding=-U):(D.parent=Q,D.winding=U),E.push(D)),R=O,O=g[O].nxtIsectAlongRingAndEdge1}L.push(g[O].coord),f.push(o([L],{index:Q,parent:M,winding:U,netWinding:void 0}))}return p=l(f),e(),n(),p},Fa=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Sa=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var Ma=Math.PI/180,Ua=180/Math.PI,Qa=function(t,e){this.lon=t,this.lat=e,this.x=Ma*t,this.y=Ma*e};Qa.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Qa.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Qa(e,t)};var La=function(){this.coords=[],this.length=0};La.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Ra=function(t){this.properties=t||{},this.geometries=[]};Ra.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Ra.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(function(t){e+=t[0]+" "+t[1]+","}),t+=e.substring(0,e.length-1)+")"}return t};var ka=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Qa(t.x,t.y),this.end=new Qa(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};ka.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=Ua*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Ua*Math.atan2(i,r),a]},ka.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,h=-180+l,d=360-l,f=1;f<n.length;++f){var p=n[f-1][0],A=n[f][0],g=Math.abs(A-p);g>d&&(A>c&&p<h||p>c&&A<h)?s=!0:g>u&&(u=g)}var v=[];if(s&&u<l){var m=[];v.push(m);for(var y=0;y<n.length;++y){var b=parseFloat(n[y][0]);if(y>0&&Math.abs(b-n[y-1][0])>d){var _=parseFloat(n[y-1][0]),w=parseFloat(n[y-1][1]),x=parseFloat(n[y][0]),C=parseFloat(n[y][1]);if(_>-180&&_<h&&180===x&&y+1<n.length&&n[y-1][0]>-180&&n[y-1][0]<h){m.push([-180,n[y][1]]),y++,m.push([n[y][0],n[y][1]]);continue}if(_>c&&_<180&&-180===x&&y+1<n.length&&n[y-1][0]>c&&n[y-1][0]<180){m.push([180,n[y][1]]),y++,m.push([n[y][0],n[y][1]]);continue}if(_<h&&x>c){var E=_;_=x,x=E;var B=w;w=C,C=B}if(_>c&&x<h&&(x+=360),_<=180&&x>=180&&_<x){var N=(180-_)/(x-_),T=N*C+(1-N)*w;m.push([n[y-1][0]>c?180:-180,T]),(m=[]).push([n[y-1][0]>c?-180:180,T]),v.push(m)}else m=[],v.push(m);m.push([b,n[y][1]])}else m.push([n[y][0],n[y][1]])}}else{var I=[];v.push(I);for(var F=0;F<n.length;++F)I.push([n[F][0],n[F][1]])}for(var S=new Ra(this.properties),M=0;M<v.length;++M){var U=new La;S.geometries.push(U);for(var Q=v[M],L=0;L<Q.length;++L)U.move_to(Q[L])}return S};var Oa=Vn;Vn.polyline=Vn,Vn.polygon=function(t,e){var n,r,i,o,a,s,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Gn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(u=!(Gn(s=t[a],e)&r))!==o&&n.push(jn(i,s,r,e)),u&&n.push(s),i=s,o=u;if(!(t=n).length)break}return n};var Pa=Array.prototype.slice,Da={successCallback:null,verbose:!1,polygons:!1},Ha={},za=64,Ka=16,$a=4,Va=1,ja=[],Ga=[],qa=[],Xa=[],Wa=[],Ya=[],Ja=[],Za=[],ts=[],es=[],ns=[],rs=[],is=[],os=[],as=[],ss=[],us=[],ls=[],cs=[],hs=[],ds=[],fs=[],ps=[],As=[];Ja[85]=es[85]=-1,Za[85]=ns[85]=0,ts[85]=rs[85]=1,cs[85]=fs[85]=1,hs[85]=ps[85]=0,ds[85]=As[85]=1,ja[85]=Xa[85]=0,Ga[85]=Wa[85]=-1,qa[85]=as[85]=0,ss[85]=is[85]=0,us[85]=os[85]=1,Ya[85]=ls[85]=1,fs[1]=fs[169]=0,ps[1]=ps[169]=-1,As[1]=As[169]=0,is[1]=is[169]=-1,os[1]=os[169]=0,as[1]=as[169]=0,es[4]=es[166]=0,ns[4]=ns[166]=-1,rs[4]=rs[166]=1,ss[4]=ss[166]=1,us[4]=us[166]=0,ls[4]=ls[166]=0,Ja[16]=Ja[154]=0,Za[16]=Za[154]=1,ts[16]=ts[154]=1,Xa[16]=Xa[154]=1,Wa[16]=Wa[154]=0,Ya[16]=Ya[154]=1,cs[64]=cs[106]=0,hs[64]=hs[106]=1,ds[64]=ds[106]=0,ja[64]=ja[106]=-1,Ga[64]=Ga[106]=0,qa[64]=qa[106]=1,cs[2]=cs[168]=0,hs[2]=hs[168]=-1,ds[2]=ds[168]=1,fs[2]=fs[168]=0,ps[2]=ps[168]=-1,As[2]=As[168]=0,is[2]=is[168]=-1,os[2]=os[168]=0,as[2]=as[168]=0,ss[2]=ss[168]=-1,us[2]=us[168]=0,ls[2]=ls[168]=1,Ja[8]=Ja[162]=0,Za[8]=Za[162]=-1,ts[8]=ts[162]=0,es[8]=es[162]=0,ns[8]=ns[162]=-1,rs[8]=rs[162]=1,is[8]=is[162]=1,os[8]=os[162]=0,as[8]=as[162]=1,ss[8]=ss[162]=1,us[8]=us[162]=0,ls[8]=ls[162]=0,Ja[32]=Ja[138]=0,Za[32]=Za[138]=1,ts[32]=ts[138]=1,es[32]=es[138]=0,ns[32]=ns[138]=1,rs[32]=rs[138]=0,ja[32]=ja[138]=1,Ga[32]=Ga[138]=0,qa[32]=qa[138]=0,Xa[32]=Xa[138]=1,Wa[32]=Wa[138]=0,Ya[32]=Ya[138]=1,fs[128]=fs[42]=0,ps[128]=ps[42]=1,As[128]=As[42]=1,cs[128]=cs[42]=0,hs[128]=hs[42]=1,ds[128]=ds[42]=0,ja[128]=ja[42]=-1,Ga[128]=Ga[42]=0,qa[128]=qa[42]=1,Xa[128]=Xa[42]=-1,Wa[128]=Wa[42]=0,Ya[128]=Ya[42]=0,es[5]=es[165]=-1,ns[5]=ns[165]=0,rs[5]=rs[165]=0,fs[5]=fs[165]=1,ps[5]=ps[165]=0,As[5]=As[165]=0,ss[20]=ss[150]=0,us[20]=us[150]=1,ls[20]=ls[150]=1,Xa[20]=Xa[150]=0,Wa[20]=Wa[150]=-1,Ya[20]=Ya[150]=1,Ja[80]=Ja[90]=-1,Za[80]=Za[90]=0,ts[80]=ts[90]=1,cs[80]=cs[90]=1,hs[80]=hs[90]=0,ds[80]=ds[90]=1,is[65]=is[105]=0,os[65]=os[105]=1,as[65]=as[105]=0,ja[65]=ja[105]=0,Ga[65]=Ga[105]=-1,qa[65]=qa[105]=0,Ja[160]=Ja[10]=-1,Za[160]=Za[10]=0,ts[160]=ts[10]=1,es[160]=es[10]=-1,ns[160]=ns[10]=0,rs[160]=rs[10]=0,fs[160]=fs[10]=1,ps[160]=ps[10]=0,As[160]=As[10]=0,cs[160]=cs[10]=1,hs[160]=hs[10]=0,ds[160]=ds[10]=1,ss[130]=ss[40]=0,us[130]=us[40]=1,ls[130]=ls[40]=1,is[130]=is[40]=0,os[130]=os[40]=1,as[130]=as[40]=0,ja[130]=ja[40]=0,Ga[130]=Ga[40]=-1,qa[130]=qa[40]=0,Xa[130]=Xa[40]=0,Wa[130]=Wa[40]=-1,Ya[130]=Ya[40]=1,es[37]=es[133]=0,ns[37]=ns[133]=1,rs[37]=rs[133]=1,fs[37]=fs[133]=0,ps[37]=ps[133]=1,As[37]=As[133]=0,ja[37]=ja[133]=-1,Ga[37]=Ga[133]=0,qa[37]=qa[133]=0,Xa[37]=Xa[133]=1,Wa[37]=Wa[133]=0,Ya[37]=Ya[133]=0,ss[148]=ss[22]=-1,us[148]=us[22]=0,ls[148]=ls[22]=0,fs[148]=fs[22]=0,ps[148]=ps[22]=-1,As[148]=As[22]=1,cs[148]=cs[22]=0,hs[148]=hs[22]=1,ds[148]=ds[22]=1,Xa[148]=Xa[22]=-1,Wa[148]=Wa[22]=0,Ya[148]=Ya[22]=1,Ja[82]=Ja[88]=0,Za[82]=Za[88]=-1,ts[82]=ts[88]=1,ss[82]=ss[88]=1,us[82]=us[88]=0,ls[82]=ls[88]=1,is[82]=is[88]=-1,os[82]=os[88]=0,as[82]=as[88]=1,cs[82]=cs[88]=0,hs[82]=hs[88]=-1,ds[82]=ds[88]=0,Ja[73]=Ja[97]=0,Za[73]=Za[97]=1,ts[73]=ts[97]=0,es[73]=es[97]=0,ns[73]=ns[97]=-1,rs[73]=rs[97]=0,is[73]=is[97]=1,os[73]=os[97]=0,as[73]=as[97]=0,ja[73]=ja[97]=1,Ga[73]=Ga[97]=0,qa[73]=qa[97]=1,Ja[145]=Ja[25]=0,Za[145]=Za[25]=-1,ts[145]=ts[25]=0,is[145]=is[25]=1,os[145]=os[25]=0,as[145]=as[25]=1,fs[145]=fs[25]=0,ps[145]=ps[25]=1,As[145]=As[25]=1,Xa[145]=Xa[25]=-1,Wa[145]=Wa[25]=0,Ya[145]=Ya[25]=0,es[70]=es[100]=0,ns[70]=ns[100]=1,rs[70]=rs[100]=0,ss[70]=ss[100]=-1,us[70]=us[100]=0,ls[70]=ls[100]=1,cs[70]=cs[100]=0,hs[70]=hs[100]=-1,ds[70]=ds[100]=1,ja[70]=ja[100]=1,Ga[70]=Ga[100]=0,qa[70]=qa[100]=0,es[101]=es[69]=0,ns[101]=ns[69]=1,rs[101]=rs[69]=0,ja[101]=ja[69]=1,Ga[101]=Ga[69]=0,qa[101]=qa[69]=0,fs[149]=fs[21]=0,ps[149]=ps[21]=1,As[149]=As[21]=1,Xa[149]=Xa[21]=-1,Wa[149]=Wa[21]=0,Ya[149]=Ya[21]=0,ss[86]=ss[84]=-1,us[86]=us[84]=0,ls[86]=ls[84]=1,cs[86]=cs[84]=0,hs[86]=hs[84]=-1,ds[86]=ds[84]=1,Ja[89]=Ja[81]=0,Za[89]=Za[81]=-1,ts[89]=ts[81]=0,is[89]=is[81]=1,os[89]=os[81]=0,as[89]=as[81]=1,Ja[96]=Ja[74]=0,Za[96]=Za[74]=1,ts[96]=ts[74]=0,es[96]=es[74]=-1,ns[96]=ns[74]=0,rs[96]=rs[74]=1,cs[96]=cs[74]=1,hs[96]=hs[74]=0,ds[96]=ds[74]=0,ja[96]=ja[74]=1,Ga[96]=Ga[74]=0,qa[96]=qa[74]=1,Ja[24]=Ja[146]=0,Za[24]=Za[146]=-1,ts[24]=ts[146]=1,ss[24]=ss[146]=1,us[24]=us[146]=0,ls[24]=ls[146]=1,is[24]=is[146]=0,os[24]=os[146]=1,as[24]=as[146]=1,Xa[24]=Xa[146]=0,Wa[24]=Wa[146]=-1,Ya[24]=Ya[146]=0,es[6]=es[164]=-1,ns[6]=ns[164]=0,rs[6]=rs[164]=1,ss[6]=ss[164]=-1,us[6]=us[164]=0,ls[6]=ls[164]=0,fs[6]=fs[164]=0,ps[6]=ps[164]=-1,As[6]=As[164]=1,cs[6]=cs[164]=1,hs[6]=hs[164]=0,ds[6]=ds[164]=0,is[129]=is[41]=0,os[129]=os[41]=1,as[129]=as[41]=1,fs[129]=fs[41]=0,ps[129]=ps[41]=1,As[129]=As[41]=0,ja[129]=ja[41]=-1,Ga[129]=Ga[41]=0,qa[129]=qa[41]=0,Xa[129]=Xa[41]=0,Wa[129]=Wa[41]=-1,Ya[129]=Ya[41]=0,ss[66]=ss[104]=0,us[66]=us[104]=1,ls[66]=ls[104]=0,is[66]=is[104]=-1,os[66]=os[104]=0,as[66]=as[104]=1,cs[66]=cs[104]=0,hs[66]=hs[104]=-1,ds[66]=ds[104]=0,ja[66]=ja[104]=0,Ga[66]=Ga[104]=-1,qa[66]=qa[104]=1,Ja[144]=Ja[26]=-1,Za[144]=Za[26]=0,ts[144]=ts[26]=0,fs[144]=fs[26]=1,ps[144]=ps[26]=0,As[144]=As[26]=1,cs[144]=cs[26]=0,hs[144]=hs[26]=1,ds[144]=ds[26]=1,Xa[144]=Xa[26]=-1,Wa[144]=Wa[26]=0,Ya[144]=Ya[26]=1,es[36]=es[134]=0,ns[36]=ns[134]=1,rs[36]=rs[134]=1,ss[36]=ss[134]=0,us[36]=us[134]=1,ls[36]=ls[134]=0,ja[36]=ja[134]=0,Ga[36]=Ga[134]=-1,qa[36]=qa[134]=1,Xa[36]=Xa[134]=1,Wa[36]=Wa[134]=0,Ya[36]=Ya[134]=0,Ja[9]=Ja[161]=-1,Za[9]=Za[161]=0,ts[9]=ts[161]=0,es[9]=es[161]=0,ns[9]=ns[161]=-1,rs[9]=rs[161]=0,is[9]=is[161]=1,os[9]=os[161]=0,as[9]=as[161]=0,fs[9]=fs[161]=1,ps[9]=ps[161]=0,As[9]=As[161]=1,Ja[136]=0,Za[136]=1,ts[136]=1,es[136]=0,ns[136]=1,rs[136]=0,ss[136]=-1,us[136]=0,ls[136]=1,is[136]=-1,os[136]=0,as[136]=0,fs[136]=0,ps[136]=-1,As[136]=0,cs[136]=0,hs[136]=-1,ds[136]=1,ja[136]=1,Ga[136]=0,qa[136]=0,Xa[136]=1,Wa[136]=0,Ya[136]=1,Ja[34]=0,Za[34]=-1,ts[34]=0,es[34]=0,ns[34]=-1,rs[34]=1,ss[34]=1,us[34]=0,ls[34]=0,is[34]=1,os[34]=0,as[34]=1,fs[34]=0,ps[34]=1,As[34]=1,cs[34]=0,hs[34]=1,ds[34]=0,ja[34]=-1,Ga[34]=0,qa[34]=1,Xa[34]=-1,Wa[34]=0,Ya[34]=0,Ja[35]=0,Za[35]=1,ts[35]=1,es[35]=0,ns[35]=-1,rs[35]=1,ss[35]=1,us[35]=0,ls[35]=0,is[35]=-1,os[35]=0,as[35]=0,fs[35]=0,ps[35]=-1,As[35]=0,cs[35]=0,hs[35]=1,ds[35]=0,ja[35]=-1,Ga[35]=0,qa[35]=1,Xa[35]=1,Wa[35]=0,Ya[35]=1,Ja[153]=0,Za[153]=1,ts[153]=1,is[153]=-1,os[153]=0,as[153]=0,fs[153]=0,ps[153]=-1,As[153]=0,Xa[153]=1,Wa[153]=0,Ya[153]=1,es[102]=0,ns[102]=-1,rs[102]=1,ss[102]=1,us[102]=0,ls[102]=0,cs[102]=0,hs[102]=1,ds[102]=0,ja[102]=-1,Ga[102]=0,qa[102]=1,Ja[155]=0,Za[155]=-1,ts[155]=0,is[155]=1,os[155]=0,as[155]=1,fs[155]=0,ps[155]=1,As[155]=1,Xa[155]=-1,Wa[155]=0,Ya[155]=0,es[103]=0,ns[103]=1,rs[103]=0,ss[103]=-1,us[103]=0,ls[103]=1,cs[103]=0,hs[103]=-1,ds[103]=1,ja[103]=1,Ga[103]=0,qa[103]=0,Ja[152]=0,Za[152]=1,ts[152]=1,ss[152]=-1,us[152]=0,ls[152]=1,is[152]=-1,os[152]=0,as[152]=0,fs[152]=0,ps[152]=-1,As[152]=0,cs[152]=0,hs[152]=-1,ds[152]=1,Xa[152]=1,Wa[152]=0,Ya[152]=1,Ja[156]=0,Za[156]=-1,ts[156]=1,ss[156]=1,us[156]=0,ls[156]=1,is[156]=-1,os[156]=0,as[156]=0,fs[156]=0,ps[156]=-1,As[156]=0,cs[156]=0,hs[156]=1,ds[156]=1,Xa[156]=-1,Wa[156]=0,Ya[156]=1,Ja[137]=0,Za[137]=1,ts[137]=1,es[137]=0,ns[137]=1,rs[137]=0,is[137]=-1,os[137]=0,as[137]=0,fs[137]=0,ps[137]=-1,As[137]=0,ja[137]=1,Ga[137]=0,qa[137]=0,Xa[137]=1,Wa[137]=0,Ya[137]=1,Ja[139]=0,Za[139]=1,ts[139]=1,es[139]=0,ns[139]=-1,rs[139]=0,is[139]=1,os[139]=0,as[139]=0,fs[139]=0,ps[139]=1,As[139]=0,ja[139]=-1,Ga[139]=0,qa[139]=0,Xa[139]=1,Wa[139]=0,Ya[139]=1,Ja[98]=0,Za[98]=-1,ts[98]=0,es[98]=0,ns[98]=-1,rs[98]=1,ss[98]=1,us[98]=0,ls[98]=0,is[98]=1,os[98]=0,as[98]=1,cs[98]=0,hs[98]=1,ds[98]=0,ja[98]=-1,Ga[98]=0,qa[98]=1,Ja[99]=0,Za[99]=1,ts[99]=0,es[99]=0,ns[99]=-1,rs[99]=1,ss[99]=1,us[99]=0,ls[99]=0,is[99]=-1,os[99]=0,as[99]=1,cs[99]=0,hs[99]=-1,ds[99]=0,ja[99]=1,Ga[99]=0,qa[99]=1,es[38]=0,ns[38]=-1,rs[38]=1,ss[38]=1,us[38]=0,ls[38]=0,fs[38]=0,ps[38]=1,As[38]=1,cs[38]=0,hs[38]=1,ds[38]=0,ja[38]=-1,Ga[38]=0,qa[38]=1,Xa[38]=-1,Wa[38]=0,Ya[38]=0,es[39]=0,ns[39]=1,rs[39]=1,ss[39]=-1,us[39]=0,ls[39]=0,fs[39]=0,ps[39]=-1,As[39]=1,cs[39]=0,hs[39]=1,ds[39]=0,ja[39]=-1,Ga[39]=0,qa[39]=1,Xa[39]=1,Wa[39]=0,Ya[39]=0;var gs=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},vs=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ms=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},ys=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},bs=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},_s=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ws=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},xs=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Cs=[],Es=[],Bs=[],Ns=[],Ts=[],Is=[],Fs=[],Ss=[];Ns[1]=Ts[1]=18,Ns[169]=Ts[169]=18,Bs[4]=Es[4]=12,Bs[166]=Es[166]=12,Cs[16]=Ss[16]=4,Cs[154]=Ss[154]=4,Is[64]=Fs[64]=22,Is[106]=Fs[106]=22,Bs[2]=Is[2]=17,Ns[2]=Ts[2]=18,Bs[168]=Is[168]=17,Ns[168]=Ts[168]=18,Cs[8]=Ns[8]=9,Es[8]=Bs[8]=12,Cs[162]=Ns[162]=9,Es[162]=Bs[162]=12,Cs[32]=Ss[32]=4,Es[32]=Fs[32]=1,Cs[138]=Ss[138]=4,Es[138]=Fs[138]=1,Ts[128]=Ss[128]=21,Is[128]=Fs[128]=22,Ts[42]=Ss[42]=21,Is[42]=Fs[42]=22,Es[5]=Ts[5]=14,Es[165]=Ts[165]=14,Bs[20]=Ss[20]=6,Bs[150]=Ss[150]=6,Cs[80]=Is[80]=11,Cs[90]=Is[90]=11,Ns[65]=Fs[65]=3,Ns[105]=Fs[105]=3,Cs[160]=Is[160]=11,Es[160]=Ts[160]=14,Cs[10]=Is[10]=11,Es[10]=Ts[10]=14,Bs[130]=Ss[130]=6,Ns[130]=Fs[130]=3,Bs[40]=Ss[40]=6,Ns[40]=Fs[40]=3,Es[101]=Fs[101]=1,Es[69]=Fs[69]=1,Ts[149]=Ss[149]=21,Ts[21]=Ss[21]=21,Bs[86]=Is[86]=17,Bs[84]=Is[84]=17,Cs[89]=Ns[89]=9,Cs[81]=Ns[81]=9,Cs[96]=Fs[96]=0,Es[96]=Is[96]=15,Cs[74]=Fs[74]=0,Es[74]=Is[74]=15,Cs[24]=Bs[24]=8,Ns[24]=Ss[24]=7,Cs[146]=Bs[146]=8,Ns[146]=Ss[146]=7,Es[6]=Is[6]=15,Bs[6]=Ts[6]=16,Es[164]=Is[164]=15,Bs[164]=Ts[164]=16,Ns[129]=Ss[129]=7,Ts[129]=Fs[129]=20,Ns[41]=Ss[41]=7,Ts[41]=Fs[41]=20,Bs[66]=Fs[66]=2,Ns[66]=Is[66]=19,Bs[104]=Fs[104]=2,Ns[104]=Is[104]=19,Cs[144]=Ts[144]=10,Is[144]=Ss[144]=23,Cs[26]=Ts[26]=10,Is[26]=Ss[26]=23,Es[36]=Ss[36]=5,Bs[36]=Fs[36]=2,Es[134]=Ss[134]=5,Bs[134]=Fs[134]=2,Cs[9]=Ts[9]=10,Es[9]=Ns[9]=13,Cs[161]=Ts[161]=10,Es[161]=Ns[161]=13,Es[37]=Ss[37]=5,Ts[37]=Fs[37]=20,Es[133]=Ss[133]=5,Ts[133]=Fs[133]=20,Bs[148]=Ts[148]=16,Is[148]=Ss[148]=23,Bs[22]=Ts[22]=16,Is[22]=Ss[22]=23,Cs[82]=Bs[82]=8,Ns[82]=Is[82]=19,Cs[88]=Bs[88]=8,Ns[88]=Is[88]=19,Cs[73]=Fs[73]=0,Es[73]=Ns[73]=13,Cs[97]=Fs[97]=0,Es[97]=Ns[97]=13,Cs[145]=Ns[145]=9,Ts[145]=Ss[145]=21,Cs[25]=Ns[25]=9,Ts[25]=Ss[25]=21,Es[70]=Fs[70]=1,Bs[70]=Is[70]=17,Es[100]=Fs[100]=1,Bs[100]=Is[100]=17,Cs[34]=Ns[34]=9,Es[34]=Bs[34]=12,Ts[34]=Ss[34]=21,Is[34]=Fs[34]=22,Cs[136]=Ss[136]=4,Es[136]=Fs[136]=1,Bs[136]=Is[136]=17,Ns[136]=Ts[136]=18,Cs[35]=Ss[35]=4,Es[35]=Bs[35]=12,Ns[35]=Ts[35]=18,Is[35]=Fs[35]=22,Cs[153]=Ss[153]=4,Ns[153]=Ts[153]=18,Es[102]=Bs[102]=12,Is[102]=Fs[102]=22,Cs[155]=Ns[155]=9,Ts[155]=Ss[155]=23,Es[103]=Fs[103]=1,Bs[103]=Is[103]=17,Cs[152]=Ss[152]=4,Bs[152]=Is[152]=17,Ns[152]=Ts[152]=18,Cs[156]=Bs[156]=8,Ns[156]=Ts[156]=18,Is[156]=Ss[156]=23,Cs[137]=Ss[137]=4,Es[137]=Fs[137]=1,Ns[137]=Ts[137]=18,Cs[139]=Ss[139]=4,Es[139]=Ns[139]=13,Ts[139]=Fs[139]=20,Cs[98]=Ns[98]=9,Es[98]=Bs[98]=12,Is[98]=Fs[98]=22,Cs[99]=Fs[99]=0,Es[99]=Bs[99]=12,Ns[99]=Is[99]=19,Es[38]=Bs[38]=12,Ts[38]=Ss[38]=21,Is[38]=Fs[38]=22,Es[39]=Ss[39]=5,Bs[39]=Ts[39]=16,Is[39]=Fs[39]=22;var Ms=[];Ms[1]=Ms[169]=gs,Ms[4]=Ms[166]=vs,Ms[16]=Ms[154]=ms,Ms[64]=Ms[106]=ys,Ms[168]=Ms[2]=bs,Ms[162]=Ms[8]=_s,Ms[138]=Ms[32]=ws,Ms[42]=Ms[128]=xs,Ms[5]=Ms[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Ms[20]=Ms[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Ms[80]=Ms[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Ms[65]=Ms[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ms[160]=Ms[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Ms[130]=Ms[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Ms[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ms[101]=Ms[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Ms[149]=Ms[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Ms[86]=Ms[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Ms[89]=Ms[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Ms[96]=Ms[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Ms[24]=Ms[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Ms[6]=Ms[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Ms[129]=Ms[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Ms[66]=Ms[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ms[144]=Ms[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ms[36]=Ms[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Ms[9]=Ms[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ms[37]=Ms[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ms[148]=Ms[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ms[82]=Ms[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Ms[73]=Ms[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ms[145]=Ms[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ms[70]=Ms[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ms[34]=function(t){return[xs(t),_s(t)]},Ms[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ms[136]=function(t){return[ws(t),bs(t)]},Ms[153]=function(t){return[ms(t),gs(t)]},Ms[102]=function(t){return[vs(t),ys(t)]},Ms[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ms[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ms[152]=function(t){return[ms(t),bs(t)]},Ms[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ms[137]=function(t){return[ws(t),gs(t)]},Ms[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ms[98]=function(t){return[_s(t),ys(t)]},Ms[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ms[38]=function(t){return[vs(t),xs(t)]},Ms[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Us=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};Us.buildId=function(t){return t.join(",")},Us.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},Us.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},Us.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},Us.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=br(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},Us.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},Us.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},Us.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var Qs=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Qs.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Qs(this.to,this.from),this.symetric.symetric=this),this.symetric},Qs.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Qs.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},Qs.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},Qs.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},Qs.prototype.compareTo=function(t){return br(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var Ls=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Rs={length:{configurable:!0}};Ls.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},Ls.prototype.get=function(t){return this.edges[t]},Rs.length.get=function(){return this.edges.length},Ls.prototype.forEach=function(t){this.edges.forEach(t)},Ls.prototype.map=function(t){return this.edges.map(t)},Ls.prototype.some=function(t){return this.edges.some(t)},Ls.prototype.isValid=function(){return!0},Ls.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=br(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},Ls.prototype.toMultiPoint=function(){return h(this.edges.map(function(t){return t.from.coordinates}))},Ls.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},Ls.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ce(this.toPolygon())},Ls.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach(function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),i=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&_r(a,o)){var s=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});s&&e.inside(r(s))&&(i&&!_r(n,a)||(i=e))}}),i},Ls.prototype.inside=function(t){return Ft(t,this.toPolygon())},Object.defineProperties(Ls.prototype,Rs);var ks=function(){this.edges=[],this.nodes={}};ks.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new ks;return R(t,function(t){G(t,"LineString","Graph::fromGeoJson"),T(t,function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n})}),e},ks.prototype.getNode=function(t){var e=Us.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Us(t)),n},ks.prototype.addEdge=function(t,e){var n=new Qs(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},ks.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},ks.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},ks.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},ks.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},ks.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},ks.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},ks.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},ks.prototype._findIntersectionNodes=function(t){var e=[],n=t;do{!function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next}()}while(!t.isEqual(n));return e},ks.prototype._findEdgeRing=function(t){var e=t,n=new Ls;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},ks.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},ks.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var Os=mt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),Ps=(Os.shim,mt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r})),Ds=(Ps.supported,Ps.unsupported,mt(function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(Ps(t))return!!Ps(o)&&(t=r.call(t),o=r.call(o),i(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var l=Os(t),c=Os(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(u=l[s],!i(t[u],o[u],a))return!1;return typeof t==typeof o}(t,o,a))}})),Hs=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Mr};Hs.prototype.compare=function(t,e){if(t.type!==e.type||!Sr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Fr(t),i=Fr(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},i)}}return!1},Hs.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Hs.prototype.compareLine=function(t,e,n,r){if(!Sr(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Hs.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Hs.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Hs.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},r)}return!1},Hs.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Hs.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Hs.prototype.removePseudo=function(t){return t};var zs=Hs,Ks=mt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),$s=mt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)a[u]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Vs=mt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),js=mt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Vs;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(s,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Gs=mt(function(t){t.exports&&(t.exports={DBSCAN:Ks,KMEANS:$s,OPTICS:js,PriorityQueue:Vs})}),qs=(Gs.DBSCAN,Gs.KMEANS,Gs.OPTICS,Gs.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i}),Xs=qs,Ws=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Ys=qs,Js=function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r},Zs=function(t,e){var n=t[0].length?Xs:Ws,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var d=1/0,f=0;f<u;f++){var p=n(t[h],r[f]);p<=d&&(d=p)}s[h]=d}for(var A=0;A<i;A++)l+=s[A];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:s[g]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var v=1;v<i;v++)c[v].cs=c[v-1].cs+c[v].pr;for(var m=Math.random(),y=0;y<i-1&&c[y++].cs<m;);r.push(c[y-1].v)}return r},tu=function(t,e,n,r){var i=[],o=[],a=[],s=[],u=!1,l=r||1e4,c=t.length,h=t[0].length,d=h>0,f=[];if(n)i="kmrand"==n?Js(t,e):"kmpp"==n?Zs(t,e):n;else for(var p={};i.length<e;){var A=Math.floor(Math.random()*c);p[A]||(p[A]=!0,i.push(t[A]))}do{Qr(e,0,f);for(var g=0;g<c;g++){for(var v=1/0,m=0,y=0;y<e;y++)(s=d?Ys(t[g],i[y]):Math.abs(t[g]-i[y]))<=v&&(v=s,m=y);a[g]=m,f[m]++}for(var b=[],_=(o=[],0);_<e;_++)b[_]=d?Qr(h,0,b[_]):0,o[_]=i[_];if(d){for(var w=0;w<e;w++)i[w]=[];for(var x=0;x<c;x++)for(var C=b[a[x]],E=t[x],B=0;B<h;B++)C[B]+=E[B];u=!0;for(var N=0;N<e;N++){for(var T=i[N],I=b[N],F=o[N],S=f[N],M=0;M<h;M++)T[M]=I[M]/S||0;if(u)for(var U=0;U<h;U++)if(F[U]!=T[U]){u=!1;break}}}else{for(var Q=0;Q<c;Q++)b[a[Q]]+=t[Q];for(var L=0;L<e;L++)i[L]=b[L]/f[L]||0;u=!0;for(var R=0;R<e;R++)if(o[R]!=i[R]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:a,centroids:i}},eu={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||eu.heuristics.manhattan,o=r.closest||!1,a=new Pr(function(t){return t.f}),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return Rr(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var d=l[c];if(!d.closed&&!d.isWall()){var f=u.g+d.getCost(u),p=d.visited;(!p||f<d.g)&&(d.visited=!0,d.parent=u,d.h=d.h||i(d,n),d.g=f,d.f=d.g+d.h,t.markDirty(d),o&&(d.h<s.h||d.h===s.h&&d.g<s.g)&&(s=d),p?a.rescoreElement(d):a.push(d))}}}return o?Rr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};kr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)eu.cleanNode(this.nodes[t])},kr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)eu.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},kr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},kr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},kr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Or.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Or.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Or.prototype.isWall=function(){return 0===this.weight},Pr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e){var u=this.content[a];(i=this.scoreFunction(u))<r&&(s=a)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var nu=function(t){return function(){return t}};zr.prototype={constructor:zr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=jr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&($r(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Vr(this,n),n=(t=n).U),n.C=!1,r.C=!0,$r(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?jr(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,$r(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Vr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,$r(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Vr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,$r(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Vr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ru,iu,ou,au,su,uu=[],lu=[],cu=1e-6,hu=1e-12;ci.prototype={constructor:ci,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Zr(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=e[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&ui(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var du=function(){function t(t){return new ci(t.map(function(r,i){var o=[Math.round(e(r,i,t)/cu)*cu,Math.round(n(r,i,t)/cu)*cu];return o.index=i,o.data=r,o}),r)}var e=Dr,n=Hr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:nu(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:nu(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},fu=Object.freeze({randomPosition:vi,randomPoint:mi,randomPolygon:yi,randomLineString:bi}),pu=Object.freeze({getCluster:wi,clusterEach:xi,clusterReduce:Ci,createBins:Ei,applyFilter:Bi,propertiesContainsFilter:Ni,filterProperties:Ti});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Au=function(){};Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au},Au.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var gu=function(){},vu=function(){},mu={MAX_VALUE:{configurable:!0}};vu.isNaN=function(t){return Number.isNaN(t)},vu.doubleToLongBits=function(t){return t},vu.longBitsToDouble=function(t){return t},vu.isInfinite=function(t){return!Number.isFinite(t)},mu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(vu,mu);var yu=function(){},bu=function(){},_u=function(){},wu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},xu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};wu.prototype.setOrdinate=function(t,e){switch(t){case wu.X:this.x=e;break;case wu.Y:this.y=e;break;case wu.Z:this.z=e;break;default:throw new gu("Invalid ordinate index: "+t)}},wu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Au.equalsWithTolerance(this.x,e.x,n)&&!!Au.equalsWithTolerance(this.y,e.y,n)}},wu.prototype.getOrdinate=function(t){switch(t){case wu.X:return this.x;case wu.Y:return this.y;case wu.Z:return this.z}throw new gu("Invalid ordinate index: "+t)},wu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||vu.isNaN(this.z))&&vu.isNaN(t.z)},wu.prototype.equals=function(t){return t instanceof wu&&this.equals2D(t)},wu.prototype.equalInZ=function(t,e){return Au.equalsWithTolerance(this.z,t.z,e)},wu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},wu.prototype.clone=function(){},wu.prototype.copy=function(){return new wu(this)},wu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},wu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},wu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},wu.prototype.hashCode=function(){var t=17;return t=37*t+wu.hashCode(this.x),t=37*t+wu.hashCode(this.y)},wu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},wu.prototype.interfaces_=function(){return[yu,bu,Ii]},wu.prototype.getClass=function(){return wu},wu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=vu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},xu.DimensionalComparator.get=function(){return Cu},xu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},xu.NULL_ORDINATE.get=function(){return vu.NaN},xu.X.get=function(){return 0},xu.Y.get=function(){return 1},xu.Z.get=function(){return 2},Object.defineProperties(wu,xu);var Cu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new gu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Cu.prototype.compare=function(t,e){var n=t,r=e,i=Cu.compare(n.x,r.x);if(0!==i)return i;var o=Cu.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:Cu.compare(n.z,r.z)},Cu.prototype.interfaces_=function(){return[_u]},Cu.prototype.getClass=function(){return Cu},Cu.compare=function(t,e){return t<e?-1:t>e?1:vu.isNaN(t)?vu.isNaN(e)?0:-1:vu.isNaN(e)?1:0};var Eu=function(){};Eu.prototype.create=function(){},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu};var Bu=function(){},Nu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu},Bu.toLocationSymbol=function(t){switch(t){case Bu.EXTERIOR:return"e";case Bu.BOUNDARY:return"b";case Bu.INTERIOR:return"i";case Bu.NONE:return"-"}throw new gu("Unknown location value: "+t)},Nu.INTERIOR.get=function(){return 0},Nu.BOUNDARY.get=function(){return 1},Nu.EXTERIOR.get=function(){return 2},Nu.NONE.get=function(){return-1},Object.defineProperties(Bu,Nu);var Tu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Iu=function(){},Fu={LOG_10:{configurable:!0}};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.log10=function(t){var e=Math.log(t);return vu.isInfinite(e)?e:vu.isNaN(e)?e:e/Iu.LOG_10},Iu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},Iu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},Iu.wrap=function(t,e){return t<0?e- -t%e:t%e},Iu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=i;return o>u&&(u=o),a>u&&(u=a),s>u&&(u=s),u}},Iu.average=function(t,e){return(t+e)/2},Fu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Iu,Fu);var Su=function(t){this.str=t};Su.prototype.append=function(t){this.str+=t},Su.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Su.prototype.toString=function(t){return this.str};var Mu=function(t){this.value=t};Mu.prototype.intValue=function(){return this.value},Mu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Mu.isNaN=function(t){return Number.isNaN(t)};var Uu=function(){};Uu.isWhitespace=function(t){return t<=32&&t>=0||127===t},Uu.toUpperCase=function(t){return t.toUpperCase()};var Qu=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},Lu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Qu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Qu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=Qu.magnitude(n._hi),i=Qu.TEN.pow(r);(n=n.divide(i)).gt(Qu.TEN)?(n=n.divide(Qu.TEN),r+=1):n.lt(Qu.ONE)&&(n=n.multiply(Qu.TEN),r-=1);for(var o=r+1,a=new Su,s=Qu.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,a.append(h),n=n.subtract(Qu.valueOf(l)).multiply(Qu.TEN),c&&n.selfAdd(Qu.TEN);var d=!0,f=Qu.magnitude(n._hi);if(f<0&&Math.abs(f)>=s-u&&(d=!1),!d)break}return e[0]=r,a.toString()},Qu.prototype.sqr=function(){return this.multiply(this)},Qu.prototype.doubleValue=function(){return this._hi+this._lo},Qu.prototype.subtract=function(){if(arguments[0]instanceof Qu){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Qu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Qu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Qu.prototype.selfSubtract=function(){if(arguments[0]instanceof Qu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Qu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Qu.prototype.min=function(t){return this.le(t)?this:t},Qu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Qu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null,c=null,h=null;return u=this._hi/n,l=Qu.SPLIT*u,i=l-u,h=Qu.SPLIT*n,i=l-i,o=u-i,a=h-n,c=u*n,a=h-a,s=n-a,h=i*a-c+i*s+o*a+o*s,l=(this._hi-c-h+this._lo-u*r)/n,h=u+l,this._hi=h,this._lo=u-h+l,this}},Qu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Qu.prototype.divide=function(){if(arguments[0]instanceof Qu){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,a=null,s=null,u=null;return n=(o=this._hi/t._hi)-(e=(a=Qu.SPLIT*o)-(e=a-o)),u=e*(r=(u=Qu.SPLIT*t._hi)-(r=u-t._hi))-(s=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,a=(this._hi-s-u+this._lo-o*t._lo)/t._hi,new Qu(u=o+a,o-u+a)}if("number"==typeof arguments[0]){var l=arguments[0];return vu.isNaN(l)?Qu.createNaN():Qu.copy(this).selfDivide(l,0)}},Qu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Qu.prototype.pow=function(t){if(0===t)return Qu.valueOf(1);var e=new Qu(this),n=Qu.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Qu.prototype.ceil=function(){if(this.isNaN())return Qu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Qu(t,e)},Qu.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Qu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Qu.prototype.setValue=function(){if(arguments[0]instanceof Qu){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Qu.prototype.max=function(t){return this.ge(t)?this:t},Qu.prototype.sqrt=function(){if(this.isZero())return Qu.valueOf(0);if(this.isNegative())return Qu.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Qu.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},Qu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Qu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return i=this._hi+e,a=i-this._hi,o=i-a,o=e-a+(this._hi-o),s=o+this._lo,n=i+s,r=s+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,d=null,f=null,p=null,A=null,g=null;f=this._hi+u,h=this._lo+l,p=f-(A=f-this._hi),d=h-(g=h-this._lo);var v=(c=f+(A=(p=u-A+(this._hi-p))+h))+(A=(d=l-g+(this._lo-d))+(A+(f-c))),m=A+(c-v);return this._hi=v,this._lo=m,this}},Qu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Qu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null;i=(u=Qu.SPLIT*this._hi)-this._hi,l=Qu.SPLIT*n,i=u-i,o=this._hi-i,a=l-n;var c=(u=this._hi*n)+(l=i*(a=l-a)-u+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),h=l+(i=u-c);return this._hi=c,this._lo=h,this}},Qu.prototype.selfSqr=function(){return this.selfMultiply(this)},Qu.prototype.floor=function(){if(this.isNaN())return Qu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Qu(t,e)},Qu.prototype.negate=function(){return this.isNaN()?this:new Qu(-this._hi,-this._lo)},Qu.prototype.clone=function(){},Qu.prototype.multiply=function(){if(arguments[0]instanceof Qu){var t=arguments[0];return t.isNaN()?Qu.createNaN():Qu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return vu.isNaN(e)?Qu.createNaN():Qu.copy(this).selfMultiply(e,0)}},Qu.prototype.isNaN=function(){return vu.isNaN(this._hi)},Qu.prototype.intValue=function(){return Math.trunc(this._hi)},Qu.prototype.toString=function(){var t=Qu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Qu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+Qu.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+Qu.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},Qu.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,a=null,s=null;e=(i=1/this._hi)-(t=(o=Qu.SPLIT*i)-(t=o-i)),n=(s=Qu.SPLIT*this._hi)-this._hi;var u=i+(o=(1-(a=i*this._hi)-(s=t*(n=s-n)-a+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new Qu(u,i-u+o)},Qu.prototype.toSciNotation=function(){if(this.isZero())return Qu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=Qu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},Qu.prototype.abs=function(){return this.isNaN()?Qu.NaN:this.isNegative()?this.negate():new Qu(this)},Qu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Qu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Qu.prototype.add=function(){if(arguments[0]instanceof Qu){var t=arguments[0];return Qu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Qu.copy(this).selfAdd(e)}},Qu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Qu){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Qu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Qu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Qu.prototype.trunc=function(){return this.isNaN()?Qu.NaN:this.isPositive()?this.floor():this.ceil()},Qu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Qu.prototype.interfaces_=function(){return[Ii,yu,bu]},Qu.prototype.getClass=function(){return Qu},Qu.sqr=function(t){return Qu.valueOf(t).selfMultiply(t)},Qu.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return Qu.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new Qu(e)}},Qu.sqrt=function(t){return Qu.valueOf(t).sqrt()},Qu.parse=function(t){for(var e=0,n=t.length;Uu.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new Qu,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,Uu.isDigit(l)){var c=l-"0";o.selfMultiply(Qu.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=Mu.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var d=o,f=a-s-u;if(0===f)d=o;else if(f>0){var p=Qu.TEN.pow(f);d=o.divide(p)}else if(f<0){var A=Qu.TEN.pow(-f);d=o.multiply(A)}return r?d.negate():d},Qu.createNaN=function(){return new Qu(vu.NaN,vu.NaN)},Qu.copy=function(t){return new Qu(t)},Qu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},Qu.stringOfChar=function(t,e){for(var n=new Su,r=0;r<e;r++)n.append(t);return n.toString()},Lu.PI.get=function(){return new Qu(3.141592653589793,1.2246467991473532e-16)},Lu.TWO_PI.get=function(){return new Qu(6.283185307179586,2.4492935982947064e-16)},Lu.PI_2.get=function(){return new Qu(1.5707963267948966,6.123233995736766e-17)},Lu.E.get=function(){return new Qu(2.718281828459045,1.4456468917292502e-16)},Lu.NaN.get=function(){return new Qu(vu.NaN,vu.NaN)},Lu.EPS.get=function(){return 1.23259516440783e-32},Lu.SPLIT.get=function(){return 134217729},Lu.MAX_PRINT_DIGITS.get=function(){return 32},Lu.TEN.get=function(){return Qu.valueOf(10)},Lu.ONE.get=function(){return Qu.valueOf(1)},Lu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Lu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Qu,Lu);var Ru=function(){},ku={DP_SAFE_EPSILON:{configurable:!0}};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.orientationIndex=function(t,e,n){var r=Ru.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=Qu.valueOf(e.x).selfAdd(-t.x),o=Qu.valueOf(e.y).selfAdd(-t.y),a=Qu.valueOf(n.x).selfAdd(-e.x),s=Qu.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},Ru.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},Ru.intersection=function(t,e,n,r){var i=Qu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Qu.valueOf(e.x).selfSubtract(t.x)),o=Qu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Qu.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=Qu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Qu.valueOf(t.y).selfSubtract(n.y)),u=Qu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Qu.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=Qu.valueOf(t.x).selfAdd(Qu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=Qu.valueOf(e.x).selfSubtract(t.x).selfMultiply(Qu.valueOf(t.y).selfSubtract(n.y)),d=Qu.valueOf(e.y).selfSubtract(t.y).selfMultiply(Qu.valueOf(t.x).selfSubtract(n.x)),f=h.subtract(d).selfDivide(a).doubleValue(),p=Qu.valueOf(n.y).selfAdd(Qu.valueOf(r.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new wu(c,p)},Ru.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return Ru.signum(a);r=i+o}else{if(!(i<0))return Ru.signum(a);if(o>=0)return Ru.signum(a);r=-i-o}var s=Ru.DP_SAFE_EPSILON*r;return a>=s||-a>=s?Ru.signum(a):2},Ru.signum=function(t){return t>0?1:t<0?-1:0},ku.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ru,ku);var Ou=function(){},Pu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Pu.X.get=function(){return 0},Pu.Y.get=function(){return 1},Pu.Z.get=function(){return 2},Pu.M.get=function(){return 3},Ou.prototype.setOrdinate=function(t,e,n){},Ou.prototype.size=function(){},Ou.prototype.getOrdinate=function(t,e){},Ou.prototype.getCoordinate=function(){},Ou.prototype.getCoordinateCopy=function(t){},Ou.prototype.getDimension=function(){},Ou.prototype.getX=function(t){},Ou.prototype.clone=function(){},Ou.prototype.expandEnvelope=function(t){},Ou.prototype.copy=function(){},Ou.prototype.getY=function(t){},Ou.prototype.toCoordinateArray=function(){},Ou.prototype.interfaces_=function(){return[bu]},Ou.prototype.getClass=function(){return Ou},Object.defineProperties(Ou,Pu);var Du=function(){},Hu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Du),zu=function(){};zu.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},zu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Ku=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],d=arguments[1],f=arguments[2],p=arguments[3],A=h.y-d.y,g=d.x-h.x,v=h.x*d.y-d.x*h.y,m=f.y-p.y,y=p.x-f.x,b=f.x*p.y-p.x*f.y;this.x=g*b-y*v,this.y=m*v-A*b,this.w=A*y-m*g}};Ku.prototype.getY=function(){var t=this.y/this.w;if(vu.isNaN(t)||vu.isInfinite(t))throw new Hu;return t},Ku.prototype.getX=function(){var t=this.x/this.w;if(vu.isNaN(t)||vu.isInfinite(t))throw new Hu;return t},Ku.prototype.getCoordinate=function(){var t=new wu;return t.x=this.getX(),t.y=this.getY(),t},Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku},Ku.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-s*o,h=(o*l-u*a)/c,d=(s*a-i*l)/c;if(vu.isNaN(h)||vu.isInfinite(h)||vu.isNaN(d)||vu.isInfinite(d))throw new Hu;return new wu(h,d)};var $u=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof wu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}},Vu={serialVersionUID:{configurable:!0}};$u.prototype.getArea=function(){return this.getWidth()*this.getHeight()},$u.prototype.equals=function(t){if(!(t instanceof $u))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},$u.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new $u;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new $u(e,r,n,i)},$u.prototype.isNull=function(){return this._maxx<this._minx},$u.prototype.getMaxX=function(){return this._maxx},$u.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof $u){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},$u.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof $u){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof wu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},$u.prototype.getMinY=function(){return this._miny},$u.prototype.getMinX=function(){return this._minx},$u.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof $u){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},$u.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},$u.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},$u.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},$u.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},$u.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},$u.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},$u.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},$u.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},$u.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},$u.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof $u){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof wu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},$u.prototype.centre=function(){return this.isNull()?null:new wu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},$u.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof $u){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},$u.prototype.getMaxY=function(){return this._maxy},$u.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},$u.prototype.hashCode=function(){var t=17;return t=37*t+wu.hashCode(this._minx),t=37*t+wu.hashCode(this._maxx),t=37*t+wu.hashCode(this._miny),t=37*t+wu.hashCode(this._maxy)},$u.prototype.interfaces_=function(){return[yu,Ii]},$u.prototype.getClass=function(){return $u},$u.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<s))}},Vu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties($u,Vu);var ju={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Gu=function(t){this.geometryFactory=t||new gc};Gu.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=ju.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=ju.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Xu[n]&&(e=Xu[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Gu.prototype.write=function(t){return this.extractGeometry(t)},Gu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!qu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+qu[e].apply(this,[t])+")"};var qu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return qu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+qu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(qu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(qu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+qu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+qu.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+qu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+qu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Xu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(ju.spaces);return this.geometryFactory.createPoint(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ju.trimParens,"$1"),r.push(Xu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ju.spaces),r.push(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ju.spaces),r.push(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(ju.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ju.trimParens,"$1"),r.push(Xu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(ju.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(ju.trimParens,"$1"),n=Xu.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(ju.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ju.trimParens,"$1"),r.push(Xu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Wu=function(t){this.parser=new Gu(t)};Wu.prototype.write=function(t){return this.parser.write(t)},Wu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Yu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ju=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yu),Zu=function(){};Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu},Zu.shouldNeverReachHere=function(){if(0===arguments.length)Zu.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Ju("Should never reach here"+(null!==t?": "+t:""))}},Zu.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],Zu.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new Ju:new Ju(e)},Zu.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],Zu.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new Ju("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var tl=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new wu,this._intPt[1]=new wu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},el={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};tl.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},tl.prototype.getTopologySummary=function(){var t=new Su;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},tl.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},tl.prototype.getIntersectionNum=function(){return this._result},tl.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},tl.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},tl.prototype.setPrecisionModel=function(t){this._precisionModel=t},tl.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},tl.prototype.getIntersection=function(t){return this._intPt[t]},tl.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},tl.prototype.hasIntersection=function(){return this._result!==tl.NO_INTERSECTION},tl.prototype.getEdgeDistance=function(t,e){return tl.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},tl.prototype.isCollinear=function(){return this._result===tl.COLLINEAR_INTERSECTION},tl.prototype.toString=function(){return Wu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Wu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},tl.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},tl.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},tl.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},tl.prototype.interfaces_=function(){return[]},tl.prototype.getClass=function(){return tl},tl.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return Zu.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},tl.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Zu.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},el.DONT_INTERSECT.get=function(){return 0},el.DO_INTERSECT.get=function(){return 1},el.COLLINEAR.get=function(){return 2},el.NO_INTERSECTION.get=function(){return 0},el.POINT_INTERSECTION.get=function(){return 1},el.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(tl,el);var nl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new $u(this._inputLines[0][0],this._inputLines[0][1]),n=new $u(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,$u.intersects(n,r,e)&&0===ol.orientationIndex(n,r,e)&&0===ol.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Ku.intersection(t,n,r,i)}catch(a){if(!(a instanceof Hu))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new wu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=Ru.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);zu.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&zu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new wu(t),o=new wu(e),a=new wu(n),s=new wu(r),u=new wu;this.normalizeToEnvCentre(i,o,a,s,u);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=$u.intersects(e,n,r),a=$u.intersects(e,n,i),s=$u.intersects(r,i,e),u=$u.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,d=n.y>r.y?n.y:r.y,f=((o>l?o:l)+(s<h?s:h))/2,p=((a>c?a:c)+(u<d?u:d))/2;i.x=f,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!$u.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=ol.orientationIndex(e,n,r),a=ol.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=ol.orientationIndex(r,i,e),u=ol.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new wu(r):0===a?this._intPt[0]=new wu(i):0===s?this._intPt[0]=new wu(e):0===u&&(this._intPt[0]=new wu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=ol.distancePointLine(t,n,r),a=ol.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=ol.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=ol.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(tl),rl=function(){};rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl},rl.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return rl.signOfDet2x2(r,i,o,a)},rl.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(a=Math.floor(n/t),n-=a*t,(r-=a*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(a=Math.floor(t/n),t-=a*n,(e-=a*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var il=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};il.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,u=rl.signOfDet2x2(i,o,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this._crossingCount++}},il.prototype.isPointInPolygon=function(){return this.getLocation()!==Bu.EXTERIOR},il.prototype.getLocation=function(){return this._isPointOnSegment?Bu.BOUNDARY:this._crossingCount%2==1?Bu.INTERIOR:Bu.EXTERIOR},il.prototype.isOnSegment=function(){return this._isPointOnSegment},il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},il.locatePointInRing=function(){if(arguments[0]instanceof wu&&Tu(arguments[1],Ou)){for(var t=arguments[0],e=arguments[1],n=new il(t),r=new wu,i=new wu,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof wu&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],u=new il(a),l=1;l<s.length;l++){var c=s[l],h=s[l-1];if(u.countSegment(c,h),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var ol=function(){},al={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.orientationIndex=function(t,e,n){return Ru.orientationIndex(t,e,n)},ol.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Tu(arguments[0],Ou)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new wu,l=new wu,c=new wu;a.getCoordinate(0,l),a.getCoordinate(1,c);var h=l.x;c.x-=h;for(var d=0,f=1;f<s-1;f++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(f+1,c),c.x-=h,d+=l.x*(u.y-c.y);return d/2}},ol.distanceLineLine=function(t,e,n,r){if(t.equals(e))return ol.distancePointLine(t,n,r);if(n.equals(r))return ol.distancePointLine(r,t,e);var i=!1;if($u.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=a/o;(u<0||u>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?Iu.min(ol.distancePointLine(t,n,r),ol.distancePointLine(e,n,r),ol.distancePointLine(n,t,e),ol.distancePointLine(r,t,e)):0},ol.isPointInRing=function(t,e){return ol.locatePointInRing(t,e)!==Bu.EXTERIOR},ol.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new wu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n},ol.isCCW=function(t){var e=t.length-1;if(e<3)throw new gu("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var u=t[a],l=t[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=ol.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},ol.locatePointInRing=function(t,e){return il.locatePointInRing(t,e)},ol.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},ol.computeOrientation=function(t,e,n){return ol.orientationIndex(t,e,n)},ol.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new gu("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=ol.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;if(l<=0)return o.distance(a);if(l>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u;return Math.abs(c)*Math.sqrt(u)}},ol.isOnLine=function(t,e){for(var n=new nl,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},al.CLOCKWISE.get=function(){return-1},al.RIGHT.get=function(){return ol.CLOCKWISE},al.COUNTERCLOCKWISE.get=function(){return 1},al.LEFT.get=function(){return ol.COUNTERCLOCKWISE},al.COLLINEAR.get=function(){return 0},al.STRAIGHT.get=function(){return ol.COLLINEAR},Object.defineProperties(ol,al);var sl=function(){};sl.prototype.filter=function(t){},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl};var ul=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ll={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ul.prototype.isGeometryCollection=function(){return this.getSortIndex()===ul.SORTINDEX_GEOMETRYCOLLECTION},ul.prototype.getFactory=function(){return this._factory},ul.prototype.getGeometryN=function(t){return this},ul.prototype.getArea=function(){return 0},ul.prototype.isRectangle=function(){return!1},ul.prototype.equals=function(){if(arguments[0]instanceof ul){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ul))return!1;var n=e;return this.equalsExact(n)}},ul.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ul.prototype.geometryChanged=function(){this.apply(ul.geometryChangedFilter)},ul.prototype.geometryChangedAction=function(){this._envelope=null},ul.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ul.prototype.getLength=function(){return 0},ul.prototype.getNumGeometries=function(){return 1},ul.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ul.prototype.getUserData=function(){return this._userData},ul.prototype.getSRID=function(){return this._SRID},ul.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ul.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ul.SORTINDEX_GEOMETRYCOLLECTION)throw new gu("This method does not support GeometryCollection arguments")},ul.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ul.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ul.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ul.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new $u(this._envelope)},ul.prototype.setSRID=function(t){this._SRID=t},ul.prototype.setUserData=function(t){this._userData=t},ul.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},ul.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ul.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ul.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ul.SORTINDEX_MULTIPOINT||this.getSortIndex()===ul.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ul.SORTINDEX_MULTIPOLYGON},ul.prototype.interfaces_=function(){return[bu,yu,Ii]},ul.prototype.getClass=function(){return ul},ul.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ul.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ll.serialVersionUID.get=function(){return 0x799ea46522854c00},ll.SORTINDEX_POINT.get=function(){return 0},ll.SORTINDEX_MULTIPOINT.get=function(){return 1},ll.SORTINDEX_LINESTRING.get=function(){return 2},ll.SORTINDEX_LINEARRING.get=function(){return 3},ll.SORTINDEX_MULTILINESTRING.get=function(){return 4},ll.SORTINDEX_POLYGON.get=function(){return 5},ll.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ll.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ll.geometryChangedFilter.get=function(){return cl},Object.defineProperties(ul,ll);var cl=function(){};cl.interfaces_=function(){return[sl]},cl.filter=function(t){t.geometryChangedAction()};var hl=function(){};hl.prototype.filter=function(t){},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl};var dl=function(){},fl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dl.prototype.isInBoundary=function(t){},dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl},fl.Mod2BoundaryNodeRule.get=function(){return pl},fl.EndPointBoundaryNodeRule.get=function(){return Al},fl.MultiValentEndPointBoundaryNodeRule.get=function(){return gl},fl.MonoValentEndPointBoundaryNodeRule.get=function(){return vl},fl.MOD2_BOUNDARY_RULE.get=function(){return new pl},fl.ENDPOINT_BOUNDARY_RULE.get=function(){return new Al},fl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new gl},fl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vl},fl.OGC_SFS_BOUNDARY_RULE.get=function(){return dl.MOD2_BOUNDARY_RULE},Object.defineProperties(dl,fl);var pl=function(){};pl.prototype.isInBoundary=function(t){return t%2==1},pl.prototype.interfaces_=function(){return[dl]},pl.prototype.getClass=function(){return pl};var Al=function(){};Al.prototype.isInBoundary=function(t){return t>0},Al.prototype.interfaces_=function(){return[dl]},Al.prototype.getClass=function(){return Al};var gl=function(){};gl.prototype.isInBoundary=function(t){return t>1},gl.prototype.interfaces_=function(){return[dl]},gl.prototype.getClass=function(){return gl};var vl=function(){};vl.prototype.isInBoundary=function(t){return 1===t},vl.prototype.interfaces_=function(){return[dl]},vl.prototype.getClass=function(){return vl};var ml=function(){};ml.prototype.add=function(){},ml.prototype.addAll=function(){},ml.prototype.isEmpty=function(){},ml.prototype.iterator=function(){},ml.prototype.size=function(){},ml.prototype.toArray=function(){},ml.prototype.remove=function(){};var yl=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),bl=function(){};bl.prototype.hasNext=function(){},bl.prototype.next=function(){},bl.prototype.remove=function(){};var _l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(ml);(Fi.prototype=new Error).name="NoSuchElementException";var wl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof ml&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,ml]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new xl(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new yl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(_l),xl=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Fi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(bl),Cl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof wu&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<s.length;l++)this.add(s[l],u);else for(var c=s.length-1;c>=0;c--)this.add(s[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof wu){var h=arguments[0],d=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(h>0&&this.get(h-1).equals2D(d))return null;if(h<f&&this.get(h).equals2D(d))return null}}t.prototype.add.call(this,h,d)}}else if(4===arguments.length){var p=arguments[0],A=arguments[1],g=arguments[2],v=arguments[3],m=1;g>v&&(m=-1);for(var y=g;y!==v;y+=m)this.add(p[y],A);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new wu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(wl),El=function(){},Bl={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Bl.ForwardComparator.get=function(){return Nl},Bl.BidirectionalComparator.get=function(){return Tl},Bl.coordArrayType.get=function(){return new Array(0).fill(null)},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El},El.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},El.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(El.indexOf(r,e)<0)return r}return null},El.scroll=function(t,e){var n=El.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);zu.arraycopy(t,n,r,0,t.length-n),zu.arraycopy(t,0,r,t.length-n,n),zu.arraycopy(r,0,t,0,t.length)},El.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},El.intersection=function(t,e){for(var n=new Cl,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},El.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},El.removeRepeatedPoints=function(t){return El.hasRepeatedPoints(t)?new Cl(t,!1).toCoordinateArray():t},El.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},El.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},El.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new wu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new wu(r[i+u])},El.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},El.envelope=function(t){for(var e=new $u,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},El.toCoordinateArray=function(t){return t.toArray(El.coordArrayType)},El.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},El.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},El.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},El.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},El.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},El.extract=function(t,e,n){e=Iu.clamp(e,0,t.length);var r=(n=Iu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(El,Bl);var Nl=function(){};Nl.prototype.compare=function(t,e){return El.compare(t,e)},Nl.prototype.interfaces_=function(){return[_u]},Nl.prototype.getClass=function(){return Nl};var Tl=function(){};Tl.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=El.compare(n,r);return El.isEqualReversed(n,r)?0:i},Tl.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=El.increasingDirection(n),o=El.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},Tl.prototype.interfaces_=function(){return[_u]},Tl.prototype.getClass=function(){return Tl};var Il=function(){};Il.prototype.get=function(){},Il.prototype.put=function(){},Il.prototype.size=function(){},Il.prototype.values=function(){},Il.prototype.entrySet=function(){};var Fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Il);(Si.prototype=new Error).name="OperationNotSupported",(Mi.prototype=new ml).contains=function(){};var Sl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof ml&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Ml(this)},e}(Mi),Ml=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Fi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Si},e}(bl),Ul=0;(Oi.prototype=new Fl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Oi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Ul,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:Ul,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Oi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Qi(t)===Ri(Qi(Qi(t)))){var e=ki(Qi(Qi(t)));1===Ui(e)?(Li(Qi(t),Ul),Li(e,Ul),Li(Qi(Qi(t)),1),t=Qi(Qi(t))):(t===ki(Qi(t))&&(t=Qi(t),this.rotateLeft(t)),Li(Qi(t),Ul),Li(Qi(Qi(t)),1),this.rotateRight(Qi(Qi(t))))}else{var n=Ri(Qi(Qi(t)));1===Ui(n)?(Li(Qi(t),Ul),Li(n,Ul),Li(Qi(Qi(t)),1),t=Qi(Qi(t))):(t===Ri(Qi(t))&&(t=Qi(t),this.rotateRight(t)),Li(Qi(t),Ul),Li(Qi(Qi(t)),1),this.rotateLeft(Qi(Qi(t))))}this.root_.color=Ul},Oi.prototype.values=function(){var t=new wl,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Oi.successor(e));)t.add(e.value);return t},Oi.prototype.entrySet=function(){var t=new Sl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Oi.successor(e));)t.add(e);return t},Oi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Oi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Oi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Oi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Oi.prototype.size=function(){return this.size_};var Ql=function(){};Ql.prototype.interfaces_=function(){return[]},Ql.prototype.getClass=function(){return Ql},Pi.prototype=new Mi,(Di.prototype=new Pi).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Di.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Di.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Di.prototype.remove=function(t){throw new Si},Di.prototype.size=function(){return this.array_.length},Di.prototype.isEmpty=function(){return 0===this.array_.length},Di.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Di.prototype.iterator=function(){return new Ll(this)};var Ll=function(t){this.treeSet_=t,this.position_=0};Ll.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Fi;return this.treeSet_.array_[this.position_++]},Ll.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ll.prototype.remove=function(){throw new Si};var Rl=function(){};Rl.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Rl.asList=function(t){for(var e=new wl,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var kl=function(){},Ol={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ol.P.get=function(){return 0},Ol.L.get=function(){return 1},Ol.A.get=function(){return 2},Ol.FALSE.get=function(){return-1},Ol.TRUE.get=function(){return-2},Ol.DONTCARE.get=function(){return-3},Ol.SYM_FALSE.get=function(){return"F"},Ol.SYM_TRUE.get=function(){return"T"},Ol.SYM_DONTCARE.get=function(){return"*"},Ol.SYM_P.get=function(){return"0"},Ol.SYM_L.get=function(){return"1"},Ol.SYM_A.get=function(){return"2"},kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.toDimensionSymbol=function(t){switch(t){case kl.FALSE:return kl.SYM_FALSE;case kl.TRUE:return kl.SYM_TRUE;case kl.DONTCARE:return kl.SYM_DONTCARE;case kl.P:return kl.SYM_P;case kl.L:return kl.SYM_L;case kl.A:return kl.SYM_A}throw new gu("Unknown dimension value: "+t)},kl.toDimensionValue=function(t){switch(Uu.toUpperCase(t)){case kl.SYM_FALSE:return kl.FALSE;case kl.SYM_TRUE:return kl.TRUE;case kl.SYM_DONTCARE:return kl.DONTCARE;case kl.SYM_P:return kl.P;case kl.SYM_L:return kl.L;case kl.SYM_A:return kl.A}throw new gu("Unknown dimension symbol: "+t)},Object.defineProperties(kl,Ol);var Pl=function(){};Pl.prototype.filter=function(t){},Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Dl=function(){};Dl.prototype.filter=function(t,e){},Dl.prototype.isDone=function(){},Dl.prototype.isGeometryChanged=function(){},Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl};var Hl=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new gu("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new $u,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Rl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=kl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=kl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Di(Rl.asList(this._geometries)),n=new Di(Rl.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),u=0;u<a&&u<s;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,i);if(0!==h)return h;u++}return u<a?1:u<s?-1:0}},e.prototype.apply=function(){if(Tu(arguments[0],hl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Tu(arguments[0],Dl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Tu(arguments[0],Pl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(Tu(arguments[0],sl)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Zu.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ul),zl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ul.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?kl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Kl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ql]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Hl),Kl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Kl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Kl.prototype.getBoundary=function(){return this._geom instanceof ql?this.boundaryLineString(this._geom):this._geom instanceof zl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Kl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Kl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Kl.prototype.computeBoundaryCoordinates=function(t){var e=new wl;this._endpointMap=new Oi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return El.toCoordinateArray(e)},Kl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new $l,this._endpointMap.put(t,e)),e.count++},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl},Kl.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Kl(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Kl(e,n).getBoundary()}};var $l=function(){this.count=null};$l.prototype.interfaces_=function(){return[]},$l.prototype.getClass=function(){return $l};var Vl=function(){},jl={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl},Vl.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Vl.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Vl.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Vl.NEWLINE}catch(t){if(!(t instanceof Hi))throw t;Zu.shouldNeverReachHere()}return o}},Vl.split=function(t,e){for(var n=e.length,r=new wl,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Vl.toString=function(){if(1===arguments.length){var t=arguments[0];return Vl.SIMPLE_ORDINATE_FORMAT.format(t)}},Vl.spaces=function(t){return Vl.chars(" ",t)},jl.NEWLINE.get=function(){return zu.getProperty("line.separator")},jl.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Vl,jl);var Gl=function(){};Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl},Gl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Gl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Ou.X)===t.getOrdinate(e-1,Ou.X)&&t.getOrdinate(0,Ou.Y)===t.getOrdinate(e-1,Ou.Y)},Gl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||vu.isNaN(a)&&vu.isNaN(s)))return!1}return!0},Gl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Gl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Gl.copy(e,i-1,r,o,1);return r},Gl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Gl.swap(t,r,e-r)},Gl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Gl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Gl.copyCoord(t,e+o,n,r+o)},Gl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new Su;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Vl.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Gl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Gl.createClosedRing(t,e,4):e.getOrdinate(0,Ou.X)===e.getOrdinate(n-1,Ou.X)&&e.getOrdinate(0,Ou.Y)===e.getOrdinate(n-1,Ou.Y)?e:Gl.createClosedRing(t,e,n+1)},Gl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Gl.copy(e,0,r,0,i);for(var o=i;o<n;o++)Gl.copy(e,0,r,o,1);return r};var ql=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new $u:this._points.expandEnvelope(new $u)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Gl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?kl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ol.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Gl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(Tu(arguments[0],hl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Tu(arguments[0],Dl)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else Tu(arguments[0],Pl)?arguments[0].filter(this):Tu(arguments[0],sl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Kl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new gu("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Ql]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ul),Xl=function(){};Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl};var Wl=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new $u;var t=new $u;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return kl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(Tu(arguments[0],hl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Tu(arguments[0],Dl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else Tu(arguments[0],Pl)?arguments[0].filter(this):Tu(arguments[0],sl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Zu.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Xl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ul),Yl=function(){};Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Jl=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new gu("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new gu("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(ol.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(ol.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),l=t.getY(s);if(u!==o==(l!==a))return!1;o=u,a=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Rl.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);zu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=El.minCoordinate(e.getCoordinates());El.scroll(r,i),zu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],ol.isCCW(e.getCoordinates())===n&&El.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=this._shell,s=o._shell,u=a.compareToSameClass(s,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),h=0;h<l&&h<c;){var d=this.getInteriorRingN(h),f=o.getInteriorRingN(h),p=d.compareToSameClass(f,i);if(0!==p)return p;h++}return h<l?1:h<c?-1:0}},e.prototype.apply=function(t){if(Tu(t,hl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Tu(t,Dl)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Tu(t,Pl))t.filter(this);else if(Tu(t,sl)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ul),Zl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ul.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return kl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Xl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Hl),tc=function(t){function e(e,n){e instanceof wu&&n instanceof gc&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ul.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return kl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Gl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new gu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new gu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(ql),ec=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ul.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new wl,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Hl),nc=function(t){this._factory=t||null,this._isUserDataCopied=!1},rc={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};nc.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},nc.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},nc.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Hl?this.editGeometryCollection(t,e):t instanceof Jl?this.editPolygon(t,e):t instanceof Wl?e.edit(t,this._factory):t instanceof ql?e.edit(t,this._factory):(Zu.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},nc.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new wl,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Zl?this._factory.createMultiPoint(r.toArray([])):n.getClass()===zl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ec?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},nc.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new wl,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},nc.prototype.interfaces_=function(){return[]},nc.prototype.getClass=function(){return nc},nc.GeometryEditorOperation=function(){},rc.NoOpGeometryOperation.get=function(){return ic},rc.CoordinateOperation.get=function(){return oc},rc.CoordinateSequenceOperation.get=function(){return ac},Object.defineProperties(nc,rc);var ic=function(){};ic.prototype.edit=function(t,e){return t},ic.prototype.interfaces_=function(){return[nc.GeometryEditorOperation]},ic.prototype.getClass=function(){return ic};var oc=function(){};oc.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof tc?e.createLinearRing(n):t instanceof ql?e.createLineString(n):t instanceof Wl?n.length>0?e.createPoint(n[0]):e.createPoint():t},oc.prototype.interfaces_=function(){return[nc.GeometryEditorOperation]},oc.prototype.getClass=function(){return oc};var ac=function(){};ac.prototype.edit=function(t,e){return t instanceof tc?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof ql?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Wl?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ac.prototype.interfaces_=function(){return[nc.GeometryEditorOperation]},ac.prototype.getClass=function(){return ac};var sc=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new wu}else if(Tu(arguments[0],Ou)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new wu}},uc={serialVersionUID:{configurable:!0}};sc.prototype.setOrdinate=function(t,e,n){switch(e){case Ou.X:this._coordinates[t].x=n;break;case Ou.Y:this._coordinates[t].y=n;break;case Ou.Z:this._coordinates[t].z=n;break;default:throw new gu("invalid ordinateIndex")}},sc.prototype.size=function(){return this._coordinates.length},sc.prototype.getOrdinate=function(t,e){switch(e){case Ou.X:return this._coordinates[t].x;case Ou.Y:return this._coordinates[t].y;case Ou.Z:return this._coordinates[t].z}return vu.NaN},sc.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},sc.prototype.getCoordinateCopy=function(t){return new wu(this._coordinates[t])},sc.prototype.getDimension=function(){return this._dimension},sc.prototype.getX=function(t){return this._coordinates[t].x},sc.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new sc(t,this._dimension)},sc.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},sc.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new sc(t,this._dimension)},sc.prototype.toString=function(){if(this._coordinates.length>0){var t=new Su(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},sc.prototype.getY=function(t){return this._coordinates[t].y},sc.prototype.toCoordinateArray=function(){return this._coordinates},sc.prototype.interfaces_=function(){return[Ou,Ii]},sc.prototype.getClass=function(){return sc},uc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(sc,uc);var lc=function(){},cc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};lc.prototype.readResolve=function(){return lc.instance()},lc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new sc(t)}if(Tu(arguments[0],Ou)){var e=arguments[0];return new sc(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new sc(n):new sc(n,r)}},lc.prototype.interfaces_=function(){return[Eu,Ii]},lc.prototype.getClass=function(){return lc},lc.instance=function(){return lc.instanceObject},cc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},cc.instanceObject.get=function(){return new lc},Object.defineProperties(lc,cc);var hc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new wl,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Sl;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Il),dc=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof pc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},fc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dc.prototype.equals=function(t){if(!(t instanceof dc))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},dc.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Mu(n).compareTo(new Mu(r))},dc.prototype.getScale=function(){return this._scale},dc.prototype.isFloating=function(){return this._modelType===dc.FLOATING||this._modelType===dc.FLOATING_SINGLE},dc.prototype.getType=function(){return this._modelType},dc.prototype.toString=function(){var t="UNKNOWN";return this._modelType===dc.FLOATING?t="Floating":this._modelType===dc.FLOATING_SINGLE?t="Floating-Single":this._modelType===dc.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},dc.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return vu.isNaN(t)?t:this._modelType===dc.FLOATING_SINGLE?t:this._modelType===dc.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof wu){var e=arguments[0];if(this._modelType===dc.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},dc.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===dc.FLOATING?t=16:this._modelType===dc.FLOATING_SINGLE?t=6:this._modelType===dc.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},dc.prototype.setScale=function(t){this._scale=Math.abs(t)},dc.prototype.interfaces_=function(){return[Ii,yu]},dc.prototype.getClass=function(){return dc},dc.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},fc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},fc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dc,fc);var pc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Ac={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};pc.prototype.readResolve=function(){return pc.nameToTypeMap.get(this._name)},pc.prototype.toString=function(){return this._name},pc.prototype.interfaces_=function(){return[Ii]},pc.prototype.getClass=function(){return pc},Ac.serialVersionUID.get=function(){return-552860263173159e4},Ac.nameToTypeMap.get=function(){return new hc},Object.defineProperties(pc,Ac),dc.Type=pc,dc.FIXED=new pc("FIXED"),dc.FLOATING=new pc("FLOATING"),dc.FLOATING_SINGLE=new pc("FLOATING SINGLE");var gc=function t(){this._precisionModel=new dc,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Tu(arguments[0],Eu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dc&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},vc={serialVersionUID:{configurable:!0}};gc.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new wu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new wu(t.getMinX(),t.getMinY()),new wu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new wu(t.getMinX(),t.getMinY()),new wu(t.getMinX(),t.getMaxY()),new wu(t.getMaxX(),t.getMaxY()),new wu(t.getMaxX(),t.getMinY()),new wu(t.getMinX(),t.getMinY())]),null)},gc.prototype.createLineString=function(t){return t?t instanceof Array?new ql(this.getCoordinateSequenceFactory().create(t),this):Tu(t,Ou)?new ql(t,this):void 0:new ql(this.getCoordinateSequenceFactory().create([]),this)},gc.prototype.createMultiLineString=function(){if(0===arguments.length)return new zl(null,this);if(1===arguments.length){var t=arguments[0];return new zl(t,this)}},gc.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(gc.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Jl)return this.createMultiPolygon(gc.toPolygonArray(t));if(s instanceof ql)return this.createMultiLineString(gc.toLineStringArray(t));if(s instanceof Wl)return this.createMultiPoint(gc.toPointArray(t));Zu.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},gc.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},gc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Tu(arguments[0],Ou)){var e=arguments[0];return new Wl(e,this)}}},gc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},gc.prototype.createPolygon=function(){if(0===arguments.length)return new Jl(null,null,this);if(1===arguments.length){if(Tu(arguments[0],Ou)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof tc){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new Jl(r,i,this)}},gc.prototype.getSRID=function(){return this._SRID},gc.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Hl(null,this);if(1===arguments.length){var t=arguments[0];return new Hl(t,this)}},gc.prototype.createGeometry=function(t){return new nc(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},gc.prototype.getPrecisionModel=function(){return this._precisionModel},gc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Tu(arguments[0],Ou)){var e=arguments[0];return new tc(e,this)}}},gc.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ec(null,this);if(1===arguments.length){var t=arguments[0];return new ec(t,this)}},gc.prototype.createMultiPoint=function(){if(0===arguments.length)return new Zl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Zl(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Tu(arguments[0],Ou)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Gl.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},gc.prototype.interfaces_=function(){return[Ii]},gc.prototype.getClass=function(){return gc},gc.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.getDefaultCoordinateSequenceFactory=function(){return lc.instance()},gc.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gc.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},vc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(gc,vc);var mc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],yc=function(t){this.geometryFactory=t||new gc};yc.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!bc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==mc.indexOf(n)?bc[n].apply(this,[e.coordinates]):"GeometryCollection"===n?bc[n].apply(this,[e.geometries]):bc[n].apply(this,[e])},yc.prototype.write=function(t){var e=t.getGeometryType();if(!_c[e])throw new Error("Geometry is not supported");return _c[e].apply(this,[t])};var bc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!bc[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=bc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new wu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new wu(t[0],t[1]),new wu(t[2],t[1]),new wu(t[2],t[3]),new wu(t[0],t[3]),new wu(t[0],t[1])])},Point:function(t){var e=new wu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=bc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=bc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=bc.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(bc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},_c={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:_c.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_c.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(_c.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_c.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=_c.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=_c.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=_c.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(_c[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},wc=function(t){this.geometryFactory=t||new gc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new yc(this.geometryFactory)};wc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===dc.FIXED&&this.reducePrecision(e),e},wc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var xc=function(){this.parser=new yc(this.geometryFactory)};xc.prototype.write=function(t){return this.parser.write(t)};var Cc=function(){},Ec={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc},Cc.opposite=function(t){return t===Cc.LEFT?Cc.RIGHT:t===Cc.RIGHT?Cc.LEFT:t},Ec.ON.get=function(){return 0},Ec.LEFT.get=function(){return 1},Ec.RIGHT.get=function(){return 2},Object.defineProperties(Cc,Ec),(zi.prototype=new Error).name="EmptyStackException",(Ki.prototype=new _l).add=function(t){return this.array_.push(t),!0},Ki.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Ki.prototype.push=function(t){return this.array_.push(t),t},Ki.prototype.pop=function(t){if(0===this.array_.length)throw new zi;return this.array_.pop()},Ki.prototype.peek=function(){if(0===this.array_.length)throw new zi;return this.array_[this.array_.length-1]},Ki.prototype.empty=function(){return 0===this.array_.length},Ki.prototype.isEmpty=function(){return this.empty()},Ki.prototype.search=function(t){return this.array_.indexOf(t)},Ki.prototype.size=function(){return this.array_.length},Ki.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Bc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Bc.prototype.getCoordinate=function(){return this._minCoord},Bc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Bc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Zu.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=ol.computeOrientation(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===ol.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===ol.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Bc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Cc.LEFT;return n[e].y<n[e+1].y&&(r=Cc.RIGHT),r},Bc.prototype.getEdge=function(){return this._orientedDe},Bc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Bc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Bc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Zu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Cc.LEFT&&(this._orientedDe=this._minDe.getSym())},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var Nc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new wu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Yu),Tc=function(){this.array_=[]};Tc.prototype.addLast=function(t){this.array_.push(t)},Tc.prototype.removeFirst=function(){return this.array_.shift()},Tc.prototype.isEmpty=function(){return 0===this.array_.length};var Ic=function(){this._finder=null,this._dirEdgeList=new wl,this._nodes=new wl,this._rightMostCoord=null,this._env=null,this._finder=new Bc};Ic.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ic.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ic.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Nc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Ic.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Cc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ic.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ic.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Cc.RIGHT)>=1&&e.getDepth(Cc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ic.prototype.computeDepths=function(t){var e=new Sl,n=new Tc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},Ic.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ic.prototype.getEnvelope=function(){if(null===this._env){for(var t=new $u,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ic.prototype.addReachable=function(t){var e=new Ki;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ic.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Cc.LEFT,t.getDepth(Cc.RIGHT)),e.setDepth(Cc.RIGHT,t.getDepth(Cc.LEFT))},Ic.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Ic.prototype.getNodes=function(){return this._nodes},Ic.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ic.prototype.interfaces_=function(){return[yu]},Ic.prototype.getClass=function(){return Ic};var Fc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Cc.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Cc.ON]=o,this.location[Cc.LEFT]=a,this.location[Cc.RIGHT]=s}};Fc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Fc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Bu.NONE)return!1;return!0},Fc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Bu.NONE&&(this.location[e]=t)},Fc.prototype.isLine=function(){return 1===this.location.length},Fc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Cc.ON]=this.location[Cc.ON],e[Cc.LEFT]=Bu.NONE,e[Cc.RIGHT]=Bu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Bu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Fc.prototype.getLocations=function(){return this.location},Fc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Cc.LEFT];this.location[Cc.LEFT]=this.location[Cc.RIGHT],this.location[Cc.RIGHT]=t},Fc.prototype.toString=function(){var t=new Su;return this.location.length>1&&t.append(Bu.toLocationSymbol(this.location[Cc.LEFT])),t.append(Bu.toLocationSymbol(this.location[Cc.ON])),this.location.length>1&&t.append(Bu.toLocationSymbol(this.location[Cc.RIGHT])),t.toString()},Fc.prototype.setLocations=function(t,e,n){this.location[Cc.ON]=t,this.location[Cc.LEFT]=e,this.location[Cc.RIGHT]=n},Fc.prototype.get=function(t){return t<this.location.length?this.location[t]:Bu.NONE},Fc.prototype.isArea=function(){return this.location.length>1},Fc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Bu.NONE)return!0;return!1},Fc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Cc.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Fc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Bu.NONE)},Fc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Fc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc};var Sc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Fc(e),this.elt[1]=new Fc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Fc(n.elt[0]),this.elt[1]=new Fc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Fc(Bu.NONE),this.elt[1]=new Fc(Bu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Fc(o,a,s),this.elt[1]=new Fc(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Fc(Bu.NONE,Bu.NONE,Bu.NONE),this.elt[1]=new Fc(Bu.NONE,Bu.NONE,Bu.NONE),this.elt[u].setLocations(l,c,h)}};Sc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Sc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Sc.prototype.isNull=function(t){return this.elt[t].isNull()},Sc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Sc.prototype.isLine=function(t){return this.elt[t].isLine()},Sc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Fc(t.elt[e]):this.elt[e].merge(t.elt[e])},Sc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Sc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Cc.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Sc.prototype.toString=function(){var t=new Su;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Sc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Sc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Sc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Cc.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Sc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Sc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Sc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Fc(this.elt[t].location[0]))},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc},Sc.toLineLabel=function(t){for(var e=new Sc(Bu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Mc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new wl,this._pts=new wl,this._label=new Sc(Bu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new wl,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Mc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ol.isCCW(this._ring.getCoordinates())},Mc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Mc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Nc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Nc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Zu.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Mc.prototype.getLinearRing=function(){return this._ring},Mc.prototype.getCoordinate=function(t){return this._pts.get(t)},Mc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Mc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Mc.prototype.isHole=function(){return this._isHole},Mc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Mc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ol.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Mc.prototype.addHole=function(t){this._holes.add(t)},Mc.prototype.isShell=function(){return null===this._shell},Mc.prototype.getLabel=function(){return this._label},Mc.prototype.getEdges=function(){return this._edges},Mc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Mc.prototype.getShell=function(){return this._shell},Mc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Cc.RIGHT);if(r===Bu.NONE)return null;if(this._label.getLocation(n)===Bu.NONE)return this._label.setLocation(n,r),null}},Mc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Mc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Uc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mc),Qc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new wl,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Uc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mc),Lc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Lc.prototype.setVisited=function(t){this._isVisited=t},Lc.prototype.setInResult=function(t){this._isInResult=t},Lc.prototype.isCovered=function(){return this._isCovered},Lc.prototype.isCoveredSet=function(){return this._isCoveredSet},Lc.prototype.setLabel=function(t){this._label=t},Lc.prototype.getLabel=function(){return this._label},Lc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Lc.prototype.updateIM=function(t){Zu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Lc.prototype.isInResult=function(){return this._isInResult},Lc.prototype.isVisited=function(){return this._isVisited},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Rc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Sc(0,Bu.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Bu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Bu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Sc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Sc)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Bu.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Bu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Bu.BOUNDARY:n=Bu.INTERIOR;break;case Bu.INTERIOR:default:n=Bu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lc),kc=function(){this.nodeMap=new Oi,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};kc.prototype.find=function(t){return this.nodeMap.get(t)},kc.prototype.addNode=function(){if(arguments[0]instanceof wu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Rc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},kc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},kc.prototype.iterator=function(){return this.nodeMap.values().iterator()},kc.prototype.values=function(){return this.nodeMap.values()},kc.prototype.getBoundaryNodes=function(t){for(var e=new wl,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Bu.BOUNDARY&&e.add(r)}return e},kc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Oc=function(){},Pc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc},Oc.isNorthern=function(t){return t===Oc.NE||t===Oc.NW},Oc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Oc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Oc.isInHalfPlane=function(t,e){return e===Oc.SE?t===Oc.SE||t===Oc.SW:t===e||t===e+1},Oc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new gu("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Oc.NE:Oc.SE:e>=0?Oc.NW:Oc.SW}if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new gu("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Oc.NE:Oc.SE:r.y>=n.y?Oc.NW:Oc.SW}},Pc.NE.get=function(){return 0},Pc.NW.get=function(){return 1},Pc.SW.get=function(){return 2},Pc.SE.get=function(){return 3},Object.defineProperties(Oc,Pc);var Dc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Dc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ol.computeOrientation(t._p0,t._p1,this._p1)},Dc.prototype.getDy=function(){return this._dy},Dc.prototype.getCoordinate=function(){return this._p0},Dc.prototype.setNode=function(t){this._node=t},Dc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Dc.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Dc.prototype.getDirectedCoordinate=function(){return this._p1},Dc.prototype.getDx=function(){return this._dx},Dc.prototype.getLabel=function(){return this._label},Dc.prototype.getEdge=function(){return this._edge},Dc.prototype.getQuadrant=function(){return this._quadrant},Dc.prototype.getNode=function(){return this._node},Dc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Dc.prototype.computeLabel=function(t){},Dc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Oc.quadrant(this._dx,this._dy),Zu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Dc.prototype.interfaces_=function(){return[yu]},Dc.prototype.getClass=function(){return Dc};var Hc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Sc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Nc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Cc.LEFT)===Bu.INTERIOR&&this._label.getLocation(e,Cc.RIGHT)===Bu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Cc.LEFT]+"/"+this._depth[Cc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Bu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Bu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Cc.LEFT&&(r=-1);var i=Cc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Bu.EXTERIOR&&e===Bu.INTERIOR?1:t===Bu.INTERIOR&&e===Bu.EXTERIOR?-1:0},e}(Dc),zc=function(){};zc.prototype.createNode=function(t){return new Rc(t,null)},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var Kc=function(){if(this._edges=new wl,this._nodes=null,this._edgeEndList=new wl,0===arguments.length)this._nodes=new kc(new zc);else if(1===arguments.length){var t=arguments[0];this._nodes=new kc(t)}};Kc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Kc.prototype.find=function(t){return this._nodes.find(t)},Kc.prototype.addNode=function(){if(arguments[0]instanceof Rc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof wu){var e=arguments[0];return this._nodes.addNode(e)}},Kc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Kc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Kc.prototype.debugPrintln=function(t){zu.out.println(t)},Kc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Bu.BOUNDARY},Kc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Kc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&ol.computeOrientation(t,e,r)===ol.COLLINEAR&&Oc.quadrant(t,e)===Oc.quadrant(n,r)},Kc.prototype.getEdgeEnds=function(){return this._edgeEndList},Kc.prototype.debugPrint=function(t){zu.out.print(t)},Kc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Kc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Kc.prototype.insertEdge=function(t){this._edges.add(t)},Kc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Kc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Hc(n,!0),i=new Hc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Kc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Kc.prototype.getNodes=function(){return this._nodes.values()},Kc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc},Kc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var $c=function(){this._geometryFactory=null,this._shellList=new wl;var t=arguments[0];this._geometryFactory=t};$c.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},$c.prototype.computePolygons=function(t){for(var e=new wl,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},$c.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Nc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},$c.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new wl,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},$c.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},$c.prototype.buildMaximalEdgeRings=function(t){for(var e=new wl,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Qc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},$c.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},$c.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},$c.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&ol.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u)}return o},$c.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Zu.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},$c.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Kc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new wl,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c};var Vc=function(){};Vc.prototype.getBounds=function(){},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var jc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};jc.prototype.getItem=function(){return this._item},jc.prototype.getBounds=function(){return this._bounds},jc.prototype.interfaces_=function(){return[Vc,Ii]},jc.prototype.getClass=function(){return jc};var Gc=function(){this._size=null,this._items=null,this._size=0,this._items=new wl,this._items.add(null)};Gc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Gc.prototype.size=function(){return this._size},Gc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Gc.prototype.clear=function(){this._size=0,this._items.clear()},Gc.prototype.isEmpty=function(){return 0===this._size},Gc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc};var qc=function(){};qc.prototype.visitItem=function(t){},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Xc=function(){};Xc.prototype.insert=function(t,e){},Xc.prototype.remove=function(t,e){},Xc.prototype.query=function(){},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Wc=function(){if(this._childBoundables=new wl,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Yc={serialVersionUID:{configurable:!0}};Wc.prototype.getLevel=function(){return this._level},Wc.prototype.size=function(){return this._childBoundables.size()},Wc.prototype.getChildBoundables=function(){return this._childBoundables},Wc.prototype.addChildBoundable=function(t){Zu.isTrue(null===this._bounds),this._childBoundables.add(t)},Wc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Wc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Wc.prototype.interfaces_=function(){return[Vc,Ii]},Wc.prototype.getClass=function(){return Wc},Yc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Wc,Yc);var Jc=function(){};Jc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Jc.min=function(t){return Jc.sort(t),t.get(0)},Jc.sort=function(t,e){var n=t.toArray();e?Rl.sort(n,e):Rl.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Jc.singletonList=function(t){var e=new wl;return e.add(t),e};var Zc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};Zc.prototype.expandToQueue=function(t,e){var n=Zc.isComposite(this._boundable1),r=Zc.isComposite(this._boundable2);if(n&&r)return Zc.area(this._boundable1)>Zc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new gu("neither boundable is composite")},Zc.prototype.isLeaves=function(){return!(Zc.isComposite(this._boundable1)||Zc.isComposite(this._boundable2))},Zc.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},Zc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new Zc(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},Zc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Zc.prototype.getDistance=function(){return this._distance},Zc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Zc.prototype.interfaces_=function(){return[yu]},Zc.prototype.getClass=function(){return Zc},Zc.area=function(t){return t.getBounds().getArea()},Zc.isComposite=function(t){return t instanceof Wc};var th=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new wl,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Zu.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},eh={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};th.prototype.getNodeCapacity=function(){return this._nodeCapacity},th.prototype.lastNode=function(t){return t.get(t.size()-1)},th.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Wc?t+=this.size(n):n instanceof jc&&(t+=1)}return t}},th.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof jc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},th.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new wl:t}if(1===arguments.length){for(var e=arguments[0],n=new wl,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Wc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof jc?n.add(i.getItem()):Zu.shouldNeverReachHere()}return n.size()<=0?null:n}},th.prototype.insert=function(t,e){Zu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new jc(t,e))},th.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new wl;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Zu.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Wc?this.boundablesAtLevel(n,a,i):(Zu.isTrue(a instanceof jc),-1===n&&i.add(a))}return null}},th.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new wl;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Tu(arguments[2],qc)&&arguments[0]instanceof Object&&arguments[1]instanceof Wc)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Wc?this.query(i,l,a):l instanceof jc?a.visitItem(l.getItem()):Zu.shouldNeverReachHere())}else if(Tu(arguments[2],_l)&&arguments[0]instanceof Object&&arguments[1]instanceof Wc)for(var c=arguments[0],h=arguments[1],d=arguments[2],f=h.getChildBoundables(),p=0;p<f.size();p++){var A=f.get(p);this.getIntersectsOp().intersects(A.getBounds(),c)&&(A instanceof Wc?this.query(c,A,d):A instanceof jc?d.add(A.getItem()):Zu.shouldNeverReachHere())}},th.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},th.prototype.getRoot=function(){return this.build(),this._root},th.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Wc&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},th.prototype.createHigherLevels=function(t,e){Zu.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},th.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Wc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},th.prototype.createParentBoundables=function(t,e){Zu.isTrue(!t.isEmpty());var n=new wl;n.add(this.createNode(e));var r=new wl(t);Jc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},th.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},th.prototype.interfaces_=function(){return[Ii]},th.prototype.getClass=function(){return th},th.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},eh.IntersectsOp.get=function(){return nh},eh.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},eh.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(th,eh);var nh=function(){},rh=function(){};rh.prototype.distance=function(t,e){},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh};var ih=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Zu.isTrue(t.length>0);for(var n=new wl,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new oh(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new wl;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Tu(arguments[2],qc)&&arguments[0]instanceof Object&&arguments[1]instanceof Wc){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(Tu(arguments[2],_l)&&arguments[0]instanceof Object&&arguments[1]instanceof Wc){var s=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,s,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Zu.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new wl(t);Jc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Tu(arguments[0],rh)){var t=arguments[0],n=new Zc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Zc){var r=arguments[0];return this.nearestNeighbour(r,vu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Tu(arguments[1],rh)){var i=arguments[0],o=arguments[1],a=new Zc(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof Zc&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],l=null,c=new Gc;for(c.add(s);!c.isEmpty()&&u>0;){var h=c.poll(),d=h.getDistance();if(d>=u)break;h.isLeaves()?(u=d,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],p=arguments[1],A=arguments[2],g=new jc(f,p),v=new Zc(this.getRoot(),g,A);return this.nearestNeighbour(v)[0]}},e.prototype.interfaces_=function(){return[Xc,Ii]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return oh},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[_u]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[_u]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(th),oh=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new $u(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wc),ah=function(){};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.relativeSign=function(t,e){return t<e?-1:t>e?1:0},ah.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=ah.relativeSign(e.x,n.x),i=ah.relativeSign(e.y,n.y);switch(t){case 0:return ah.compareValue(r,i);case 1:return ah.compareValue(i,r);case 2:return ah.compareValue(i,-r);case 3:return ah.compareValue(-r,i);case 4:return ah.compareValue(-r,-i);case 5:return ah.compareValue(-i,-r);case 6:return ah.compareValue(-i,r);case 7:return ah.compareValue(r,-i)}return Zu.shouldNeverReachHere("invalid octant value"),0},ah.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var sh=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new wu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};sh.prototype.getCoordinate=function(){return this.coord},sh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},sh.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:ah.compare(this._segmentOctant,this.coord,e.coord)},sh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},sh.prototype.isInterior=function(){return this._isInterior},sh.prototype.interfaces_=function(){return[yu]},sh.prototype.getClass=function(){return sh};var uh=function(){this._nodeMap=new Oi,this._edge=null;var t=arguments[0];this._edge=t};uh.prototype.getSplitCoordinates=function(){var t=new Cl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},uh.prototype.addCollapsedNodes=function(){var t=new wl;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},uh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},uh.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new Mu(e+1))}},uh.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new wu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new wu(e.coord))},uh.prototype.iterator=function(){return this._nodeMap.values().iterator()},uh.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},uh.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},uh.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new Mu(e[0])),r=i}},uh.prototype.getEdge=function(){return this._edge},uh.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},uh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new wu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new wu(e.coord)),new dh(o,this._edge.getData())},uh.prototype.add=function(t,e){var n=new sh(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Zu.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},uh.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Yu("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Yu("bad split edge end point at "+i)},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var lh=function(){};lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh},lh.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new gu("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new gu("Cannot compute the octant for two identical points "+i);return lh.octant(a,s)}};var ch=function(){};ch.prototype.getCoordinates=function(){},ch.prototype.size=function(){},ch.prototype.getCoordinate=function(t){},ch.prototype.isClosed=function(){},ch.prototype.setData=function(t){},ch.prototype.getData=function(){},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch};var hh=function(){};hh.prototype.addIntersection=function(t,e){},hh.prototype.interfaces_=function(){return[ch]},hh.prototype.getClass=function(){return hh};var dh=function(){this._nodeList=new uh(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dh.prototype.getCoordinates=function(){return this._pts},dh.prototype.size=function(){return this._pts.length},dh.prototype.getCoordinate=function(t){return this._pts[t]},dh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},dh.prototype.setData=function(t){this._data=t},dh.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:lh.octant(t,e)},dh.prototype.getData=function(){return this._data},dh.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new wu(n.getIntersection(i));this.addIntersection(o,r)}},dh.prototype.toString=function(){return Wu.toLineString(new sc(this._pts))},dh.prototype.getNodeList=function(){return this._nodeList},dh.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},dh.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},dh.prototype.interfaces_=function(){return[hh]},dh.prototype.getClass=function(){return dh},dh.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new wl;return dh.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var fh=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new wu,this.p1=new wu;else if(1===arguments.length){var t=arguments[0];this.p0=new wu(t.p0),this.p1=new wu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new wu(e,n),this.p1=new wu(r,i)}},ph={serialVersionUID:{configurable:!0}};fh.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},fh.prototype.orientationIndex=function(){if(arguments[0]instanceof fh){var t=arguments[0],e=ol.orientationIndex(this.p0,this.p1,t.p0),n=ol.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof wu){var r=arguments[0];return ol.orientationIndex(this.p0,this.p1,r)}},fh.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},fh.prototype.isVertical=function(){return this.p0.x===this.p1.x},fh.prototype.equals=function(t){if(!(t instanceof fh))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},fh.prototype.intersection=function(t){var e=new nl;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},fh.prototype.project=function(){if(arguments[0]instanceof wu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new wu(t);var e=this.projectionFactor(t),n=new wu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof fh){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new fh(a,s)}},fh.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},fh.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},fh.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},fh.prototype.distancePerpendicular=function(t){return ol.distancePointLinePerpendicular(t,this.p0,this.p1)},fh.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},fh.prototype.midPoint=function(){return fh.midPoint(this.p0,this.p1)},fh.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?vu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},fh.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=vu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},fh.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},fh.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},fh.prototype.getLength=function(){return this.p0.distance(this.p1)},fh.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},fh.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},fh.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},fh.prototype.lineIntersection=function(t){try{return Ku.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Hu))throw t}return null},fh.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},fh.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,u=e*o/a}return new wu(n-u,r+s)},fh.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},fh.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||vu.isNaN(e))&&(e=1),e},fh.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},fh.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},fh.prototype.distance=function(){if(arguments[0]instanceof fh){var t=arguments[0];return ol.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof wu){var e=arguments[0];return ol.distancePointLine(e,this.p0,this.p1)}},fh.prototype.pointAlong=function(t){var e=new wu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},fh.prototype.hashCode=function(){var t=vu.doubleToLongBits(this.p0.x);t^=31*vu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=vu.doubleToLongBits(this.p1.x);return n^=31*vu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},fh.prototype.interfaces_=function(){return[yu,Ii]},fh.prototype.getClass=function(){return fh},fh.midPoint=function(t,e){return new wu((t.x+e.x)/2,(t.y+e.y)/2)},ph.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(fh,ph);var Ah=function(){this.tempEnv1=new $u,this.tempEnv2=new $u,this._overlapSeg1=new fh,this._overlapSeg2=new fh};Ah.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah};var gh=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};gh.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},gh.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},gh.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},gh.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},gh.prototype.setId=function(t){this._id=t},gh.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},gh.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new $u(t,e)}return this._env},gh.prototype.getEndIndex=function(){return this._end},gh.prototype.getStartIndex=function(){return this._start},gh.prototype.getContext=function(){return this._context},gh.prototype.getId=function(){return this._id},gh.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh};var vh=function(){};vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh},vh.getChainStartIndices=function(t){var e=0,n=new wl;n.add(new Mu(e));do{var r=vh.findChainEnd(t,e);n.add(new Mu(r)),e=r}while(e<t.length-1);return vh.toIntArray(n)},vh.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Oc.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Oc.quadrant(t[i-1],t[i])===r);)i++;return i-1},vh.getChains=function(){if(1===arguments.length){var t=arguments[0];return vh.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new wl,i=vh.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new gh(e,i[o],i[o+1],n);r.add(a)}return r}},vh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var mh=function(){};mh.prototype.computeNodes=function(t){},mh.prototype.getNodedSubstrings=function(){},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh};var yh=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};yh.prototype.setSegmentIntersector=function(t){this._segInt=t},yh.prototype.interfaces_=function(){return[mh]},yh.prototype.getClass=function(){return yh};var bh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new wl,this._index=new ih,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return dh.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vh.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new _h(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return _h},Object.defineProperties(e,n),e}(yh),_h=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ah),wh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},xh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};wh.prototype.getEndCapStyle=function(){return this._endCapStyle},wh.prototype.isSingleSided=function(){return this._isSingleSided},wh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=wh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=wh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==wh.JOIN_ROUND&&(this._quadrantSegments=wh.DEFAULT_QUADRANT_SEGMENTS)},wh.prototype.getJoinStyle=function(){return this._joinStyle},wh.prototype.setJoinStyle=function(t){this._joinStyle=t},wh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},wh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},wh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},wh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},wh.prototype.getMitreLimit=function(){return this._mitreLimit},wh.prototype.setMitreLimit=function(t){this._mitreLimit=t},wh.prototype.setSingleSided=function(t){this._isSingleSided=t},wh.prototype.interfaces_=function(){return[]},wh.prototype.getClass=function(){return wh},wh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},xh.CAP_ROUND.get=function(){return 1},xh.CAP_FLAT.get=function(){return 2},xh.CAP_SQUARE.get=function(){return 3},xh.JOIN_ROUND.get=function(){return 1},xh.JOIN_MITRE.get=function(){return 2},xh.JOIN_BEVEL.get=function(){return 3},xh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},xh.DEFAULT_MITRE_LIMIT.get=function(){return 5},xh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(wh,xh);var Ch=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ol.COUNTERCLOCKWISE,this._inputLine=t||null},Eh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ch.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},Ch.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Ch.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Ch.prototype.isShallowConcavity=function(t,e,n,r){return ol.computeOrientation(t,e,n)===this._angleOrientation&&ol.distancePointLine(e,t,n)<r},Ch.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Ch.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},Ch.prototype.isConcave=function(t,e,n){return ol.computeOrientation(t,e,n)===this._angleOrientation},Ch.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ol.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Ch.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Ch.DELETE;)e++;return e},Ch.prototype.isShallow=function(t,e,n,r){return ol.distancePointLine(e,t,n)<r},Ch.prototype.collapseLine=function(){for(var t=new Cl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Ch.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ch.simplify=function(t,e){return new Ch(t).simplify(e)},Eh.INIT.get=function(){return 0},Eh.DELETE.get=function(){return 1},Eh.KEEP.get=function(){return 1},Eh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ch,Eh);var Bh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new wl},Nh={COORDINATE_ARRAY_TYPE:{configurable:!0}};Bh.prototype.getCoordinates=function(){return this._ptList.toArray(Bh.COORDINATE_ARRAY_TYPE)},Bh.prototype.setPrecisionModel=function(t){this._precisionModel=t},Bh.prototype.addPt=function(t){var e=new wu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Bh.prototype.revere=function(){},Bh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Bh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Bh.prototype.toString=function(){return(new gc).createLineString(this.getCoordinates()).toString()},Bh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new wu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Bh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Nh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Bh,Nh);var Th=function(){},Ih={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th},Th.toDegrees=function(t){return 180*t/Math.PI},Th.normalize=function(t){for(;t>Math.PI;)t-=Th.PI_TIMES_2;for(;t<=-Math.PI;)t+=Th.PI_TIMES_2;return t},Th.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Th.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Th.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Th.interiorAngle=function(t,e,n){var r=Th.angle(e,t),i=Th.angle(e,n);return Math.abs(i-r)},Th.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Th.PI_TIMES_2;t>=Th.PI_TIMES_2&&(t=0)}else{for(;t>=Th.PI_TIMES_2;)t-=Th.PI_TIMES_2;t<0&&(t=0)}return t},Th.angleBetween=function(t,e,n){var r=Th.angle(e,t),i=Th.angle(e,n);return Th.diff(r,i)},Th.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Th.toRadians=function(t){return t*Math.PI/180},Th.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Th.COUNTERCLOCKWISE:n<0?Th.CLOCKWISE:Th.NONE},Th.angleBetweenOriented=function(t,e,n){var r=Th.angle(e,t),i=Th.angle(e,n)-r;return i<=-Math.PI?i+Th.PI_TIMES_2:i>Math.PI?i-Th.PI_TIMES_2:i},Ih.PI_TIMES_2.get=function(){return 2*Math.PI},Ih.PI_OVER_2.get=function(){return Math.PI/2},Ih.PI_OVER_4.get=function(){return Math.PI/4},Ih.COUNTERCLOCKWISE.get=function(){return ol.COUNTERCLOCKWISE},Ih.CLOCKWISE.get=function(){return ol.CLOCKWISE},Ih.NONE.get=function(){return ol.COLLINEAR},Object.defineProperties(Th,Ih);var Fh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new fh,this._seg1=new fh,this._offset0=new fh,this._offset1=new fh,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new nl,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===wh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Sh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Fh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ol.computeOrientation(this._s0,this._s1,this._s2),r=n===ol.CLOCKWISE&&this._side===Cc.LEFT||n===ol.COUNTERCLOCKWISE&&this._side===Cc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Fh.prototype.addLineEndCap=function(t,e){var n=new fh(t,e),r=new fh;this.computeOffsetSegment(n,Cc.LEFT,this._distance,r);var i=new fh;this.computeOffsetSegment(n,Cc.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case wh.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,ol.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case wh.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case wh.CAP_SQUARE:var u=new wu;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var l=new wu(r.p1.x+u.x,r.p1.y+u.y),c=new wu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Fh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Fh.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Ku.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Hu))throw t;o=new wu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Fh.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===ol.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,c,r,i),this._segList.addPt(n)},Fh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Fh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===wh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===wh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Fh.prototype.createSquare=function(t){this._segList.addPt(new wu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new wu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new wu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new wu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Fh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Fh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Fh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Fh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Fh.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Th.angle(i,this._seg0.p0),a=Th.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Th.normalize(o+a),u=Th.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),h=i.x+l*Math.cos(u),d=i.y+l*Math.sin(u),f=new wu(h,d),p=new fh(i,f),A=p.pointAlongOffset(1,c),g=p.pointAlongOffset(1,-c);this._side===Cc.LEFT?(this._segList.addPt(A),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(A))},Fh.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Cc.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},Fh.prototype.addFilletArc=function(t,e,n,r,i){var o=r===ol.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new wu;l<a;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},Fh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Fh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new wu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new wu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Fh.prototype.createCircle=function(t){var e=new wu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Fh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Fh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Bh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Fh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Fh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===wh.JOIN_BEVEL||this._bufParams.getJoinStyle()===wh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ol.CLOCKWISE,this._distance))},Fh.prototype.closeRing=function(){this._segList.closeRing()},Fh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Sh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Sh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Sh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Sh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Fh,Sh);var Mh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Mh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&El.reverse(o),o},Mh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Ch.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Cc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Ch.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Cc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},Mh.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Cc.RIGHT&&(r=-r);var i=Ch.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Mh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Ch.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Cc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Ch.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Cc.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},Mh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case wh.CAP_ROUND:e.createCircle(t);break;case wh.CAP_SQUARE:e.createSquare(t)}},Mh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Mh.prototype.getBufferParameters=function(){return this._bufParams},Mh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Mh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Mh.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Mh.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Ch.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Cc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Ch.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Cc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},Mh.prototype.getSegGen=function(t){return new Fh(this._precisionModel,this._bufParams,t)},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Mh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new wu(t[n]);return e};var Uh=function(){this._subgraphs=null,this._seg=new fh,this._cga=new ol;var t=arguments[0];this._subgraphs=t},Qh={DepthSegment:{configurable:!0}};Uh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new wl,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Tu(arguments[2],_l)&&arguments[0]instanceof wu&&arguments[1]instanceof Hc){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||ol.computeOrientation(this._seg.p0,this._seg.p1,o)===ol.RIGHT)){var c=a.getDepth(Cc.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(Cc.RIGHT));var h=new Lh(this._seg,c);s.add(h)}}else if(Tu(arguments[2],_l)&&arguments[0]instanceof wu&&Tu(arguments[1],_l))for(var d=arguments[0],f=arguments[1],p=arguments[2],A=f.iterator();A.hasNext();){var g=A.next();g.isForward()&&this.findStabbedSegments(d,g,p)}},Uh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Jc.min(e)._leftDepth},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh},Qh.DepthSegment.get=function(){return Lh},Object.defineProperties(Uh,Qh);var Lh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new fh(t),this._leftDepth=e};Lh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Lh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Lh.prototype.toString=function(){return this._upwardSeg.toString()},Lh.prototype.interfaces_=function(){return[yu]},Lh.prototype.getClass=function(){return Lh};var Rh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Rh.prototype.area=function(){return Rh.area(this.p0,this.p1,this.p2)},Rh.prototype.signedArea=function(){return Rh.signedArea(this.p0,this.p1,this.p2)},Rh.prototype.interpolateZ=function(t){if(null===t)throw new gu("Supplied point is null.");return Rh.interpolateZ(t,this.p0,this.p1,this.p2)},Rh.prototype.longestSideLength=function(){return Rh.longestSideLength(this.p0,this.p1,this.p2)},Rh.prototype.isAcute=function(){return Rh.isAcute(this.p0,this.p1,this.p2)},Rh.prototype.circumcentre=function(){return Rh.circumcentre(this.p0,this.p1,this.p2)},Rh.prototype.area3D=function(){return Rh.area3D(this.p0,this.p1,this.p2)},Rh.prototype.centroid=function(){return Rh.centroid(this.p0,this.p1,this.p2)},Rh.prototype.inCentre=function(){return Rh.inCentre(this.p0,this.p1,this.p2)},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Rh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Rh.det=function(t,e,n,r){return t*r-e*n},Rh.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,h=t.x-i,d=t.y-o,f=(l*h-s*d)/c,p=(-u*h+a*d)/c;return e.z+f*(n.z-e.z)+p*(r.z-e.z)},Rh.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},Rh.isAcute=function(t,e,n){return!!Th.isAcute(t,e,n)&&!!Th.isAcute(e,n,t)&&!!Th.isAcute(n,t,e)},Rh.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,l=2*Rh.det(o,a,s,u),c=Rh.det(a,o*o+a*a,u,s*s+u*u),h=Rh.det(o,o*o+a*a,s,s*s+u*u);return new wu(r-c/l,i+h/l)},Rh.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Ku(t.x+n/2,t.y+r/2,1),o=new Ku(t.x-r+n/2,t.y+n+r/2,1);return new Ku(i,o)},Rh.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new wu(t.x+i*o,t.y+i*a)},Rh.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,d=l*l+c*c+h*h;return Math.sqrt(d)/2},Rh.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new wu(r,i)},Rh.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o,s=(r*t.x+i*e.x+o*n.x)/a,u=(r*t.y+i*e.y+o*n.y)/a;return new wu(s,u)};var kh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new wl;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};kh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Bu.EXTERIOR,Bu.INTERIOR)},kh.prototype.addPolygon=function(t){var e=this._distance,n=Cc.LEFT;this._distance<0&&(e=-this._distance,n=Cc.RIGHT);var r=t.getExteriorRing(),i=El.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Bu.EXTERIOR,Bu.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=El.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Cc.opposite(n),Bu.INTERIOR,Bu.EXTERIOR)}},kh.prototype.isTriangleErodedCompletely=function(t,e){var n=new Rh(t[0],t[1],t[2]),r=n.inCentre();return ol.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},kh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=El.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Bu.EXTERIOR,Bu.INTERIOR)},kh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new dh(t,new Sc(0,Bu.BOUNDARY,e,n));this._curveList.add(r)},kh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},kh.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<tc.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=tc.MINIMUM_VALID_SIZE&&ol.isCCW(t)&&(o=i,a=r,n=Cc.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},kh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Jl?this.addPolygon(t):t instanceof ql?this.addLineString(t):t instanceof Wl?this.addPoint(t):t instanceof Zl?this.addCollection(t):t instanceof zl?this.addCollection(t):t instanceof ec?this.addCollection(t):t instanceof Hl&&this.addCollection(t)},kh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},kh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh};var Oh=function(){};Oh.prototype.locate=function(t){},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Ph=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Ph.prototype.next=function(){if(this._atStart)return this._atStart=!1,Ph.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Fi;var t=this._parent.getGeometryN(this._index++);return t instanceof Hl?(this._subcollectionIterator=new Ph(t),this._subcollectionIterator.next()):t},Ph.prototype.remove=function(){throw new Error(this.getClass().getName())},Ph.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Ph.prototype.interfaces_=function(){return[bl]},Ph.prototype.getClass=function(){return Ph},Ph.isAtomic=function(t){return!(t instanceof Hl)};var Dh=function(){this._geom=null;var t=arguments[0];this._geom=t};Dh.prototype.locate=function(t){return Dh.locate(t,this._geom)},Dh.prototype.interfaces_=function(){return[Oh]},Dh.prototype.getClass=function(){return Dh},Dh.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ol.isPointInRing(t,e.getCoordinates())},Dh.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Dh.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Dh.isPointInRing(t,i))return!1}return!0},Dh.containsPoint=function(t,e){if(e instanceof Jl)return Dh.containsPointInPolygon(t,e);if(e instanceof Hl)for(var n=new Ph(e);n.hasNext();){var r=n.next();if(r!==e&&Dh.containsPoint(t,r))return!0}return!1},Dh.locate=function(t,e){return e.isEmpty()?Bu.EXTERIOR:Dh.containsPoint(t,e)?Bu.INTERIOR:Bu.EXTERIOR};var Hh=function(){this._edgeMap=new Oi,this._edgeList=null,this._ptInAreaLocation=[Bu.NONE,Bu.NONE]};Hh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Hh.prototype.propagateSideLabels=function(t){for(var e=Bu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Cc.LEFT)!==Bu.NONE&&(e=r.getLocation(t,Cc.LEFT))}if(e===Bu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,Cc.ON)===Bu.NONE&&s.setLocation(t,Cc.ON,i),s.isArea(t)){var u=s.getLocation(t,Cc.LEFT),l=s.getLocation(t,Cc.RIGHT);if(l!==Bu.NONE){if(l!==i)throw new Nc("side location conflict",a.getCoordinate());u===Bu.NONE&&Zu.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else Zu.isTrue(s.getLocation(t,Cc.LEFT)===Bu.NONE,"found single null side"),s.setLocation(t,Cc.RIGHT,i),s.setLocation(t,Cc.LEFT,i)}}},Hh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Hh.prototype.print=function(t){zu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Hh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Hh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Cc.LEFT);Zu.isTrue(r!==Bu.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Zu.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Cc.LEFT),u=a.getLocation(t,Cc.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0},Hh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Hh.prototype.iterator=function(){return this.getEdges().iterator()},Hh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new wl(this._edgeMap.values())),this._edgeList},Hh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Bu.NONE&&(this._ptInAreaLocation[t]=Dh.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Hh.prototype.toString=function(){var t=new Su;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Hh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Hh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Bu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=Bu.NONE;if(e[u])l=Bu.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,t)}s.setAllLocationsIfNull(u,l)}},Hh.prototype.getDegree=function(){return this._edgeMap.size()},Hh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh};var zh=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Nc("no outgoing dirEdge found",this.getCoordinate());Zu.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Oc.isNorthern(i)&&Oc.isNorthern(o)?n:Oc.isNorthern(i)||Oc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Zu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){zu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new wl;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Cc.LEFT),r=t.getDepth(Cc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Nc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=o;u<a;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Cc.RIGHT,s),s=l.getDepth(Cc.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Zu.isTrue(null!==e,"found null for first outgoing dirEdge"),Zu.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Bu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Bu.INTERIOR;break}if(r.isInResult()){t=Bu.EXTERIOR;break}}}if(t===Bu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===Bu.INTERIOR):(a.isInResult()&&(i=Bu.EXTERIOR),s.isInResult()&&(i=Bu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Sc(Bu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Bu.INTERIOR&&o!==Bu.BOUNDARY||this._label.setLocation(i,Bu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hh),Kh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Rc(t,new zh)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zc),$h=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};$h.prototype.compareTo=function(t){var e=t;return $h.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},$h.prototype.interfaces_=function(){return[yu]},$h.prototype.getClass=function(){return $h},$h.orientation=function(t){return 1===El.increasingDirection(t)},$h.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===a,d=(l+=o)===s;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}};var Vh=function(){this._edges=new wl,this._ocaMap=new Oi};Vh.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Vh.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Vh.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Vh.prototype.iterator=function(){return this._edges.iterator()},Vh.prototype.getEdges=function(){return this._edges},Vh.prototype.get=function(t){return this._edges.get(t)},Vh.prototype.findEqualEdge=function(t){var e=new $h(t.getCoordinates());return this._ocaMap.get(e)},Vh.prototype.add=function(t){this._edges.add(t);var e=new $h(t.getCoordinates());this._ocaMap.put(e,t)},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh};var jh=function(){};jh.prototype.processIntersections=function(t,e,n,r){},jh.prototype.isDone=function(){},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh};var Gh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Gh.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Gh.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Gh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Gh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Gh.prototype.getLineIntersector=function(){return this._li},Gh.prototype.hasProperIntersection=function(){return this._hasProper},Gh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Gh.prototype.hasIntersection=function(){return this._hasIntersection},Gh.prototype.isDone=function(){return!1},Gh.prototype.hasInteriorIntersection=function(){return this._hasInterior},Gh.prototype.interfaces_=function(){return[jh]},Gh.prototype.getClass=function(){return Gh},Gh.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var qh=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new wu(t),this.segmentIndex=e,this.dist=n};qh.prototype.getSegmentIndex=function(){return this.segmentIndex},qh.prototype.getCoordinate=function(){return this.coord},qh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},qh.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},qh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},qh.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},qh.prototype.getDistance=function(){return this.dist},qh.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},qh.prototype.interfaces_=function(){return[yu]},qh.prototype.getClass=function(){return qh};var Xh=function(){this._nodeMap=new Oi,this.edge=null;var t=arguments[0];this.edge=t};Xh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Xh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Xh.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Xh.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Xh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new wu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new td(o,new Sc(this.edge._label))},Xh.prototype.add=function(t,e,n){var r=new qh(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Xh.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Wh=function(){};Wh.prototype.getChainStartIndices=function(t){var e=0,n=new wl;n.add(new Mu(e));do{var r=this.findChainEnd(t,e);n.add(new Mu(r)),e=r}while(e<t.length-1);return Wh.toIntArray(n)},Wh.prototype.findChainEnd=function(t,e){for(var n=Oc.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Oc.quadrant(t[r-1],t[r])===n;)r++;return r-1},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Yh=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new $u,this.env2=new $u;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Wh;this.startIndex=e.getChainStartIndices(this.pts)};Yh.prototype.getCoordinates=function(){return this.pts},Yh.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Yh.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Yh.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],d=a.pts[s],f=a.pts[u];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,h),this.env2.init(d,f),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),A=Math.trunc((s+u)/2);i<p&&(s<A&&this.computeIntersectsForChain(i,p,a,s,A,l),A<u&&this.computeIntersectsForChain(i,p,a,A,u,l)),p<o&&(s<A&&this.computeIntersectsForChain(p,o,a,s,A,l),A<u&&this.computeIntersectsForChain(p,o,a,A,u,l))}},Yh.prototype.getStartIndexes=function(){return this.startIndex},Yh.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh};var Jh=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Zh={NULL_VALUE:{configurable:!0}};Jh.prototype.getDepth=function(t,e){return this._depth[t][e]},Jh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Jh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Jh.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Jh.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===Jh.NULL_VALUE}},Jh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Jh.prototype.getDelta=function(t){return this._depth[t][Cc.RIGHT]-this._depth[t][Cc.LEFT]},Jh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Bu.EXTERIOR:Bu.INTERIOR},Jh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Jh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Bu.EXTERIOR&&r!==Bu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Jh.depthAtLocation(r):this._depth[e][n]+=Jh.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Bu.INTERIOR&&this._depth[i][o]++}},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},Jh.depthAtLocation=function(t){return t===Bu.EXTERIOR?0:t===Bu.INTERIOR?1:Jh.NULL_VALUE},Zh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Jh,Zh);var td=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Xh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Jh,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Sc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Yh(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new $u;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new wu(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new Su;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Cc.ON),e.getLocation(1,Cc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Cc.LEFT),e.getLocation(1,Cc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Cc.RIGHT),e.getLocation(1,Cc.RIGHT),2))},e}(Lc),ed=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Vh,this._bufParams=t||null};ed.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ed.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Sc(t.getLabel())).flip(),n.merge(r);var i=ed.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(ed.depthDelta(t.getLabel()))},ed.prototype.buildSubgraphs=function(t,e){for(var n=new wl,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Uh(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},ed.prototype.createSubgraphs=function(t){for(var e=new wl,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ic;i.create(r),e.add(i)}}return Jc.sort(e,Jc.reverseOrder()),e},ed.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ed.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new bh,n=new nl;return n.setPrecisionModel(t),e.setSegmentIntersector(new Gh(n)),e},ed.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Mh(n,this._bufParams),i=new kh(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Kc(new Kh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new $c(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},ed.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new td(i.getCoordinates(),new Sc(a));this.insertUniqueEdge(s)}}},ed.prototype.setNoder=function(t){this._workingNoder=t},ed.prototype.interfaces_=function(){return[]},ed.prototype.getClass=function(){return ed},ed.depthDelta=function(t){var e=t.getLocation(0,Cc.LEFT),n=t.getLocation(0,Cc.RIGHT);return e===Bu.INTERIOR&&n===Bu.EXTERIOR?1:e===Bu.EXTERIOR&&n===Bu.INTERIOR?-1:0},ed.convertSegStrings=function(t){for(var e=new gc,n=new wl;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var nd=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};nd.prototype.rescale=function(){if(Tu(arguments[0],ml))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&zu.out.println(n)}},nd.prototype.scale=function(){if(Tu(arguments[0],ml)){for(var t=arguments[0],e=new wl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new dh(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new wu(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return El.removeRepeatedPoints(o)}},nd.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},nd.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},nd.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},nd.prototype.interfaces_=function(){return[mh]},nd.prototype.getClass=function(){return nd};var rd=function(){this._li=new nl,this._segStrings=null;var t=arguments[0];this._segStrings=t},id={fact:{configurable:!0}};rd.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Yu("found endpt/interior pt intersection at index "+o+" :pt "+n)},rd.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],d=arguments[2],f=arguments[3];if(c===d&&h===f)return null;var p=c.getCoordinates()[h],A=c.getCoordinates()[h+1],g=d.getCoordinates()[f],v=d.getCoordinates()[f+1];if(this._li.computeIntersection(p,A,g,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,A)||this.hasInteriorIntersection(this._li,g,v)))throw new Yu("found non-noded intersection at "+p+"-"+A+" and "+g+"-"+v)}},rd.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},rd.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},rd.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},rd.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Yu("found non-noded collapse at "+rd.fact.createLineString([t,e,n]))},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},id.fact.get=function(){return new gc},Object.defineProperties(rd,id);var od=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new gu("Scale factor must be non-zero");1!==e&&(this._pt=new wu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new wu,this._p1Scaled=new wu),this.initCorners(this._pt)},ad={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};od.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Zu.isTrue(!(a&&s),"Found bad envelope test"),s},od.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new wu(this._maxx,this._maxy),this._corner[1]=new wu(this._minx,this._maxy),this._corner[2]=new wu(this._minx,this._miny),this._corner[3]=new wu(this._maxx,this._miny)},od.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},od.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},od.prototype.getCoordinate=function(){return this._originalPt},od.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},od.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=od.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new $u(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},od.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},od.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},od.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},od.prototype.interfaces_=function(){return[]},od.prototype.getClass=function(){return od},ad.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(od,ad);var sd=function(){this.tempEnv1=new $u,this.selectedSegment=new fh};sd.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd};var ud=function(){this._index=null;var t=arguments[0];this._index=t},ld={HotPixelSnapAction:{configurable:!0}};ud.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new cd(e,n,r);return this._index.query(i,{interfaces_:function(){return[qc]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},ld.HotPixelSnapAction.get=function(){return cd},Object.defineProperties(ud,ld);var cd=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sd),hd=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new wl};hd.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},hd.prototype.isDone=function(){return!1},hd.prototype.getInteriorIntersections=function(){return this._interiorIntersections},hd.prototype.interfaces_=function(){return[jh]},hd.prototype.getClass=function(){return hd};var dd=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new nl,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dd.prototype.checkCorrectness=function(t){var e=dh.getNodedSubstrings(t),n=new rd(e);try{n.checkValid()}catch(t){if(!(t instanceof Du))throw t;t.printStackTrace()}},dd.prototype.getNodedSubstrings=function(){return dh.getNodedSubstrings(this._nodedSegStrings)},dd.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},dd.prototype.findInteriorIntersections=function(t,e){var n=new hd(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},dd.prototype.computeVertexSnaps=function(){if(Tu(arguments[0],ml))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof dh)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new od(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},dd.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new bh,this._pointSnapper=new ud(this._noder.getIndex()),this.snapRound(t,this._li)},dd.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new od(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dd.prototype.interfaces_=function(){return[mh]},dd.prototype.getClass=function(){return dd};var fd=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new wh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},pd={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};fd.prototype.bufferFixedPrecision=function(t){var e=new nd(new dd(new dc(1)),t.getScale()),n=new ed(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},fd.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=fd.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Nc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=fd.precisionScaleFactor(this._argGeom,this._distance,n),i=new dc(r);this.bufferFixedPrecision(i)}},fd.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===dc.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},fd.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},fd.prototype.bufferOriginalPrecision=function(){try{var t=new ed(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Yu))throw t;this._saveException=t}},fd.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},fd.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd},fd.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new fd(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ul&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new fd(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof wh&&arguments[0]instanceof ul&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=arguments[2];return new fd(a,u).getResultGeometry(s)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],d=arguments[3],f=new fd(l);return f.setQuadrantSegments(h),f.setEndCapStyle(d),f.getResultGeometry(c)}},fd.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=Iu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},pd.CAP_ROUND.get=function(){return wh.CAP_ROUND},pd.CAP_BUTT.get=function(){return wh.CAP_FLAT},pd.CAP_FLAT.get=function(){return wh.CAP_FLAT},pd.CAP_SQUARE.get=function(){return wh.CAP_SQUARE},pd.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(fd,pd);var Ad=function(){this._pt=[new wu,new wu],this._distance=vu.NaN,this._isNull=!0};Ad.prototype.getCoordinates=function(){return this._pt},Ad.prototype.getCoordinate=function(t){return this._pt[t]},Ad.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Ad.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Ad.prototype.getDistance=function(){return this._distance},Ad.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Ad.prototype.interfaces_=function(){return[]},Ad.prototype.getClass=function(){return Ad};var gd=function(){};gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},gd.computeDistance=function(){if(arguments[2]instanceof Ad&&arguments[0]instanceof ql&&arguments[1]instanceof wu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new fh,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Ad&&arguments[0]instanceof Jl&&arguments[1]instanceof wu){var s=arguments[0],u=arguments[1],l=arguments[2];gd.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)gd.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Ad&&arguments[0]instanceof ul&&arguments[1]instanceof wu){var h=arguments[0],d=arguments[1],f=arguments[2];if(h instanceof ql)gd.computeDistance(h,d,f);else if(h instanceof Jl)gd.computeDistance(h,d,f);else if(h instanceof Hl)for(var p=h,A=0;A<p.getNumGeometries();A++){var g=p.getGeometryN(A);gd.computeDistance(g,d,f)}else f.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof Ad&&arguments[0]instanceof fh&&arguments[1]instanceof wu){var v=arguments[0],m=arguments[1],y=arguments[2],b=v.closestPoint(m);y.setMinimum(b,m)}};var vd=function(t){this._maxPtDist=new Ad,this._inputGeom=t||null},md={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vd.prototype.computeMaxMidpointDistance=function(t){var e=new bd(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vd.prototype.computeMaxVertexDistance=function(t){var e=new yd(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vd.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vd.prototype.getDistancePoints=function(){return this._maxPtDist},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd},md.MaxPointDistanceFilter.get=function(){return yd},md.MaxMidpointDistanceFilter.get=function(){return bd},Object.defineProperties(vd,md);var yd=function(t){this._maxPtDist=new Ad,this._minPtDist=new Ad,this._geom=t||null};yd.prototype.filter=function(t){this._minPtDist.initialize(),gd.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yd.prototype.getMaxPointDistance=function(){return this._maxPtDist},yd.prototype.interfaces_=function(){return[hl]},yd.prototype.getClass=function(){return yd};var bd=function(t){this._maxPtDist=new Ad,this._minPtDist=new Ad,this._geom=t||null};bd.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new wu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),gd.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bd.prototype.isDone=function(){return!1},bd.prototype.isGeometryChanged=function(){return!1},bd.prototype.getMaxPointDistance=function(){return this._maxPtDist},bd.prototype.interfaces_=function(){return[Dl]},bd.prototype.getClass=function(){return bd};var _d=function(t){this._comps=t||null};_d.prototype.filter=function(t){t instanceof Jl&&this._comps.add(t)},_d.prototype.interfaces_=function(){return[Pl]},_d.prototype.getClass=function(){return _d},_d.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return _d.getPolygons(t,new wl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jl?n.add(e):e instanceof Hl&&e.apply(new _d(n)),n}};var wd=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};wd.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof tc){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof ql&&this._lines.add(t)},wd.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},wd.prototype.interfaces_=function(){return[sl]},wd.prototype.getClass=function(){return wd},wd.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(wd.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(wd.getLines(e,n))}},wd.getLines=function(){if(1===arguments.length){var t=arguments[0];return wd.getLines(t,!1)}if(2===arguments.length){if(Tu(arguments[0],ml)&&Tu(arguments[1],ml)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();wd.getLines(i,n)}return n}if(arguments[0]instanceof ul&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new wl;return o.apply(new wd(s,a)),s}if(arguments[0]instanceof ul&&Tu(arguments[1],ml)){var u=arguments[0],l=arguments[1];return u instanceof ql?l.add(u):u.apply(new wd(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Tu(arguments[0],ml)&&Tu(arguments[1],ml)){for(var c=arguments[0],h=arguments[1],d=arguments[2],f=c.iterator();f.hasNext();){var p=f.next();wd.getLines(p,h,d)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ul&&Tu(arguments[1],ml)){var A=arguments[0],g=arguments[1],v=arguments[2];return A.apply(new wd(g,v)),g}}};var xd=function(){if(this._boundaryRule=dl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new gu("Rule must be non-null");this._boundaryRule=t}};xd.prototype.locateInternal=function(){if(arguments[0]instanceof wu&&arguments[1]instanceof Jl){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Bu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Bu.EXTERIOR)return Bu.EXTERIOR;if(r===Bu.BOUNDARY)return Bu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===Bu.INTERIOR)return Bu.EXTERIOR;if(a===Bu.BOUNDARY)return Bu.BOUNDARY}return Bu.INTERIOR}if(arguments[0]instanceof wu&&arguments[1]instanceof ql){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return Bu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?ol.isOnLine(s,l)?Bu.INTERIOR:Bu.EXTERIOR:Bu.BOUNDARY}if(arguments[0]instanceof wu&&arguments[1]instanceof Wl){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?Bu.INTERIOR:Bu.EXTERIOR}},xd.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?ol.locatePointInRing(t,e.getCoordinates()):Bu.EXTERIOR},xd.prototype.intersects=function(t,e){return this.locate(t,e)!==Bu.EXTERIOR},xd.prototype.updateLocationInfo=function(t){t===Bu.INTERIOR&&(this._isIn=!0),t===Bu.BOUNDARY&&this._numBoundaries++},xd.prototype.computeLocation=function(t,e){if(e instanceof Wl&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof ql)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Jl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof zl)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ec)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof Hl)for(var u=new Ph(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},xd.prototype.locate=function(t,e){return e.isEmpty()?Bu.EXTERIOR:e instanceof ql?this.locateInternal(t,e):e instanceof Jl?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Bu.BOUNDARY:this._numBoundaries>0||this._isIn?Bu.INTERIOR:Bu.EXTERIOR)},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd};var Cd=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Ed={INSIDE_AREA:{configurable:!0}};Cd.prototype.isInsideArea=function(){return this._segIndex===Cd.INSIDE_AREA},Cd.prototype.getCoordinate=function(){return this._pt},Cd.prototype.getGeometryComponent=function(){return this._component},Cd.prototype.getSegmentIndex=function(){return this._segIndex},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd},Ed.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cd,Ed);var Bd=function(t){this._pts=t||null};Bd.prototype.filter=function(t){t instanceof Wl&&this._pts.add(t)},Bd.prototype.interfaces_=function(){return[Pl]},Bd.prototype.getClass=function(){return Bd},Bd.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Wl?Jc.singletonList(t):Bd.getPoints(t,new wl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Wl?n.add(e):e instanceof Hl&&e.apply(new Bd(n)),n}};var Nd=function(){this._locations=null;var t=arguments[0];this._locations=t};Nd.prototype.filter=function(t){(t instanceof Wl||t instanceof ql||t instanceof Jl)&&this._locations.add(new Cd(t,0,t.getCoordinate()))},Nd.prototype.interfaces_=function(){return[Pl]},Nd.prototype.getClass=function(){return Nd},Nd.getLocations=function(t){var e=new wl;return t.apply(new Nd(e)),e};var Td=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new xd,this._minDistanceLocation=null,this._minDistance=vu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Td.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=_d.getPolygons(this._geom[e]);if(i.size()>0){var o=Nd.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Tu(arguments[0],_l)&&Tu(arguments[1],_l)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cd&&arguments[1]instanceof Jl){var d=arguments[0],f=arguments[1],p=arguments[2],A=d.getCoordinate();if(Bu.EXTERIOR!==this._ptLocator.locate(A,f))return this._minDistance=0,p[0]=d,p[1]=new Cd(f,A),null}},Td.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Td.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=wd.getLines(this._geom[0]),n=wd.getLines(this._geom[1]),r=Bd.getPoints(this._geom[0]),i=Bd.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Td.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Td.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Td.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Td.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof ql&&arguments[1]instanceof Wl){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=ol.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new fh(r[o],r[o+1]).closestPoint(i);n[0]=new Cd(t,o,s),n[1]=new Cd(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ql&&arguments[1]instanceof ql){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),d=l.getCoordinates(),f=0;f<h.length-1;f++)for(var p=0;p<d.length-1;p++){var A=ol.distanceLineLine(h[f],h[f+1],d[p],d[p+1]);if(A<this._minDistance){this._minDistance=A;var g=new fh(h[f],h[f+1]),v=new fh(d[p],d[p+1]),m=g.closestPoints(v);c[0]=new Cd(u,f,m[0]),c[1]=new Cd(l,p,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Td.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Cd(i,0,i.getCoordinate()),n[1]=new Cd(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Td.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new gu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Td.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Td.prototype.interfaces_=function(){return[]},Td.prototype.getClass=function(){return Td},Td.distance=function(t,e){return new Td(t,e).distance()},Td.isWithinDistance=function(t,e,n){return new Td(t,e,n).distance()<=n},Td.nearestPoints=function(t,e){return new Td(t,e).nearestPoints()};var Id=function(){this._pt=[new wu,new wu],this._distance=vu.NaN,this._isNull=!0};Id.prototype.getCoordinates=function(){return this._pt},Id.prototype.getCoordinate=function(t){return this._pt[t]},Id.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Id.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Id.prototype.toString=function(){return Wu.toLineString(this._pt[0],this._pt[1])},Id.prototype.getDistance=function(){return this._distance},Id.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id};var Fd=function(){};Fd.prototype.interfaces_=function(){return[]},Fd.prototype.getClass=function(){return Fd},Fd.computeDistance=function(){if(arguments[2]instanceof Id&&arguments[0]instanceof ql&&arguments[1]instanceof wu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new fh,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Id&&arguments[0]instanceof Jl&&arguments[1]instanceof wu){var s=arguments[0],u=arguments[1],l=arguments[2];Fd.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)Fd.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Id&&arguments[0]instanceof ul&&arguments[1]instanceof wu){var h=arguments[0],d=arguments[1],f=arguments[2];if(h instanceof ql)Fd.computeDistance(h,d,f);else if(h instanceof Jl)Fd.computeDistance(h,d,f);else if(h instanceof Hl)for(var p=h,A=0;A<p.getNumGeometries();A++){var g=p.getGeometryN(A);Fd.computeDistance(g,d,f)}else f.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof Id&&arguments[0]instanceof fh&&arguments[1]instanceof wu){var v=arguments[0],m=arguments[1],y=arguments[2],b=v.closestPoint(m);y.setMinimum(b,m)}};var Sd=function(){this._g0=null,this._g1=null,this._ptDist=new Id,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Md={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Sd.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Sd.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new gu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Sd.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Sd.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Sd.prototype.computeOrientedDistance=function(t,e,n){var r=new Ud(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Qd(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Sd.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd},Sd.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Sd(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Sd(n,r);return o.setDensifyFraction(i),o.distance()}},Md.MaxPointDistanceFilter.get=function(){return Ud},Md.MaxDensifiedByFractionDistanceFilter.get=function(){return Qd},Object.defineProperties(Sd,Md);var Ud=function(){this._maxPtDist=new Id,this._minPtDist=new Id,this._euclideanDist=new Fd,this._geom=null;var t=arguments[0];this._geom=t};Ud.prototype.filter=function(t){this._minPtDist.initialize(),Fd.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ud.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ud.prototype.interfaces_=function(){return[hl]},Ud.prototype.getClass=function(){return Ud};var Qd=function(){this._maxPtDist=new Id,this._minPtDist=new Id,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Qd.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,u=n.y+a*o,l=new wu(s,u);this._minPtDist.initialize(),Fd.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Qd.prototype.isDone=function(){return!1},Qd.prototype.isGeometryChanged=function(){return!1},Qd.prototype.getMaxPointDistance=function(){return this._maxPtDist},Qd.prototype.interfaces_=function(){return[Dl]},Qd.prototype.getClass=function(){return Qd};var Ld=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Rd={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ld.prototype.checkMaximumDistance=function(t,e,n){var r=new Sd(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Wu.toLineString(i[0],i[1])+")"}},Ld.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Ld.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ld.VERBOSE&&zu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ld.prototype.checkNegativeValid=function(){if(!(this._input instanceof Jl||this._input instanceof ec||this._input instanceof Hl))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Ld.prototype.getErrorIndicator=function(){return this._errorIndicator},Ld.prototype.checkMinimumDistance=function(t,e,n){var r=new Td(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Wu.toLineString(i[0],i[1])+" )"}},Ld.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Ld.prototype.getErrorLocation=function(){return this._errorLocation},Ld.prototype.getPolygonLines=function(t){for(var e=new wl,n=new wd(e),r=_d.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Ld.prototype.getErrorMessage=function(){return this._errMsg},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld},Rd.VERBOSE.get=function(){return!1},Rd.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ld,Rd);var kd=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Od={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};kd.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},kd.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*kd.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new $u(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new $u(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},kd.prototype.checkDistance=function(){var t=new Ld(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},kd.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},kd.prototype.checkPolygonal=function(){this._result instanceof Jl||this._result instanceof ec||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},kd.prototype.getErrorIndicator=function(){return this._errorIndicator},kd.prototype.getErrorLocation=function(){return this._errorLocation},kd.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},kd.prototype.report=function(t){if(!kd.VERBOSE)return null;zu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},kd.prototype.getErrorMessage=function(){return this._errorMsg},kd.prototype.interfaces_=function(){return[]},kd.prototype.getClass=function(){return kd},kd.isValidMsg=function(t,e,n){var r=new kd(t,e,n);return r.isValid()?null:r.getErrorMessage()},kd.isValid=function(t,e,n){return!!new kd(t,e,n).isValid()},Od.VERBOSE.get=function(){return!1},Od.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(kd,Od);var Pd=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Pd.prototype.getCoordinates=function(){return this._pts},Pd.prototype.size=function(){return this._pts.length},Pd.prototype.getCoordinate=function(t){return this._pts[t]},Pd.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Pd.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:lh.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Pd.prototype.setData=function(t){this._data=t},Pd.prototype.getData=function(){return this._data},Pd.prototype.toString=function(){return Wu.toLineString(new sc(this._pts))},Pd.prototype.interfaces_=function(){return[ch]},Pd.prototype.getClass=function(){return Pd};var Dd=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new wl,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Dd.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Dd.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Dd.prototype.getIntersectionSegments=function(){return this._intSegments},Dd.prototype.count=function(){return this._intersectionCount},Dd.prototype.getIntersections=function(){return this._intersections},Dd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Dd.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Dd.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Dd.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Dd.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Dd.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Dd.prototype.interfaces_=function(){return[jh]},Dd.prototype.getClass=function(){return Dd},Dd.createAllIntersectionsFinder=function(t){var e=new Dd(t);return e.setFindAllIntersections(!0),e},Dd.createAnyIntersectionFinder=function(t){return new Dd(t)},Dd.createIntersectionCounter=function(t){var e=new Dd(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Hd=function(){this._li=new nl,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Hd.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Hd.prototype.getIntersections=function(){return this._segInt.getIntersections()},Hd.prototype.isValid=function(){return this.execute(),this._isValid},Hd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Hd.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Dd(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new bh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Hd.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Nc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Hd.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Wu.toLineString(t[0],t[1])+" and "+Wu.toLineString(t[2],t[3])},Hd.prototype.interfaces_=function(){return[]},Hd.prototype.getClass=function(){return Hd},Hd.computeIntersections=function(t){var e=new Hd(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var zd=function t(){this._nv=null;var e=arguments[0];this._nv=new Hd(t.toSegmentStrings(e))};zd.prototype.checkValid=function(){this._nv.checkValid()},zd.prototype.interfaces_=function(){return[]},zd.prototype.getClass=function(){return zd},zd.toSegmentStrings=function(t){for(var e=new wl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Pd(r.getCoordinates(),r))}return e},zd.checkValid=function(t){new zd(t).checkValid()};var Kd=function(t){this._mapOp=t};Kd.prototype.map=function(t){for(var e=new wl,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(gc.toGeometryArray(e))},Kd.prototype.interfaces_=function(){return[]},Kd.prototype.getClass=function(){return Kd},Kd.map=function(t,e){return new Kd(e).map(t)};var $d=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new wl,this._resultLineList=new wl;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};$d.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},$d.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},$d.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},$d.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ef.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},$d.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},$d.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},$d.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},$d.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(Zu.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ef.isResultOfOp(r,e)&&e===Ef.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},$d.prototype.interfaces_=function(){return[]},$d.prototype.getClass=function(){return $d};var Vd=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new wl;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Vd.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Vd.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Ef.INTERSECTION)){var r=n.getLabel();Ef.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Vd.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Vd.prototype.interfaces_=function(){return[]},Vd.prototype.getClass=function(){return Vd};var jd=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};jd.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},jd.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof tc&&!r.isEmpty()||(n=!1);for(var i=new wl,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof tc||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new wl;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},jd.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},jd.prototype.getInputGeometry=function(){return this._inputGeom},jd.prototype.transformMultiLineString=function(t,e){for(var n=new wl,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},jd.prototype.transformCoordinates=function(t,e){return this.copy(t)},jd.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},jd.prototype.transformMultiPoint=function(t,e){for(var n=new wl,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},jd.prototype.transformMultiPolygon=function(t,e){for(var n=new wl,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},jd.prototype.copy=function(t){return t.copy()},jd.prototype.transformGeometryCollection=function(t,e){for(var n=new wl,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gc.toGeometryArray(n)):this._factory.buildGeometry(n)},jd.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Wl)return this.transformPoint(t,null);if(t instanceof Zl)return this.transformMultiPoint(t,null);if(t instanceof tc)return this.transformLinearRing(t,null);if(t instanceof ql)return this.transformLineString(t,null);if(t instanceof zl)return this.transformMultiLineString(t,null);if(t instanceof Jl)return this.transformPolygon(t,null);if(t instanceof ec)return this.transformMultiPolygon(t,null);if(t instanceof Hl)return this.transformGeometryCollection(t,null);throw new gu("Unknown Geometry subtype: "+t.getClass().getName())},jd.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},jd.prototype.interfaces_=function(){return[]},jd.prototype.getClass=function(){return jd};var Gd=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new fh,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ql&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Gd.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new wu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new wu(o)))}},Gd.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Gd.prototype.snapTo=function(t){var e=new Cl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Gd.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new wu(i),!1)}},Gd.prototype.findSegmentIndexToSnap=function(t,e){for(var n=vu.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Gd.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Gd.prototype.interfaces_=function(){return[]},Gd.prototype.getClass=function(){return Gd},Gd.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var qd=function(t){this._srcGeom=t||null},Xd={SNAP_PRECISION_FACTOR:{configurable:!0}};qd.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Wd(e,n).transform(this._srcGeom)},qd.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Wd(t,n,!0).transform(this._srcGeom),i=r;return e&&Tu(i,Yl)&&(i=r.buffer(0)),i},qd.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},qd.prototype.extractTargetCoordinates=function(t){for(var e=new Di,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},qd.prototype.computeMinimumSegmentLength=function(t){for(var e=vu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},qd.prototype.interfaces_=function(){return[]},qd.prototype.getClass=function(){return qd},qd.snap=function(t,e,n){var r=new Array(2).fill(null),i=new qd(t);r[0]=i.snapTo(e,n);var o=new qd(e);return r[1]=o.snapTo(r[0],n),r},qd.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=qd.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===dc.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(qd.computeOverlaySnapTolerance(i),qd.computeOverlaySnapTolerance(o))}},qd.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*qd.SNAP_PRECISION_FACTOR},qd.snapToSelf=function(t,e,n){return new qd(t).snapToSelf(e,n)},Xd.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(qd,Xd);var Wd=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Gd(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jd),Yd=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Yd.prototype.getCommon=function(){return vu.longBitsToDouble(this._commonBits)},Yd.prototype.add=function(t){var e=vu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Yd.signExpBits(this._commonBits),this._isFirst=!1,null):Yd.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Yd.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Yd.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Yd.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=vu.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+vu.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Yd.prototype.interfaces_=function(){return[]},Yd.prototype.getClass=function(){return Yd},Yd.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Yd.signExpBits=function(t){return t>>52},Yd.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Yd.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Yd.getBit(t,r)!==Yd.getBit(e,r))return n;n++}return 52};var Jd=function(){this._commonCoord=null,this._ccFilter=new tf},Zd={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Jd.prototype.addCommonBits=function(t){var e=new ef(this._commonCoord);t.apply(e),t.geometryChanged()},Jd.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new wu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ef(e);return t.apply(n),t.geometryChanged(),t},Jd.prototype.getCommonCoordinate=function(){return this._commonCoord},Jd.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Jd.prototype.interfaces_=function(){return[]},Jd.prototype.getClass=function(){return Jd},Zd.CommonCoordinateFilter.get=function(){return tf},Zd.Translater.get=function(){return ef},Object.defineProperties(Jd,Zd);var tf=function(){this._commonBitsX=new Yd,this._commonBitsY=new Yd};tf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},tf.prototype.getCommonCoordinate=function(){return new wu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},tf.prototype.interfaces_=function(){return[hl]},tf.prototype.getClass=function(){return tf};var ef=function(){this.trans=null;var t=arguments[0];this.trans=t};ef.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ef.prototype.isDone=function(){return!1},ef.prototype.isGeometryChanged=function(){return!0},ef.prototype.interfaces_=function(){return[Dl]},ef.prototype.getClass=function(){return ef};var nf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};nf.prototype.selfSnap=function(t){return new qd(t).snapTo(t,this._snapTolerance)},nf.prototype.removeCommonBits=function(t){this._cbr=new Jd,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},nf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},nf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Ef.overlayOp(e[0],e[1],t);return this.prepareResult(n)},nf.prototype.checkValid=function(t){t.isValid()||zu.out.println("Snapped geometry is invalid")},nf.prototype.computeSnapTolerance=function(){this._snapTolerance=qd.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},nf.prototype.snap=function(t){var e=this.removeCommonBits(t);return qd.snap(e[0],e[1],this._snapTolerance)},nf.prototype.interfaces_=function(){return[]},nf.prototype.getClass=function(){return nf},nf.overlayOp=function(t,e,n){return new nf(t,e).getResultGeometry(n)},nf.union=function(t,e){return nf.overlayOp(t,e,Ef.UNION)},nf.intersection=function(t,e){return nf.overlayOp(t,e,Ef.INTERSECTION)},nf.symDifference=function(t,e){return nf.overlayOp(t,e,Ef.SYMDIFFERENCE)},nf.difference=function(t,e){return nf.overlayOp(t,e,Ef.DIFFERENCE)};var rf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};rf.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Ef.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Yu))throw t;r=t}if(!n)try{e=nf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Yu?r:t}return e},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.overlayOp=function(t,e,n){return new rf(t,e).getResultGeometry(n)},rf.union=function(t,e){return rf.overlayOp(t,e,Ef.UNION)},rf.intersection=function(t,e){return rf.overlayOp(t,e,Ef.INTERSECTION)},rf.symDifference=function(t,e){return rf.overlayOp(t,e,Ef.SYMDIFFERENCE)},rf.difference=function(t,e){return rf.overlayOp(t,e,Ef.DIFFERENCE)};var of=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};of.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of};var af=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},sf={INSERT:{configurable:!0},DELETE:{configurable:!0}};af.prototype.isDelete=function(){return this._eventType===af.DELETE},af.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},af.prototype.getObject=function(){return this._obj},af.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},af.prototype.getInsertEvent=function(){return this._insertEvent},af.prototype.isInsert=function(){return this._eventType===af.INSERT},af.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},af.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},af.prototype.interfaces_=function(){return[yu]},af.prototype.getClass=function(){return af},sf.INSERT.get=function(){return 1},sf.DELETE.get=function(){return 2},Object.defineProperties(af,sf);var uf=function(){};uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var lf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};lf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(lf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},lf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},lf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},lf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},lf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},lf.prototype.hasProperIntersection=function(){return this._hasProper},lf.prototype.hasIntersection=function(){return this._hasIntersection},lf.prototype.isDone=function(){return this._isDone},lf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},lf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},lf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},lf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var cf=function(t){function e(){t.call(this),this.events=new wl,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Jc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof lf&&Tu(arguments[0],_l)&&Tu(arguments[1],_l)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Tu(arguments[0],_l)&&arguments[1]instanceof lf){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new of(n,i),a=new af(e,n.getMinX(i),o);this.events.add(a),this.events.add(new af(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(uf),hf=function(){this._min=vu.POSITIVE_INFINITY,this._max=vu.NEGATIVE_INFINITY},df={NodeComparator:{configurable:!0}};hf.prototype.getMin=function(){return this._min},hf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hf.prototype.getMax=function(){return this._max},hf.prototype.toString=function(){return Wu.toLineString(new wu(this._min,0),new wu(this._max,0))},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},df.NodeComparator.get=function(){return ff},Object.defineProperties(hf,df);var ff=function(){};ff.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},ff.prototype.interfaces_=function(){return[_u]},ff.prototype.getClass=function(){return ff};var pf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hf),Af=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hf),gf=function(){this._leaves=new wl,this._root=null,this._level=0};gf.prototype.buildTree=function(){Jc.sort(this._leaves,new hf.NodeComparator);for(var t=this._leaves,e=null,n=new wl;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},gf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new pf(t,e,n))},gf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},gf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},gf.prototype.printNode=function(t){zu.out.println(Wu.toLineString(new wu(t._min,this._level),new wu(t._max,this._level)))},gf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},gf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Af(t.get(n),t.get(n+1));e.add(i)}}},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var vf=function(){this._items=new wl};vf.prototype.visitItem=function(t){this._items.add(t)},vf.prototype.getItems=function(){return this._items},vf.prototype.interfaces_=function(){return[qc]},vf.prototype.getClass=function(){return vf};var mf=function(){this._index=null;var t=arguments[0];if(!Tu(t,Yl))throw new gu("Argument must be Polygonal");this._index=new _f(t)},yf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};mf.prototype.locate=function(t){var e=new il(t),n=new bf(e);return this._index.query(t.y,t.y,n),e.getLocation()},mf.prototype.interfaces_=function(){return[Oh]},mf.prototype.getClass=function(){return mf},yf.SegmentVisitor.get=function(){return bf},yf.IntervalIndexedGeometry.get=function(){return _f},Object.defineProperties(mf,yf);var bf=function(){this._counter=null;var t=arguments[0];this._counter=t};bf.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},bf.prototype.interfaces_=function(){return[qc]},bf.prototype.getClass=function(){return bf};var _f=function(){this._index=new gf;var t=arguments[0];this.init(t)};_f.prototype.init=function(t){for(var e=wd.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},_f.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new fh(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},_f.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f};var wf=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new hc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new xd,2===arguments.length){var e=arguments[0],n=arguments[1],r=dl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;Bu.NONE,r.getLocation(t,Cc.ON)===Bu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new lf(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof tc||this._parentGeom instanceof Jl||this._parentGeom instanceof ec,u=r||!s;return a.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new lf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Wl){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Bu.INTERIOR)}else if(arguments[0]instanceof wu){var e=arguments[0];this.insertPoint(this._argIndex,e,Bu.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Bu.EXTERIOR,Bu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Bu.INTERIOR,Bu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Bu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Bu.BOUNDARY)},e.prototype.addLineString=function(t){var e=El.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new td(e,new Sc(this._argIndex,Bu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Zu.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Bu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=El.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;ol.isCCW(r)&&(i=n,o=e);var a=new td(r,new Sc(this._argIndex,Bu.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Bu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Sc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new cf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ec&&(this._useBoundaryDeterminationRule=!1),e instanceof Jl)this.addPolygon(e);else if(e instanceof ql)this.addLineString(e);else if(e instanceof Wl)this.addPoint(e);else if(e instanceof Zl)this.addCollection(e);else if(e instanceof zl)this.addCollection(e);else if(e instanceof ec)this.addCollection(e);else{if(!(e instanceof Hl))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Tu(this._parentGeom,Yl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new mf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Bu.BOUNDARY:Bu.INTERIOR},e}(Kc),xf=function(){if(this._li=new nl,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new wf(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=dl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new wf(0,e,r),this._arg[1]=new wf(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new wf(0,i,a),this._arg[1]=new wf(1,o,a)}};xf.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},xf.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var Cf=function(){};Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.map=function(){if(arguments[0]instanceof ul&&Tu(arguments[1],Cf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new wl,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Tu(arguments[0],ml)&&Tu(arguments[1],Cf.MapOp)){for(var o=arguments[0],a=arguments[1],s=new wl,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},Cf.MapOp=function(){};var Ef=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new xd,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Vh,this._resultPolyList=new wl,this._resultLineList=new wl,this._resultPointList=new wl,this._graph=new Kc(new Kh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Sc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new wl;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Bu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new wl,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new wl;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),zd.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new $c(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new $d(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Vd(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Cc.RIGHT),i.getLocation(1,Cc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Zu.isTrue(!r.isNull(i,Cc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Cc.LEFT,r.getLocation(i,Cc.LEFT)),Zu.isTrue(!r.isNull(i,Cc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Cc.RIGHT,r.getLocation(i,Cc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xf);Ef.overlayOp=function(t,e,n){return new Ef(t,e).getResultGeometry(n)},Ef.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ef.createEmptyResult(Ef.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Kd.map(t,{interfaces_:function(){return[Cf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),rf.overlayOp(t,e,Ef.INTERSECTION)},Ef.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ef.createEmptyResult(Ef.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),rf.overlayOp(t,e,Ef.SYMDIFFERENCE)},Ef.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Ef.INTERSECTION:o=Math.min(r,i);break;case Ef.UNION:o=Math.max(r,i);break;case Ef.DIFFERENCE:o=r;break;case Ef.SYMDIFFERENCE:o=Math.max(r,i)}return o},Ef.createEmptyResult=function(t,e,n,r){var i=null;switch(Ef.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ef.difference=function(t,e){return t.isEmpty()?Ef.createEmptyResult(Ef.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),rf.overlayOp(t,e,Ef.DIFFERENCE))},Ef.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Ef.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===Bu.BOUNDARY&&(i=Bu.INTERIOR),o===Bu.BOUNDARY&&(o=Bu.INTERIOR),a){case Ef.INTERSECTION:return i===Bu.INTERIOR&&o===Bu.INTERIOR;case Ef.UNION:return i===Bu.INTERIOR||o===Bu.INTERIOR;case Ef.DIFFERENCE:return i===Bu.INTERIOR&&o!==Bu.INTERIOR;case Ef.SYMDIFFERENCE:return i===Bu.INTERIOR&&o!==Bu.INTERIOR||i!==Bu.INTERIOR&&o===Bu.INTERIOR}return!1}},Ef.INTERSECTION=1,Ef.UNION=2,Ef.DIFFERENCE=3,Ef.SYMDIFFERENCE=4;var Bf=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new xd,this._seg=new fh;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Bf.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Bf.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Bu.BOUNDARY:this._ptLocator.locate(t,this._g)},Bf.prototype.extractLinework=function(t){var e=new Nf;t.apply(e);var n=e.getLinework(),r=gc.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var Nf=function(){this._linework=null,this._linework=new wl};Nf.prototype.getLinework=function(){return this._linework},Nf.prototype.filter=function(t){if(t instanceof Jl){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Nf.prototype.interfaces_=function(){return[Pl]},Nf.prototype.getClass=function(){return Nf};var Tf=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Tf.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Tf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Tf.prototype.getPoints=function(t){for(var e=new wl,n=wd.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Tf.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,u=n*o/a,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new wu(l-u,c+s);r.add(h)}if(this._doRight){var d=new wu(l+u,c-s);r.add(d)}},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var If=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new wl;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Bf(this._geom[0],this._boundaryDistanceTolerance),new Bf(this._geom[1],this._boundaryDistanceTolerance),new Bf(this._geom[2],this._boundaryDistanceTolerance)]},Ff={TOLERANCE:{configurable:!0}};If.prototype.reportResult=function(t,e,n){zu.out.println("Overlay result invalid - A:"+Bu.toLocationSymbol(e[0])+" B:"+Bu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Bu.toLocationSymbol(e[2]))},If.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},If.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!If.hasLocation(this._location,Bu.BOUNDARY)||this.isValidResult(r,this._location)}},If.prototype.addTestPts=function(t){var e=new Tf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},If.prototype.isValidResult=function(t,e){var n=Ef.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Bu.INTERIOR);return r||this.reportResult(t,e,n),r},If.prototype.getInvalidLocation=function(){return this._invalidLocation},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},If.computeBoundaryDistanceTolerance=function(t,e){return Math.min(qd.computeSizeBasedSnapTolerance(t),qd.computeSizeBasedSnapTolerance(e))},If.isValid=function(t,e,n,r){return new If(t,e,r).isValid(n)},Ff.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(If,Ff);var Sf=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Sf.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Sf.prototype.combine=function(){for(var t=new wl,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.combine=function(){if(1===arguments.length){var t=arguments[0];return new Sf(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Sf(Sf.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new Sf(Sf.createList(r,i,o)).combine()}},Sf.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Sf.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new wl;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new wl;return a.add(r),a.add(i),a.add(o),a}};var Mf=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new wl)},Uf={STRTREE_NODE_CAPACITY:{configurable:!0}};Mf.prototype.reduceToGeometries=function(t){for(var e=new wl,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Tu(r,_l)?i=this.unionTree(r):r instanceof ul&&(i=r),e.add(i)}return e},Mf.prototype.extractByEnvelope=function(t,e,n){for(var r=new wl,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Mf.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Sf.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Mf.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new ih(Mf.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Mf.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Mf.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Mf.getGeometry(e,n),Mf.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},Mf.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Mf.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Mf.prototype.unionActual=function(t,e){return Mf.restrictToPolygons(t.union(e))},Mf.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Mf.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new wl,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),Sf.combine(r)},Mf.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf},Mf.restrictToPolygons=function(t){if(Tu(t,Yl))return t;var e=_d.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(gc.toPolygonArray(e))},Mf.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Mf.union=function(t){return new Mf(t).union()},Uf.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Mf,Uf);var Qf=function(){};Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf},Qf.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ef.createEmptyResult(Ef.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),rf.overlayOp(t,e,Ef.UNION)};var Lf=function(){return new Vi};Vi.prototype={constructor:Vi,reset:function(){this.s=this.t=0},add:function(t){ji(Rf,t,this.t),ji(this,Rf.s,this.s),this.s?this.t+=Rf.t:this.s=Rf.t},valueOf:function(){return this.s}};var Rf=new Vi,kf=1e-6,Of=Math.PI,Pf=Of/2,Df=Of/4,Hf=2*Of,zf=180/Of,Kf=Of/180,$f=Math.abs,Vf=Math.atan,jf=Math.atan2,Gf=Math.cos,qf=Math.exp,Xf=Math.log,Wf=Math.sin,Yf=Math.sqrt,Jf=Math.tan,Zf={Feature:function(t,e){Xi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Xi(n[r].geometry,e)}},tp={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Wi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Wi(n[r],e,0)},Polygon:function(t,e){Yi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Yi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Xi(n[r],e)}},ep=function(t,e){t&&Zf.hasOwnProperty(t.type)?Zf[t.type](t,e):Xi(t,e)},np=(Lf(),Lf(),Lf(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});oo.invert=oo;var rp=function(t){function e(e){return e=t(e[0]*Kf,e[1]*Kf),e[0]*=zf,e[1]*=zf,e}return t=ao(t[0]*Kf,t[1]*Kf,t.length>2?t[2]*Kf:0),e.invert=function(e){return e=t.invert(e[0]*Kf,e[1]*Kf),e[0]*=zf,e[1]*=zf,e},e},ip=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:qi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},op=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,d=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*d),c<1&&(e[0]=s+c*h,e[1]=u+c*d),!0}}}}},ap=function(t,e){return $f(t[0]-e[0])<kf&&$f(t[1]-e[1])<kf},sp=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ap(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new ho(r,t,null,!0)),u.push(n.o=new ho(r,null,n,!1)),s.push(n=new ho(a,t,null,!1)),u.push(n.o=new ho(a,null,n,!0))}}),s.length){for(u.sort(e),fo(s),fo(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}},up=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},lp=(function(t){1===t.length&&(t=function(t){return function(e,n){return up(t(e),n)}}(t))}(up),function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}),cp=1e9,hp=-cp,dp=Lf(),fp=(Lf(),function(t){return t}),pp=(Lf(),Lf(),1/0),Ap=pp,gp=-pp,vp=gp,mp={point:function(t,e){t<pp&&(pp=t),t>gp&&(gp=t),e<Ap&&(Ap=e),e>vp&&(vp=e)},lineStart:qi,lineEnd:qi,polygonStart:qi,polygonEnd:qi,result:function(){var t=[[pp,Ap],[gp,vp]];return gp=vp=-(Ap=pp=1/0),t}},yp=(Lf(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function u(){_.point=s,g.lineStart()}function l(){_.point=a,g.lineEnd()}function c(t,e){A.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function h(){y.lineStart(),A=[]}function d(){c(A[0][0],A[0][1]),y.lineEnd();var t,e,n,r,i=y.clean(),a=m.result(),s=a.length;if(A.pop(),f.push(A),A=null,s)if(1&i){if(n=a[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),p.push(a.filter(Ao))}var f,p,A,g=e(o),v=i.invert(r[0],r[1]),m=ip(),y=e(m),b=!1,_={point:a,lineStart:u,lineEnd:l,polygonStart:function(){_.point=c,_.lineStart=h,_.lineEnd=d,p=[],f=[]},polygonEnd:function(){_.point=a,_.lineStart=u,_.lineEnd=l,p=lp(p);var t=function(t,e){var n=e[0],r=e[1],i=[Wf(n),-Gf(n),0],o=0,a=0;dp.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],d=h[0],f=h[1]/2+Df,p=Wf(f),A=Gf(f),g=0;g<c;++g,d=m,p=b,A=_,h=v){var v=l[g],m=v[0],y=v[1]/2+Df,b=Wf(y),_=Gf(y),w=m-d,x=w>=0?1:-1,C=x*w,E=C>Of,B=p*b;if(dp.add(jf(B*x*Wf(C),A*_+B*Gf(C))),o+=E?w+x*Hf:w,E^d>=n^m>=n){var N=eo(Zi(h),Zi(v));io(N);var T=eo(i,N);io(T);var I=(E^w>=0?-1:1)*Gi(T[2]);(r>I||r===I&&(N[0]||N[1]))&&(a+=E^w>=0?1:-1)}}return(o<-kf||o<kf&&dp<-kf)^1&a}(f,v);p.length?(b||(o.polygonStart(),b=!0),sp(p,go,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return _}}),bp=yp(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Of:-Of,u=$f(o-n);$f(u-Of)<kf?(t.point(n,r=(r+a)/2>0?Pf:-Pf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Of&&($f(n-i)<kf&&(n-=i*kf),$f(o-s)<kf&&(o-=s*kf),r=function(t,e,n,r){var i,o,a=Wf(t-n);return $f(a)>kf?Vf((Wf(e)*(o=Gf(r))*Wf(n)-Wf(r)*(i=Gf(e))*Wf(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Pf,r.point(-Of,i),r.point(0,i),r.point(Of,i),r.point(Of,0),r.point(Of,-i),r.point(0,-i),r.point(-Of,-i),r.point(-Of,0),r.point(-Of,i);else if($f(t[0]-e[0])>kf){var o=t[0]<e[0]?Of:-Of;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Of,-Pf]),_p=function(t,e){function n(t,e){return Gf(t)*Gf(e)>o}function r(t,e,n){var r=[1,0,0],i=eo(Zi(t),Zi(e)),a=to(i,i),s=i[0],u=a-s*s;if(!u)return!n&&t;var l=o*a/u,c=-o*s/u,h=eo(r,i),d=ro(r,l);no(d,ro(i,c));var f=h,p=to(d,f),A=to(f,f),g=p*p-A*(to(d,d)-1);if(!(g<0)){var v=Yf(g),m=ro(f,(-p-v)/A);if(no(m,d),m=Ji(m),!n)return m;var y,b=t[0],_=e[0],w=t[1],x=e[1];_<b&&(y=b,b=_,_=y);var C=_-b,E=$f(C-Of)<kf;if(!E&&x<w&&(y=w,w=x,x=y),E||C<kf?E?w+x>0^m[1]<($f(m[0]-b)<kf?w:x):w<=m[1]&&m[1]<=x:C>Of^(b<=m[0]&&m[0]<=_)){var B=ro(f,(-p+v)/A);return no(B,d),[m,Ji(B)]}}}function i(e,n){var r=a?t:Of-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Gf(t),a=o>0,s=$f(o)>kf;return yp(n,function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var f,p=[h,d],A=n(h,d),g=a?A?0:i(h,d):A?i(h+(h<0?Of:-Of),d):0;if(!e&&(l=u=A)&&t.lineStart(),A!==u&&(!(f=r(e,p))||ap(e,f)||ap(p,f))&&(p[0]+=kf,p[1]+=kf,A=n(p[0],p[1])),A!==u)c=0,A?(t.lineStart(),f=r(p,e),t.point(f[0],f[1])):(f=r(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(s&&e&&a^A){var v;g&o||!(v=r(p,e,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!A||e&&ap(e,p)||t.point(p[0],p[1]),e=p,u=A,o=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Gf(e),s=Wf(e),u=r*n;null==i?(i=e+r*Hf,o=e-u/2):(i=co(a,i),o=co(a,o),(r>0?i<o:i>o)&&(i+=r*Hf));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Ji([a,-s*Gf(c),-s*Wf(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)},a?[0,-t]:[-Of,t-Of])};mo.prototype={constructor:mo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var wp=16,xp=Gf(30*Kf),Cp=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,l,c,h,d,f,p,A,g){var v=l-r,m=c-i,y=v*v+m*m;if(y>4*e&&A--){var b=a+d,_=s+f,w=u+p,x=Yf(b*b+_*_+w*w),C=Gi(w/=x),E=$f($f(w)-1)<kf||$f(o-h)<kf?(o+h)/2:jf(_,b),B=t(E,C),N=B[0],T=B[1],I=N-r,F=T-i,S=m*I-v*F;(S*S/y>e||$f((v*I+m*F)/y-.5)>.3||a*d+s*f+u*p<xp)&&(n(r,i,o,a,s,u,N,T,E,b/=x,_/=x,w,A,g),g.point(N,T),n(N,T,E,b,_,w,l,c,h,d,f,p,A,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){v=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Zi([r,i]),a=t(r,i);n(v,m,g,y,b,_,v=a[0],m=a[1],g=r,y=o[0],b=o[1],_=o[2],wp,e),e.point(v,m)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=l}function u(t,e){o(c=t,e),h=v,d=m,f=y,p=b,A=_,w.point=o}function l(){n(v,m,g,y,b,_,h,d,c,f,p,A,wp,e),w.lineEnd=a,a()}var c,h,d,f,p,A,g,v,m,y,b,_,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return vo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Ep=vo({point:function(t,e){this.stream.point(t*Kf,e*Kf)}});_o.invert=function(t,e){return[t,2*Vf(qf(e))-Pf]},wo.invert=function(t,e){return[-e,2*Vf(qf(t))-Pf]};var Bp=function(){var t=function(t){function e(){var e=Of*s(),a=o(rp(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===_o?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=bo(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(wo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.projection=Ba,t.random=fu,t.clusters=pu,t.helpers=Do,t.invariant=zo,t.meta=Ho,t.isolines=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(q(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=rt(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=z(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=i/(e[0].length-1),l=o/(e.length-1),c=function(t){t[0]=t[0]*u+a,t[1]=t[1]*l+s};return t.forEach(function(t){N(t,c)}),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},r,i[a]);u[n]=s;var l=c(J(t,s),u);o.push(l)}return o}(a,e,r,i,o),a,t))},t.convex=It,t.pointsWithinPolygon=Mt,t.concave=function(t,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!x(r))throw new Error("maxEdge is invalid");var i=Ut(function(t){var e=[],n={};return S(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),l(e)}(t));if(i.features=i.features.filter(function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=kt(e,i,n),s=kt(i,o,n),u=kt(e,o,n);return a<=r&&s<=r&&u<=r}),i.features.length<1)return null;var o=Zt(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=jo(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=z(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Ft([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Ot(t)),N(t,function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e}),t},t.simplify=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Ot(t)),Q(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;te(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ae(i,e,n);break;case"MultiLineString":t.coordinates=i.map(function(t){return ae(t,e,n)});break;case"Polygon":t.coordinates=se(i,e,n);break;case"MultiPolygon":t.coordinates=i.map(function(t){return se(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=ue,t.tag=function(t,e,n,r){return t=Ot(t),e=Ot(e),S(t,function(t){t.properties||(t.properties={}),S(e,function(e){void 0===t.properties[r]&&Ft(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)r=Math.floor((o+1)*Math.random()),n=i[r],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=ce,t.square=he,t.circle=fe,t.midpoint=function(t,e){return de(t,kt(t,e)/2,pe(t,e))},t.center=Ae,t.centerOfMass=ve,t.centroid=ge,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return S(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))}),l(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=kt,t.explode=me,t.bbox=z,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Le(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Le(t))}),e},t.bboxPolygon=le,t.booleanPointInPolygon=Ft,t.nearestPoint=Re,t.nearestPointOnLine=on,t.nearestPointToLine=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return Q(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Y(e))throw new Error("line must be a LineString");var o=1/0,a=null;return S(t,function(t){var n=pn(t,e,{units:r});n<o&&(o=n,a=t)}),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=K(t),r=X(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],d=void 0!==o?o:r[0][2],f=r[1][0],p=r[1][1],A=void 0!==a?a:r[1][2],g=r[2][0],v=r[2][1],m=void 0!==s?s:r[2][2];return(m*(u-c)*(l-p)+d*(u-f)*(l-v)+A*(u-g)*(l-h)-A*(u-c)*(l-v)-m*(u-f)*(l-h)-d*(u-g)*(l-p))/((u-c)*(l-p)+(u-f)*(l-v)+(u-g)*(l-h)-(u-c)*(l-v)-(u-f)*(l-h)-(u-g)*(l-p))},t.tin=Ut,t.bearing=pe,t.destination=de,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var u,l,c,h,d,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-o)*(n-t)-(a-i)*(r-e))?null!==f.x&&null!==f.y&&f:(l=e-o,c=t-i,h=(a-i)*l-(s-o)*c,d=(n-t)*l-(r-e)*c,l=h/u,c=d/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}})}),i},t.pointOnFeature=gn,t.area=mn,t.along=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!x(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var u=pe(i[a],i[a-1])-180;return de(i[a],s,u,n)}return r(i[a])}o+=kt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=xn,t.lineSlice=function(t,e,n){var r=$(n);if("LineString"!==Y(n))throw new Error("line must be a LineString");for(var i,o=on(n,t),a=on(n,e),u=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),s(u,n.properties)},t.lineSliceAlong=Cn,t.pointGrid=In,t.truncate=Fn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){e.push(t)}),l(e)},t.lineIntersect=nn,t.lineChunk=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=xn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(Cn(t,e*a,e*(a+1),{units:n}))}(t,e,r,function(t){o.push(t)})}),l(o)},t.unkinkPolygon=function(t){var e=[];return R(t,function(t){"Polygon"===t.geometry.type&&S(Ia(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=K(t),e=K(e),r=r||{},i=i||100,o=o||10,new ka({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=en,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Y(t),r=Y(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Fn(e,{precision:7});switch(r){case"Point":return Ln(t,i);case"MultiPoint":return Qn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Qn(t,nn(t,i))}},t.lineArc=On,t.polygonToLine=Dn,t.lineToPolygon=zn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=$(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach(function(t){Oa(t,e,a)}),1===a.length?s(a[0],i):c(a,i);case"Polygon":return o(qn(r,e),i);case"MultiPolygon":return d(r.map(function(t){return qn(t,e)}),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Zn,t.sector=function(t,e,n,r,i){if(i=i||{},!C(i))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(er(n)===er(r))return fe(t,e,i);var a=$(t),s=[[a]];return N(On(t,e,n,r,i),function(t){s[0].push(t)}),s[0].push(a),o(s)},t.rhumbBearing=an,t.rhumbDistance=un,t.rhumbDestination=nr,t.polygonTangents=function(t,e){var n,i,o,a=$(t),s=$(e);switch(Y(e)){case"Polygon":n=s[0][0],i=s[0][0],o=ir(s[0][0],s[0][s[0].length-1],a);var u=rr(s[0],a,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=ir(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach(function(t){var e=rr(t[0],a,o,void 0,n,i);n=e[0],i=e[1]})}return l([r(n),r(i)])},t.rewind=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Ot(t));var i=[];switch(t.type){case"GeometryCollection":return Q(t,function(t){ar(t,n)}),t;case"FeatureCollection":return S(t,function(t){S(ar(t,n),function(t){i.push(t)})}),l(i)}return ar(t,n)},t.isobands=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if(q(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=lr(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],u=cr(t,a,s-a),l=function(t){var e=[],n=[];u.forEach(function(t){var r=mn(o([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(),c=function(t){for(var e=l.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++)if(!e[s].grouped){var u=o([e[s].lrCoordinates]);(function(t,e){for(var n=me(u),r=0;r<n.features.length;r++)if(!Ft(n.features[r],e))return!1;return!0})(0,a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(i)}return n}(),h={};h.groupedRings=c,h[n]=a+"-"+s,r.push(h)}return r}(s,e,r);return l((u=function(t,e,n){var r=z(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=i/(e[0].length-1),l=o/(e.length-1),c=function(t){t[0]=t[0]*u+a,t[1]=t[1]*l+s};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(c)})})}),t}(u,s,t)).map(function(t,e){if(a[e]&&!C(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],d(t.groupedRings,n)}))},t.transformRotate=fr,t.transformScale=pr,t.transformTranslate=function(t,e,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=Ot(t)),N(t,function(t){var r=$(nr(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var i=Y(t),o=t.properties;switch(i){case"LineString":return yr(t,e,r);case"MultiLineString":var a=[];return R(t,function(t){a.push(yr(t,e,r).geometry.coordinates)}),c(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=ks.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){Ls.findEdgeRingContaining(t,r)&&r.push(t)}),l(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return R(t,function(t){R(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!wr(e,t);case"Polygon":return!Ft(t,e)}break;case"LineString":switch(e.type){case"Point":return!wr(t,e);case"LineString":return!function(t,e){return nn(t,e).features.length>0}(t,e);case"Polygon":return!xr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Ft(e,t);case"LineString":return!xr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Ft(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Ft(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=Y(t),r=Y(e),i=X(t),o=X(e),a=$(t),s=$(e);switch(n){case"Point":switch(r){case"Point":return Er(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Er(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(Er(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return En(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(En({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!En({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(En(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!En(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Ft(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!Cr(z(t),z(e)))return!1;for(;r<e.coordinates.length-1;r++)if(Ft({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!Cr(z(t),z(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Ft(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Ft(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Y(t),r=Y(e),i=X(t),o=X(e);switch(n){case"MultiPoint":switch(r){case"LineString":return Br(i,o);case"Polygon":return Tr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return Br(o,i);case"LineString":return function(t,e){if(nn(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),Ir(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return Nr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return Tr(o,i);case"LineString":return Nr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=or,t.booleanOverlap=Ur,t.booleanPointOnLine=En,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Y(t)===Y(e)&&new zs({precision:6}).compare(te(t),te(e))},t.booleanWithin=Bn,t.clone=Ot,t.cleanCoords=te,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(q(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Ot(t),r=r||3;var o=new Gs.DBSCAN,a=-1;return o.run(U(t),_(e,i),r,kt).forEach(function(e){a++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;q(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Ot(t));var o=U(t),a=o.slice(0,n),s=tu(o,n,a),u={};return s.centroids.forEach(function(t,e){u[e]=t}),S(t,function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=pn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Lr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Lr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=en(te(t)).features,r=en(te(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return m(an(t[0],t[1]))===m(an(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,u=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!x(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var c=K(t),h=K(n);switch(t=r(c),n=r(h),Y(u)){case"FeatureCollection":if(0===u.features.length)return s([c,h]);break;case"Polygon":u=l([e(X(u))]);break;default:throw new Error("invalid obstacles")}var d=u;d.features.push(t),d.features.push(n);var f=z(pr(le(z(d)),1.15));o||(o=kt([f[0],f[1]],[f[2],f[1]],i)/100),d.features.pop(),d.features.pop();for(var p=f[0],A=f[1],g=f[2],v=f[3],m=o/kt([p,A],[g,A],i)*(g-p),y=o/kt([p,A],[p,v],i)*(v-A),b=g-p,_=v-A,w=(b-Math.floor(b/m)*m)/2,E=[],B=[],N=[],T=[],I=1/0,F=1/0,S=v-(_-Math.floor(_/y)*y)/2,M=0;S>=A;){for(var U=[],Q=[],L=p+w,R=0;L<=g;){var k=r([L,S]),O=function(t,e){for(var n=0;n<e.features.length;n++)if(Ft(t,e.features[n]))return!0;return!1}(k,u);U.push(O?0:1),Q.push(L+"|"+S);var P=kt(k,t);!O&&P<I&&(I=P,N={x:R,y:M});var D=kt(k,n);!O&&D<F&&(F=D,T={x:R,y:M}),L+=m,R++}B.push(U),E.push(Q),S-=y,M++}var H=new kr(B,{diagonal:!0}),$=H.grid[N.y][N.x],V=H.grid[T.y][T.x],j=[c];return eu.search(H,$,V).forEach(function(t){var e=E[t.x][t.y].split("|");j.push([+e[0],+e[1]])}),j.push(h),te(s(j))},t.voronoi=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return q(t,"Point","points"),l(du().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(hi))},t.ellipse=di,t.centerMean=pi,t.centerMedian=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.counter||10;if(!x(n))throw new Error("counter must be a number");var r=e.weight,i=pi(t,{weight:e.weight}),o=l([]);return S(t,function(t){o.features.push(ge(t,{weight:t.properties[r]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},Ai(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!x(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=U(t).length,a=pi(t,{weight:r}),s=0,u=0,c=0;S(t,function(t){var e=t.properties[r]||1,n=gi($(t),$(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var h=s-u,d=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),f=2*c,p=Math.atan((h+d)/f),A=180*p/Math.PI,g=0,v=0,m=0;S(t,function(t){var e=t.properties[r]||1,n=gi($(t),$(a));g+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,v+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,m+=e});var y=Math.sqrt(2*g/m),b=Math.sqrt(2*v/m),_=di(a,y,b,{units:"degrees",angle:A,steps:n,properties:i}),w=Mt(t,l([_])),E={meanCenterCoordinates:$(a),semiMajorAxis:y,semiMinorAxis:b,numberOfFeatures:o,angle:A,percentageWithinEllipse:100*U(w).length/o};return _.properties.standardDeviationalEllipse=E,_},t.difference=function(t,n){var r=X(t),i=X(n),o=t.properties||{};if(r=$i(r),i=$i(i),!r)return null;if(!i)return e(r,o);var a=new wc,s=a.read(r),u=a.read(i),l=Ef.difference(s,u);return l.isEmpty()?null:e((new xc).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return Q(t,function(t){var n=xo(t,e,r,i);n&&o.push(n)}),l(o);case"FeatureCollection":return S(t,function(t){var n=xo(t,e,r,i);n&&S(n,function(t){t&&o.push(t)})}),l(o)}return xo(t,e,r,i)},t.union=To,t.intersect=Io,t.dissolve=function(t,e){if(e=e||{},!C(e))throw new Error("options is invalid");var n=e.propertyName;q(t,"Polygon","dissolve");var r=Ot(t),i=r.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var a=Je();a.load(r);for(var u in i){var l=i[u],c=!1;if(a.search(l).features.forEach(function(t){l=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=Fo(e,o);0!==r&&(e-=r)}if(e!==+u){var h=i[e];h&&l&&(void 0!==n&&h.properties[n]!==l.properties[n]||Ur(l,h)&&function(t,e){return nn(s(U(l)),s(U(e))).features.length>0}(0,h)&&(i[u]=To(l,h),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),a.remove(t),i.splice(e,1),l.properties.origIndexPosition=u,a.remove(l,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!l)continue;l.properties.origIndexPosition=u,a.insert(l),u--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=So,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return R(t,function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach(function(t){n.push(o([t]))})}),[l(e),l(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),R(e,function(t){r.push(t.geometry.coordinates[0])}),R(n,function(t){r.push(t.geometry.coordinates[0])}),o(r)}(n,i=Mo(i),a=Mo(a))},t.squareGrid=Qo,t.triangleGrid=Lo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(q(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=z(t);switch(r){case"point":case"points":a=In(s,e,n);break;case"square":case"squares":a=Qo(s,e,n);break;case"hex":case"hexes":a=So(s,e,n);break;case"triangle":case"triangles":a=Lo(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return S(a,function(e){var a=0,s=0;S(t,function(t){var u,l=kt("point"===r?e:ge(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(a=u);var c=1/Math.pow(l,o);s+=c,a+=c*u});var l=Ot(e);l.properties[i]=a/s,u.push(l)}),l(u)},t.pointOnSurface=gn,t.polygonToLineString=Dn,t.lineStringToPolygon=zn,t.inside=Ft,t.within=Mt,t.bezier=ue,t.nearest=Re,t.pointOnLine=on,t.lineDistance=xn,t.radians2degrees=y,t.degrees2radians=b,t.distanceToDegrees=v,t.distanceToRadians=g,t.radiansToDistance=A,t.bearingToAngle=m,t.convertDistance=_,t.toMercator=ln,t.toWgs84=cn,t.randomPosition=vi,t.randomPoint=mi,t.randomPolygon=yi,t.randomLineString=bi,t.getCluster=wi,t.clusterEach=xi,t.clusterReduce=Ci,t.createBins=Ei,t.applyFilter=Bi,t.propertiesContainsFilter=Ni,t.filterProperties=Ti,t.earthRadius=Ro,t.factors=ko,t.unitsFactors=Oo,t.areaFactors=Po,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=d,t.geometryCollection=f,t.round=p,t.radiansToLength=A,t.lengthToRadians=g,t.lengthToDegrees=v,t.bearingToAzimuth=m,t.radiansToDegrees=y,t.degreesToRadians=b,t.convertLength=_,t.convertArea=w,t.isNumber=x,t.isObject=C,t.validateBBox=E,t.validateId=B,t.getCoord=K,t.getCoords=$,t.containsNumber=V,t.geojsonType=j,t.featureOf=G,t.collectionOf=q,t.getGeom=X,t.getGeomType=W,t.getType=Y,t.coordEach=N,t.coordReduce=T,t.propEach=I,t.propReduce=F,t.featureEach=S,t.featureReduce=M,t.coordAll=U,t.geomEach=Q,t.geomReduce=L,t.flattenEach=R,t.flattenReduce=k,t.segmentEach=O,t.segmentReduce=P,t.lineEach=D,t.lineReduce=H,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){window.riot=e()}(0,function(){"use strict";function t(t,e){return(e||document).querySelector(t)}function e(t){return"svg"===t?document.createElementNS(we,t):document.createElement(t)}function n(t,e,n){var r=xe.exec(e);r&&r[1]?t.setAttributeNS(_e,r[1],n):t.setAttribute(e,n)}function r(t,e){return Object.getOwnPropertyDescriptor(t,e)}function i(t){return typeof t===ye}function o(t,e){var n=r(t,e);return i(t[e])||n&&n.writable}function a(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var a in e)o(t,a)&&(t[a]=e[a]);return t}function s(t){return Object.create(t)}function u(t,e){return[].slice.call((e||document).querySelectorAll(t))}function l(){return document.createTextNode("")}function c(t,e){t.style.display=e?"":"none",t.hidden=!e}function h(t,e){return t.getAttribute(e)}function d(t,e){t.removeAttribute(e)}function f(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+we+'">'+e+"</svg>","application/xml").documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function p(t,e){if(t)for(var n;n=Te.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function A(){return document.createDocumentFragment()}function g(t,e,n){t.insertBefore(e,n.parentNode&&n)}function v(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function m(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,m(t,e,i),t=r}}function y(t){return i(t)||null===t}function b(t){return y(t)||""===t}function _(t){return typeof t===be}function w(t){return t&&typeof t===me}function x(t){var e=t.ownerSVGElement;return!!e||null===e}function C(t){return Array.isArray(t)||t instanceof Array}function E(t){return Fe.test(t)}function B(t){return typeof t===ve}function N(t,e){return-1!==t.indexOf(e)}function T(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function I(t,e){return t.slice(0,e.length)===e}function F(t,e,n,r){return Object.defineProperty(t,e,a({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function S(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function M(t){console&&console.warn&&console.warn(t)}function U(t,e,n,r,o){var a=t[e],s=C(a),u=!i(o);if(!a||a!==n)if(!a&&r)t[e]=[n];else if(a)if(s){var l=a.indexOf(n);if(l===o)return;-1!==l&&a.splice(l,1),u?a.splice(o,0,n):a.push(n)}else t[e]=[a,n];else t[e]=n}function Q(t){return t.tagName&&ie[h(t,le)||h(t,le)||t.tagName.toLowerCase()]}function L(t,e){var n=Q(t),r=!e&&h(t,le);return r&&!Pe.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function R(){return this.parent?a(s(this),this.parent):this}function k(e,n,r){var i="o"===r[0],o=i?"select>":"table>";if(e.innerHTML="<"+o+n.trim()+"</"+o,o=e.firstChild,i)o.selectedIndex=-1;else{var a=We[r];a&&1===o.childElementCount&&(o=t(a,o))}return o}function O(t,e){if(!je.test(t))return t;var n={};return e=e&&e.replace(qe,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(Xe,function(t,e,r){return n[e]||r||""}).replace(Ge,function(t,n){return e||n||""})}function P(t,n,r){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),a=e(r?Ze:Je);return t=O(t,n),Ye.test(o)?a=k(a,t,o):f(a,t,r),a}function D(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function H(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(o(n,"currentTarget")&&(n.currentTarget=t),o(n,"target")&&(n.target=n.srcElement),o(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),He.autoUpdate&&!n.preventUpdate){var a=D(this);a.isMounted&&a.update()}}function z(t,e,n,r){var i,o=H.bind(r,n,e);n[t]=null,i=t.replace(Ne,""),N(r.__.listeners,n)||r.__.listeners.push(n),n[ge]||(n[ge]={}),n[ge][t]&&n.removeEventListener(i,n[ge][t]),n[ge][t]=o,n.addEventListener(i,o,!1)}function K(t,e,n,r){var i=Nt(t,e,n),o=e.tagName||L(e.root,!0),a=D(r);return F(i,"parent",a),i.__.parent=r,U(a.tags,o,i),a!==r&&U(r.tags,o,i),i}function $(t,e,n,r){if(C(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else t[e]===n&&delete t[e]}function V(t,e){var n,r,i=this,o=l(),a=l(),s=A();for(this.root.insertBefore(o,this.root.firstChild),this.root.appendChild(a),this.__.head=r=o,this.__.tail=a;r;)n=r.nextSibling,s.appendChild(r),i.__.virts.push(r),r=n;e?t.insertBefore(s,e.__.head):t.appendChild(s)}function j(t,e){var n=A();V.call(t,n),e.parentNode.replaceChild(n,e)}function G(t,e,r){var i,o=t.tag||t.dom._tag,a=(o?o.__:{}).head,s="VIRTUAL"===t.dom.tagName;o&&t.tagName===r?o.update():(o&&(s&&(i=l(),a.parentNode.insertBefore(i,a)),o.unmount(!0)),B(r)&&(t.impl=ie[r],t.impl&&(t.tag=o=K(t.impl,{root:t.dom,parent:e,tagName:r},t.dom.innerHTML,e),T(t.attrs,function(t){return n(o.root,t.name,t.value)}),t.tagName=r,o.mount(),s&&j(o,i||o.root),e.__.onUnmount=function(){var t=o.opts.dataIs;$(o.parent.tags,t,o),$(o.__.parent.tags,t,o),o.unmount()})))}function q(t){return t?(t=t.replace(se,""),Ie[t]&&(t=Ie[t]),t):null}function X(t){if(!this.root||!h(this.root,"virtualized")){var e,r=t.dom,i=q(t.attr),o=N([fe,pe],i),a=t.root&&"VIRTUAL"===t.root.tagName,s=this.__.isAnonymous,u=r&&(t.parent||r.parentNode),l="style"===i,f="class"===i;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),a&&j(t,t.root));else{if(t.update)return t.update();var p=o&&!s?R.call(this):this,A=!b(e=Pe(t.expr,p)),g=w(e);if(g&&(f?e=Pe(JSON.stringify(e),this):l&&(e=v(e))),!t.attr||t.wasParsedOnce&&A&&!1!==e||d(r,h(r,t.attr)?t.attr:i),t.bool&&(e=!!e&&i),t.isRtag)return G(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!g||f||l||o)){if(A||(e=""),!i)return e+="",void(u&&(t.parent=u,"TEXTAREA"===u.tagName?(u.value=e,Se||(r.nodeValue=e)):r.nodeValue=e));_(e)?z(i,e,r,this):o?c(r,i===pe?!e:e):(t.bool&&(r[i]=e),"value"===i&&r.value!==e?r.value=e:A&&!1!==e&&n(r,i,e),l&&r.hidden&&c(r,!1))}}}}function W(t){T(t,X.bind(this))}function Y(t,e,n,r,i){if(!t||!n){var o=t?R.call(this):e||this;T(i,function(t){t.expr&&X.call(o,t.expr),r[S(t.name).replace(se,"")]=t.expr?t.expr.value:t.value})}}function J(t,e,n){var r=t.__,i={},o=t.isMounted&&!r.skipAnonymous;return r.isAnonymous&&r.parent&&a(t,r.parent),a(t,e),Y.apply(t,[r.isLoop,r.parent,r.isAnonymous,i,r.instAttrs]),o&&t.isMounted&&_(t.shouldUpdate)&&!t.shouldUpdate(e,i)?t:(a(t.opts,i),o&&t.trigger("update",e),W.call(t,n),o&&t.trigger("updated"),t)}function Z(t){if(!t){var e=Object.keys(ie);return e+Z(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+le+'="'+n+'"]'},"")}function tt(t,e){var n=this,r=n.name,i=n.tmpl,o=n.css,a=n.attrs,s=n.onCreate;return ie[r]||(et(r,i,o,a,s),ie[r].class=this.constructor),Tt(t,r,e,this),o&&Re.inject(),this}function et(t,e,n,r,i){return _(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(_(n)?i=n:Re.add(n,t)),t=t.toLowerCase(),ie[t]={name:t,tmpl:e,attrs:r,fn:i},t}function nt(t,e,n,r,i){return n&&Re.add(n,t),ie[t]={name:t,tmpl:e,attrs:r,fn:i},t}function rt(t,e,r){function i(t){if(t.tagName){var o,a=h(t,le);e&&a!==e&&(a=e,n(t,le,e)),(o=Tt(t,a||t.tagName.toLowerCase(),r))&&s.push(o)}else t.length&&T(t,i)}var o,a,s=[];if(Re.inject(),w(e)&&(r=e,e=0),o=B(t)?(t="*"===t?a=Z():t+Z(t.split(/, */)))?u(t):[]:t,"*"===e){if(e=a||Z(),o.tagName)o=u(e,o);else{var l=[];T(o,function(t){return l.push(u(e,t))}),o=l}e=0}return i(o),s}function it(t,e,n){if(w(t))it("__"+nn+++"__",t,!0);else{var r=n?en:tn;if(!e){if(i(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=_(e)?a(e.prototype,r[t]||{})&&e:a(r[t]||{},e)}}function ot(){return T(re,function(t){return t.update()})}function at(t){return Re.remove(t),delete ie[t]}function st(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return T(e,function(e){var n,i,o=[],a=["init","__proto__"];e=B(e)?it(e):e,n=_(e)?new e:e;var s=Object.getPrototypeOf(n);do{o=o.concat(Object.getOwnPropertyNames(i||n))}while(i=Object.getPrototypeOf(i||n));T(o,function(e){if(!N(a,e)){var i=r(n,e)||r(s,e),o=i&&(i.get||i.set);!t.hasOwnProperty(e)&&o?Object.defineProperty(t,e,i):t[e]=_(n[e])?n[e].bind(t):n[e]}}),n.init&&n.init.bind(t)(t.opts)}),t}function ut(t,e){var n,r=this.parent;r&&(C(n=r.tags[t])?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):U(r.tags,t,this))}function lt(t,e){for(var n,r=this,i=this.__.head,o=A();i;)if(n=i.nextSibling,o.appendChild(i),(i=n)===r.__.tail){o.appendChild(i),t.insertBefore(o,e.__.head);break}}function ct(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function ht(t,e,n){for(var r=e.length,i=t.length-n;r>i;)r--,dt.apply(e[r],[e,r])}function dt(t,e){t.splice(e,1),this.unmount(),$(this.parent,this,this.__.tagName,!0)}function ft(t){var e=this;T(Object.keys(this.tags),function(n){ut.apply(e.tags[n],[n,t])})}function pt(t,e,n){n?lt.apply(this,[t,e]):g(t,this.root,e.root)}function At(t,e,n){n?V.apply(this,[t,e]):g(t,this.root,e.root)}function gt(t,e){e?V.call(this,t):t.appendChild(this.root)}function vt(t,e,n,r){return t?r?Pe(t,n):e[t]:e}function mt(t,e,n){var r=typeof h(t,de)!==ve||d(t,de),i=h(t,Ae),o=!!i&&Pe.hasExpr(i),u=L(t),c=ie[u],f=t.parentNode,p=l(),g=Q(t),v=h(t,ce),m=[],y=t.innerHTML,b=!ie[u],_="VIRTUAL"===t.tagName,w=[];return d(t,he),d(t,Ae),n=Pe.loopKeys(n),n.isLoop=!0,v&&d(t,ce),f.insertBefore(p,t),f.removeChild(t),n.update=function(){n.value=Pe(n.val,e);var l=n.value,h=A(),d=!C(l)&&!B(l),f=p.parentNode,x=[],E=d&&!!l;if(f){d&&(l=l?Object.keys(l).map(function(t){return ct(n,l[t],t)}):[]);var I=0;T(l,function(d,p){p-=I;var A=!E&&n.key?ct(n,d,p):d;if(!v||Pe(v,a(s(e),A))){var C=vt(i,d,A,o),B=r&&typeof d===me,T=w.indexOf(C),F=-1===T,S=!F&&B?T:p,M=m[S],Q=p>=w.length,L=B&&F||!B&&!M;L?((M=Nt(c,{parent:e,isLoop:!0,isAnonymous:b,tagName:u,root:t.cloneNode(b),item:A,index:p},y)).mount(),Q?gt.apply(M,[h||f,_]):At.apply(M,[f,m[p],_]),Q||w.splice(p,0,A),m.splice(p,0,M),g&&U(e.tags,u,M,!0)):S!==p&&B&&((i||N(l,w[S]))&&(pt.apply(M,[f,m[p],_]),m.splice(p,0,m.splice(S,1)[0]),w.splice(p,0,w.splice(S,1)[0])),n.pos&&(M[n.pos]=p),!g&&M.tags&&ft.call(M,p)),a(M.__,{item:A,index:p,parent:e}),x[p]=C,L||M.update(A)}else I++}),ht(l,m,I),w=x.slice(),f.insertBefore(h,p)}},n.unmount=function(){T(m,function(t){t.unmount()})},n}function yt(t,e,n,r){return s(on).init(t,e,n,r)}function bt(t){T(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}function _t(t,e,n){return s(an).init(t,e,n)}function wt(t,e){var r=this,i=[];return m(t,function(o){var a,s,u=o.nodeType;if((e||o!==t)&&(3===u&&"STYLE"!==o.parentNode.tagName&&Pe.hasExpr(o.nodeValue)&&i.push({dom:o,expr:o.nodeValue}),1===u)){var l="VIRTUAL"===o.tagName;if(a=h(o,he))return l&&n(o,"loopVirtual",!0),i.push(mt(o,r,a)),!1;if(a=h(o,ce))return i.push(_t(o,r,a)),!1;if((a=h(o,le))&&Pe.hasExpr(a))return i.push({isRtag:!0,expr:a,dom:o,attrs:[].slice.call(o.attributes)}),!1;if(s=Q(o),l&&(h(o,"virtualized")&&o.parentElement.removeChild(o),s||h(o,"virtualized")||h(o,"loopVirtual")||(s={tmpl:o.outerHTML})),s&&(o!==t||e)){var c=h(o,le);if(!l||c)return c&&l&&M("Virtual tags shouldn't be used together with the \""+le+'" attribute - https://github.com/riot/riot/issues/2511'),i.push(K(s,{root:o,parent:r},o.innerHTML,r)),!1;n(o,"virtualized",!0);var d=Nt({tmpl:o.outerHTML},{root:o,parent:r},o.innerHTML);i.push(d)}xt.apply(r,[o,o.attributes,function(t,e){e&&i.push(e)}])}}),i}function xt(t,e,n){var r=this;T(e,function(e){if(!e)return!1;var i,o=e.name,a=E(o);N(ue,o)&&t.tagName.toLowerCase()!==oe?i=yt(t,r,o,e.value):Pe.hasExpr(e.value)&&(i={dom:t,expr:e.value,attr:o,bool:a}),n(e,i)})}function Ct(t){var e=this.__.isAnonymous;F(this,"isMounted",t),e||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Et(t,e,r,i){var o=t.__,a=o.root;a._tag=t,xt.apply(o.parent,[a,a.attributes,function(e,n){!o.isAnonymous&&on.isPrototypeOf(n)&&(n.tag=t),e.expr=n,o.instAttrs.push(e)}]),p(o.impl.attrs,function(t,e){o.implAttrs.push({name:t,value:e})}),xt.apply(t,[a,o.implAttrs,function(t,e){e?r.push(e):n(a,t.name,t.value)}]),Y.apply(t,[o.isLoop,o.parent,o.isAnonymous,i,o.instAttrs]);var s=it(ae);if(s&&!o.skipAnonymous)for(var u in s)s.hasOwnProperty(u)&&t.mixin(s[u]);if(o.impl.fn&&o.impl.fn.call(t,i),o.skipAnonymous||t.trigger("before-mount"),T(wt.apply(t,[e,o.isAnonymous]),function(t){return r.push(t)}),t.update(o.item),!o.isAnonymous&&!o.isInline)for(;e.firstChild;)a.appendChild(e.firstChild);if(F(t,"root",a),!o.skipAnonymous&&t.parent){var l=D(t.parent);l.one(l.isMounted?"updated":"mount",function(){Ct.call(t,!0)})}else Ct.call(t,!0);return t.__.wasCreated=!0,t}function Bt(t,e,n){var r=t.__,i=r.root,o=re.indexOf(t),a=i.parentNode;if(r.skipAnonymous||t.trigger("before-unmount"),p(r.impl.attrs,function(t){I(t,se)&&(t=t.slice(se.length)),d(i,t)}),t.__.listeners.forEach(function(t){Object.keys(t[ge]).forEach(function(e){t.removeEventListener(e,t[ge][e])})}),-1!==o&&re.splice(o,1),r.parent&&!r.isAnonymous){var s=D(r.parent);r.isVirtual?Object.keys(t.tags).forEach(function(e){return $(s.tags,e,t.tags[e])}):$(s.tags,r.tagName,t)}return t.__.virts&&T(t.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),bt(n),T(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),e?f(i,""):a&&a.removeChild(i),r.onUnmount&&r.onUnmount(),t.isMounted||Ct.call(t,!0),Ct.call(t,!1),delete i._tag,t}function Nt(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var r,i=e.context||{},o=e.opts||{},s=e.parent,u=e.isLoop,l=!!e.isAnonymous,c=He.skipAnonymousTags&&l,h=e.item,d=e.index,f=[],p=[],A=t.tmpl,g=[],v=e.root,m=e.tagName||L(v),y="virtual"===m,b=!y&&!A;return b||u&&l?r=v:(y||(v.innerHTML=""),r=P(A,n,x(v))),c||De(i),t.name&&v._tag&&v._tag.unmount(!0),F(i,"__",{impl:t,root:v,skipAnonymous:c,implAttrs:p,isAnonymous:l,instAttrs:f,innerHTML:n,tagName:m,index:d,isLoop:u,isInline:b,item:h,parent:s,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",$e()],["root",v],["opts",o,{writable:!0,enumerable:!0}],["parent",s||null],["tags",{}],["refs",{}],["update",function(t){return J(i,t,g)}],["mixin",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return st.apply(void 0,[i].concat(t))}],["mount",function(){return Et(i,r,g,o)}],["unmount",function(t){return Bt(i,t,g)}]].reduce(function(t,e){var n=e[0],r=e[1],o=e[2];return F(i,n,r,o),t},a(i,h))}function Tt(t,e,n,r){var i,o=ie[e],u=ie[e].class,l=r||(u?s(u.prototype):{}),c=t._innerHTML=t._innerHTML||t.innerHTML,h=a({root:t,opts:n,context:l},{parent:n?n.parent:null});return o&&t&&(i=Nt(o,h,c)),i&&i.mount&&(i.mount(!0),N(re,i)||re.push(i)),i}function It(t){var e=arguments,n=t.source,r=t.global?"g":"";t.ignoreCase&&(r+="i"),t.multiline&&(r+="m");for(var i=1;i<arguments.length;i++)n=n.replace("@","\\"+e[i]);return new RegExp(n,r)}function Ft(t,e,n){var r=/[`$\\]/g;for(r.lastIndex=e;r.exec(t);){var i=r.lastIndex,o=t[i-1];if("`"===o)return i;if("$"===o&&"{"===t[i])return n.push("`","}"),i+1;r.lastIndex++}throw new Error("Unclosed ES6 template")}function St(t,e){for(var n,r,i,o,a,s,u=new RegExp(wn,"g"),l=Oe.skipRegex,c=0|e,h=[[]],d=[],f=u,p=f.lastIndex=c;s=f.exec(t);){if(o=s.index,a=f.lastIndex,r="",i=s[1]){if("{"===i)d.push("}");else if("}"===i){if(d.pop()!==i)throw new Error("Unexpected '}'");"`"===d[d.length-1]&&(i=d.pop())}else"/"===i&&(a=l(t,o))>o+1&&(r=t.slice(o,a));"`"===i&&(a=Ft(t,a,d),r=t.slice(o,a),f=d.length?n||(n=new RegExp(xn,"g")):u)}else"/"===(r=s[0])[0]?(r="*"===r[1]?" ":"",t=t.slice(c,o)+r+t.slice(a),a=o+r.length,r=""):2===r.length&&(r="");r&&(h[0].push(t.slice(p,o)),h.push(r),p=a),f.lastIndex=a}return h[0].push(t.slice(p)),h}function Mt(t){var e,n=Tn;for(1!==t.indexOf("\r")&&(t=t.replace(/\r\n?/g,"\n")),n.lastIndex=0;e=n.exec(t);)"<"===e[0][0]&&(t=RegExp.leftContext+RegExp.rightContext,n.lastIndex=e[3]+1);return t}function Ut(t,e){var n,r,i,o=[];for(Nn.lastIndex=0,t=t.replace(/\s+/g," ");n=Nn.exec(t);){var a=n[1].toLowerCase(),s=n[2];s?(s[0]!==Hn&&(s=Hn+(s[0]===zn?s.slice(1,-1):s)+Hn),"type"===a&&Qn.test(s)?r=s:(kn.test(s)&&("value"===a&&(i=1),-1!==Sn.indexOf(a)&&(a="riot-"+a)),o.push(a+"="+s))):o.push(a)}return r&&(i&&(r=Hn+e._bp[0]+zn+r.slice(1,-1)+zn+e._bp[1]+Hn),o.push("type="+r)),o.join(" ")}function Qt(t,e,n){var r=n._bp;if(t&&r[4].test(t)){for(var i,o=e.expr&&(e.parser||e.type)?Ot:0,a=Oe.split(t,0,r),s=1;s<a.length;s+=2)"^"===(i=a[s])[0]?i=i.slice(1):o&&";"===(i=o(i,e).trim()).slice(-1)&&(i=i.slice(0,-1)),a[s]=Pn+(n.push(i)-1)+r[1];t=a.join("")}return t}function Lt(t,e){return e.length&&(t=t.replace(On,function(t,n){return e._bp[0]+e[n].trim().replace(/[\r\n]+/g," ").replace(/"/g,Dn)})),t}function Rt(t,e,n){if(!/\S/.test(t))return"";if(t=Qt(t,e,n).replace(In,function(t,e,r,i){return e=e.toLowerCase(),i=i&&!Mn.test(e)?"></"+e:"",r&&(e+=" "+Ut(r,n)),"<"+e+i+">"}),!e.whitespace){var r=[];/<pre[\s>]/.test(t)&&(t=t.replace(Un,function(t){return r.push(t),""})),t=t.trim().replace(/\s+/g," "),r.length&&(t=t.replace(/\u0002/g,function(){return r.shift()}))}return e.compact&&(t=t.replace(Fn,"><$1")),Lt(t,n).replace(Rn,"")}function kt(t){var e,n,r,i,o,a,s=[],u=RegExp,l=St(t);for(t=l.shift().join("<%>");e=t.match(Kn);)s.push(u.leftContext),r=function(t){for(var e=/[{}]/g,n=1;n&&e.exec(t);)"{"===t[e.lastIndex-1]?++n:--n;return n?t.length:e.lastIndex}(t=u.rightContext),i=e[1],o=e[2]||"",a=e[3],a=(n=!/^(?:if|while|for|switch|catch|function)$/.test(a))?e[0].replace(i,"this."+a+" ="+o+" function"):e[0],s.push(a,t.slice(0,r)),t=t.slice(r),n&&!/^\s*.\s*bind\b/.test(t)&&s.push(".bind(this)");return s.length&&(t=s.join("")+t),l.length&&(t=t.replace(/<%>/g,function(){return l.shift()})),t}function Ot(t,e,n,r,i){return/\S/.test(t)?(n||(n=e.type),(e.parser||n&&bn._req("js."+n,!0)||kt)(t,r,i).replace(/\r\n?/g,"\n").replace(Rn,"")):""}function Pt(t,e){return e.replace($n,function(e,n,r){return r?(r=r.replace(/[^,]+/g,function(e){var n=e.trim();return 0===n.indexOf(t)?e:n&&"from"!==n&&"to"!==n&&"%"!==n.slice(-1)?n=n.indexOf(":scope")<0?t+" "+n+',[data-is="'+t+'"] '+n:n.replace(":scope",t)+","+n.replace(":scope",'[data-is="'+t+'"]'):e}),n?n+" "+r:r):e})}function Dt(t,e,n,r){return r=r||{},n&&"css"!==n&&(t=bn._req("css."+n,!0)(e,t,r.parserOpts||{},r.url)),t=t.replace(Oe.R_MLCOMMS,"").replace(/\s+/g," ").trim(),e&&(t=Pt(e,t)),t}function Ht(t,e){return t?(t=zn+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+zn,e&&-1!==t.indexOf("\n")?t.replace(/\n/g,"\\n"):t):"''"}function zt(t,e,n,r,i,o,a){var s=a.debug?",\n  ":", ",u="});";return i&&"\n"!==i.slice(-1)&&(u="\n"+u),o+"riot.tag2('"+t+zn+s+Ht(e,1)+s+Ht(n)+s+Ht(r)+", function(opts) {\n"+i+u}function Kt(t){if(/<[-\w]/.test(t))for(var e,n=t.lastIndexOf("<"),r=t.length;-1!==n;){if(e=t.slice(n,r).match(Gn))return n+=e.index+e[0].length,"<-/>\n"===(e=t.slice(0,n)).slice(-5)&&(e=e.slice(0,-5)),[e,t.slice(n)];r=n,n=t.lastIndexOf("<",n-1)}return["",t]}function $t(t){if(t){var e=t.match(Vn);if(e=e&&(e[2]||e[3]))return e.replace("text/","")}return""}function Vt(t,e){if(t){var n=t.match(RegExp("\\s"+e+jn,"i"));if(n=n&&n[1])return/^['"]/.test(n)?n.slice(1,-1):n}return""}function jt(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function Gt(t){var e=jt(Vt(t,"options"));return e?JSON.parse(e):null}function qt(t,e,n,r){var i=$t(n),o=Vt(n,"src"),a=Cn({},e.parserOptions.js);return!o&&Ot(t,e,i,Cn(a,Gt(n)),r)}function Xt(t,e,n,r,i){var o=Cn({},e.parserOptions.style),a={parserOpts:Cn(o,Gt(n)),url:r};return Dt(t,i,$t(n)||e.style,a)}function Wt(t,e,n,r){return bn._req("html."+n,!0)(t,r,e)}function Yt(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||!r.status&&r.responseText.length?e(r.responseText,n,t):te.error('"'+t+'" not found'))},r.onerror=function(t){return te.error(t)},r.open("GET",t,!0),r.send("")}function Jt(t,n){if(typeof t===ve){var r=e("script"),i=document.documentElement;n&&(t+="\n//# sourceURL="+n+".js"),r.text=t,i.appendChild(r),i.removeChild(r)}}function Zt(t,e){function n(){Qe.trigger("ready"),Le=!0,t&&t()}function r(t,e,r){Jt(Yn.compile(t,e,r),r),--o||n()}var i=u('script[type="riot/tag"]'),o=i.length;if(o)for(var s=0;s<i.length;++s){var l=i[s],c=a({template:h(l,"template")},e),d=h(l,"src")||h(l,"data-src");d?Yt(d,r,c):r(l.innerHTML,c)}else n()}function te(t,e,n){if(typeof t===ve){if(w(e)&&(n=e,e=!1),/^\s*</m.test(t)){var r=Yn.compile(t,n);return!0!==e&&Jt(r),_(e)&&e(r,t,n),r}Yt(t,function(t,n,r){var i=Yn.compile(t,n,r);Jt(i,r),e&&e(i,t,n)},n)}else if(C(t)){var i=t.length;t.forEach(function(t){Yt(t,function(t,n,r){var o=Yn.compile(t,n,r);Jt(o,r),!--i&&e&&e(o,t,n)},n)})}else{if(_(t)?(n=e,e=t):(n=t,e=void 0),Le)return e&&e();Qe?e&&Qe.on("ready",e):(Qe=De(),Zt(e,n))}}var ee,ne,re=[],ie={},oe="yield",ae="__global_mixin",se="riot-",ue=["ref","data-ref"],le="data-is",ce="if",he="each",de="no-reorder",fe="show",pe="hide",Ae="key",ge="__riot-events__",ve="string",me="object",ye="undefined",be="function",_e="http://www.w3.org/1999/xlink",we="http://www.w3.org/2000/svg",xe=/^xlink:(\w+)/,Ce=typeof window===ye?void 0:window,Ee=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Be=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ne=/^on/,Te=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ie={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Fe=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Se=0|(Ce&&Ce.document||{}).documentMode,Me={},Ue=!1;Ce&&(ee=function(){var r=e("style"),i=t("style[type=riot]");return n(r,"type","text/css"),i?(i.id&&(r.id=i.id),i.parentNode.replaceChild(r,i)):document.head.appendChild(r),r}(),ne=ee.styleSheet);var Qe,Le,Re={styleNode:ee,add:function(t,e){Me[e]=t,Ue=!0},inject:function(){if(Ce&&Ue){Ue=!1;var t=Object.keys(Me).map(function(t){return Me[t]}).join("\n");ne?ne.cssText=t:ee.innerHTML=t}},remove:function(t){delete Me[t],Ue=!0}},ke=function(){function t(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}var e="[{(,;:?=|&!^~>%*/",n=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],r=n.reduce(function(t,e){return t+e.slice(-1)},""),i=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,o=/[$\w]/;return function(a,s){var u=/.*/g,l=u.lastIndex=s++,c=u.exec(a)[0].match(i);if(c){var h=l+c[0].length,d=a[l=t(a,l)];if(l<0||~e.indexOf(d))return h;if("."===d)"."===a[l-1]&&(s=h);else if("+"===d||"-"===d)(a[--l]!==d||(l=t(a,l))<0||!o.test(a[l]))&&(s=h);else if(~r.indexOf(d)){for(var f=l+1;--l>=0&&o.test(a[l]););~n.indexOf(a.slice(l+1,f))&&(s=h)}}return s}}(),Oe=function(t){function e(t){return t}function n(t,e){return e||(e=y),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?u:"")}function r(t){if(t===g)return v;var e=t.split(" ");if(2!==e.length||d.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(f,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:v[4],e),e[5]=n(t.length>3?/\\({|})/g:v[5],e),e[6]=n(v[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,u),e[8]=t,e}function i(t){return t instanceof RegExp?a(t):y[t]}function o(t){(t||(t=g))!==y[8]&&(y=r(t),a=t===g?e:n,y[9]=a(v[9])),m=t}var a,s,u="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,c=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,h=c.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),f=/(?=[[\]()*+?.^$|])/g,p=c.source+"|"+/(\/)(?![*\/])/.source,A={"(":RegExp("([()])|"+p,u),"[":RegExp("([[\\]])|"+p,u),"{":RegExp("([{}])|"+p,u)},g="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,u),g,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=void 0,y=[];return i.split=function(t,e,n){function r(t){p&&(t=p+t,p=""),e||a?h.push(t&&t.replace(n[5],"$1")):h.push(t)}function i(n,r,i){return i&&(r=ke(t,n)),e&&r>n+2&&(l="⁗"+f.length+"~",f.push(t.slice(n,r)),p+=t.slice(s,n)+l,s=r),r}n||(n=y);var o,a,s,u,l,c,h=[],d=n[6],f=[],p="";for(a=s=d.lastIndex=0;o=d.exec(t);){if(c=d.lastIndex,u=o.index,a){if(o[2]){var g=o[2],v=A[g],m=1;for(v.lastIndex=c;o=v.exec(t);)if(o[1]){if(o[1]===g)++m;else if(!--m)break}else v.lastIndex=i(o.index,v.lastIndex,o[2]);d.lastIndex=m?t.length:v.lastIndex;continue}if(!o[3]){d.lastIndex=i(u,c,o[4]);continue}}o[1]||(r(t.slice(s,u)),s=d.lastIndex,(d=n[6+(a^=1)]).lastIndex=s)}return t&&s<t.length&&r(t.slice(s)),h.qblocks=f,h},i.hasExpr=function(t){return y[4].test(t)},i.loopKeys=function(t){var e=t.match(y[9]);return e?{key:e[1],pos:e[2],val:y[0]+e[3].trim()+y[1]}:{val:t.trim()}},i.array=function(t){return t?r(t):y},Object.defineProperty(i,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return m},enumerable:!0}),s=t,o(e)},get:function(){return s}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.skipRegex=ke,i.R_STRINGS=c,i.R_MLCOMMS=l,i.S_QBLOCKS=h,i.S_QBLOCK2=p,i}(),Pe=function(){function t(t,r){return t?(a[t]||(a[t]=n(t))).call(r,e.bind({data:r,tmpl:t})):t}function e(e,n){e.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},t.errorHandler?t.errorHandler(e):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(e.message),console.log("<%s> %s",e.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function n(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,n=Oe.split(t.replace(s,'"'),1),r=n.qblocks;if(n.length>2||n[0]){var o,a,l=[];for(o=a=0;o<n.length;++o)(e=n[o])&&(e=1&o?i(e,1,r):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(l[a++]=e);e=a<2?l[0]:"["+l.join(",")+'].join("")'}else e=i(n[1],0,r);return r.length&&(e=e.replace(u,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,i=[],a=0;t&&(r=t.match(l))&&!r.index;){var s,u,h=/,|([[{(])|$/g;for(t=RegExp.rightContext,s=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];u=(r=h.exec(t))[1];)!function(e,n){var r,i=1,o=c[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}(u,h);u=t.slice(0,r.index),t=RegExp.rightContext,i[a++]=o(u,1,s)}t=a?a>1?"["+i.join(",")+'].join(" ").trim()':i[0]:o(t,e)}return t}function o(t,e,n){var r;return t=t.replace(d,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+h+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!f.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var a={};t.hasExpr=Oe.hasExpr,t.loopKeys=Oe.loopKeys,t.clearCache=function(){a={}},t.errorHandler=null;var s=/\u2057/g,u=/\u2057(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof window?"global":"window")+").",d=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,f=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=Oe.version="v3.0.8",t}(),De=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,s=arguments,u=arguments.length-1,l=new Array(u);for(a=0;a<u;a++)l[a]=s[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,l);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(l)),t},enumerable:!1,writable:!1,configurable:!1}}),t},He=a(s(Oe.settings),{skipAnonymousTags:!0,autoUpdate:!0}),ze=Object.freeze({$$:u,$:t,createDOMPlaceholder:l,mkEl:e,setAttr:n,toggleVisibility:c,getAttr:h,remAttr:d,setInnerHTML:f,walkAttrs:p,createFrag:A,safeInsert:g,styleObjectToString:v,walkNodes:m}),Ke=Object.freeze({isBlank:b,isFunction:_,isObject:w,isSvg:x,isWritable:o,isArray:C,isBoolAttr:E,isNil:y,isString:B,isUndefined:i}),$e=function(){var t=-1;return function(){return++t}}(),Ve=Object.freeze({contains:N,each:T,getPropDescriptor:r,startsWith:I,uid:$e,defineProperty:F,objectCreate:s,extend:a,toCamel:S,warn:M}),je=/<yield\b/i,Ge=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,qe=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Xe=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,We={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Ye=Se&&Se<10?Ee:Be,Je="div",Ze="svg",tn={},en=tn[ae]={},nn=0,rn=Object.freeze({Tag:tt,tag:et,tag2:nt,mount:rt,mixin:it,update:ot,unregister:at,version:"v3.10.0"}),on={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=Pe.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&D(this.parent),r=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Pe(this.rawValue,this.parent):this.rawValue,!b(t)&&e&&$(e.refs,t,r),!b(this.value)&&B(this.value)?(e&&U(e.refs,this.value,r,null,this.parent.__.index),this.value!==t&&n(this.dom,this.attr,this.value)):d(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=r)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&D(this.parent);!b(this.value)&&e&&$(e.refs,this.value,t)}},an={init:function(t,e,n){d(t,ce),a(this,{tag:e,expr:n,stub:l(),pristine:t});var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=Pe(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=wt.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&W.call(this.tag,this.expressions)},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),bt(this.expressions||[])}},sn=Object.freeze({arrayishAdd:U,getTagName:L,inheritParentProps:R,mountTo:Tt,selectTags:Z,arrayishRemove:$,getTag:Q,initChildTag:K,moveChildTag:ut,makeReplaceVirtual:j,getImmediateCustomParentTag:D,makeVirtual:V,moveVirtual:lt,unmountAll:bt,createIfDirective:_t,createRefDirective:yt}),un=He,ln={tmpl:Pe,brackets:Oe,styleManager:Re,vdom:re,styleNode:Re.styleNode,dom:ze,check:Ke,misc:Ve,tags:sn},cn=tt,hn=et,dn=nt,fn=rt,pn=it,An=ot,gn=at,vn=De,mn=a({},rn,{observable:De,settings:un,util:ln}),yn=Object.freeze({settings:un,util:ln,Tag:cn,tag:hn,tag2:dn,mount:fn,mixin:pn,update:An,unregister:gn,version:"v3.10.0",observable:vn,default:mn}),bn=function(t){function e(e){var n=t[e];if(n)return n;throw new Error('Parser "'+e+'" not loaded.')}function n(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function r(t,r,i,o){return i=n({pretty:!0,filename:o,doctype:"html"},i),e(t).render(r,i)}var i={};return i.html={jade:function(t,e,n){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),r("jade",t,e,n)},pug:function(t,e,n){return r("pug",t,e,n)}},i.css={less:function(t,r,i,o){var a;return i=n({sync:!0,syncImport:!0,filename:o},i),e("less").render(r,i,function(t,e){if(t)throw t;a=e.css}),a}},i.js={es6:function(t,r,i){return e("Babel").transform(t,n({plugins:[["transform-es2015-template-literals",{loose:!0}],"transform-es2015-literals","transform-es2015-function-name","transform-es2015-arrow-functions","transform-es2015-block-scoped-functions",["transform-es2015-classes",{loose:!0}],"transform-es2015-object-super","transform-es2015-shorthand-properties","transform-es2015-duplicate-keys",["transform-es2015-computed-properties",{loose:!0}],["transform-es2015-for-of",{loose:!0}],"transform-es2015-sticky-regex","transform-es2015-unicode-regex","check-es2015-constants",["transform-es2015-spread",{loose:!0}],"transform-es2015-parameters",["transform-es2015-destructuring",{loose:!0}],"transform-es2015-block-scoping","transform-es2015-typeof-symbol",["transform-es2015-modules-commonjs",{allowTopLevelThis:!0}],["transform-regenerator",{async:!1,asyncGenerators:!1}]]},r)).code},buble:function(t,r,i){return r=n({source:i,modules:!1},r),e("buble").transform(t,r).code},coffee:function(t,r){return e("CoffeeScript").compile(t,n({bare:!0},r))},livescript:function(t,r){return e("livescript").compile(t,n({bare:!0,header:!1},r))},typescript:function(t,n){return e("typescript")(t,n)},none:function(t){return t}},i.js.javascript=i.js.none,i.js.coffeescript=i.js.coffee,i._req=function(t){var e=t.split(".");if(2!==e.length)throw new Error("Bad format for parsers._req");var n=i[e[0]][e[1]];if(n)return n;throw new Error('Parser "'+t+'" not found.')},i.utils={extend:n},i}(window||global),_n=/'[^'\n\r\\]*(?:\\(?:\r\n?|[\S\s])[^'\n\r\\]*)*'/.source,wn=[/\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//.source,"//.*",_n,_n.replace(/'/g,'"'),"([/`])"].join("|"),xn=wn.slice(0,-2)+"{}])",Cn=bn.utils.extend,En=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Bn=Oe.R_STRINGS.source,Nn=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,Tn=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+En,"g"),In=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"/>]*)*)|\s*)(\/?)>/g,Fn=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Sn=["style","src","d","value"],Mn=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Un=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,Qn=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Ln=/^\s*import(?!\w)(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Rn=/[ \t]+$/gm,kn=It(/@#\d/,"x01"),On=It(/@#(\d+)/g,"x01"),Pn="#",Dn="⁗",Hn='"',zn="'",Kn=/^[ \t]*(((?:async|\*)\s*)?([$_A-Za-z][$\w]*))\s*\([^()]*\)\s*{/m,$n=RegExp("([{}]|^)[; ]*((?:[^@ ;{}][^{}]*)?[^@ ;{}:] ?)(?={)|"+En,"g"),Vn=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,jn="\\s*=\\s*("+Bn+"|{[^}]+}|\\S+)",Gn=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,qn=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"/>]+(?:(?:@|\/[^>])[^'"/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Bn),"gim"),Xn=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,Wn=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,Yn={compile:function(t,e,n){var r,i=[],o=t,a={template:{},js:{},style:{}};e||(e={}),e.parserOptions=Cn(a,e.parserOptions||{}),r=e.exclude?function(t){return e.exclude.indexOf(t)<0}:function(){return 1},n||(n="");var s=Oe.array(e.brackets);return e.template&&(o=Wt(o,n,e.template,e.parserOptions.template)),o=Mt(o).replace(qn,function(t,o,a,u,l,c){var h="",d="",f="",p="",A=[];if(A._bp=s,a=a.toLowerCase(),u=u&&r("attribs")?Lt(Ut(Qt(u,e,A),A),A):"",(l||(l=c))&&/\S/.test(l))if(c)r("html")&&(f=Rt(c,e,A));else{var g=Kt((l=(l=(l=l.replace(RegExp("^"+o,"gm"),"")).replace(Xn,function(t,i,o){if(r("js")){var a=qt(o,e,i,n);a&&(h+=(h?"\n":"")+a)}return""})).replace(Wn,function(t,i,o){return r("css")&&(d+=(d?" ":"")+Xt(o,e,i,n,a)),""})).replace(Rn,""));r("html")&&(f=Rt(g[0],e,A)),r("js")&&((l=Ot(g[1],e,null,null,n))&&(h+=(h?"\n":"")+l),h=h.replace(Ln,function(t){return p+=t.trim()+"\n",""}))}return h=/\S/.test(h)?h.replace(/\n{3,}/g,"\n\n"):"",e.entities?(i.push({tagName:a,html:f,css:d,attribs:u,js:h,imports:p}),""):zt(a,f,d,u,h,p,e)}),e.entities?i:o},compileHTML:function(t,e,n){return Array.isArray(e)?(n=e,e={}):(n||(n=[]),e||(e={})),n._bp=Oe.array(e.brackets),Rt(Mt(t),e,n)},compileCSS:function(t,e,n){return e&&"object"==typeof e?(n=e,e=""):n||(n={}),Dt(t,n.tagName,e,n)},compileJS:function(t,e,n,r){return"string"==typeof e&&(r=n,n=e,e={}),n&&"object"==typeof n&&(r=n,n=""),r||(r={}),Ot(t,e||{},n,r.parserOptions,r.url)},parsers:bn,version:"v3.4.0"},Jn=Yn.parsers;return te.error=function(t){throw new Error(t)},a({},yn,{mount:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n;return te(function(){n=fn.apply(yn,t)}),n},compile:te,parsers:Jn})}),function(){function t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function e(t){return null!=t&&!isNaN(t)}function n(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function r(t){return t.length}function i(t){for(var e=1;t*e%1;)e*=10;return e}function o(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(n){t.prototype=e}}function a(){}function s(t){return Ro+t in this}function u(){var t=[];return this.forEach(function(e){t.push(e)}),t}function l(){var t=0;for(var e in this)e.charCodeAt(0)===ko&&++t;return t}function c(){for(var t in this)if(t.charCodeAt(0)===ko)return!1;return!0}function h(){}function d(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function f(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=Oo.length;n<r;++n){var i=Oo[n]+e;if(i in t)return i}}function p(){}function A(){}function g(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new a;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function v(){xo.event.preventDefault()}function m(){for(var t,e=xo.event;t=e.sourceEvent;)e=t;return e}function y(t){for(var e=new A,n=0,r=arguments.length;++n<r;)e[arguments[n]]=g(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=xo.event;i.target=t,xo.event=i,e[i.type].apply(n,r)}finally{xo.event=o}}},e}function b(t){return Do(t,Vo),t}function _(t){return"function"==typeof t?t:function(){return Ho(t,this)}}function w(t){return"function"==typeof t?t:function(){return zo(t,this)}}function x(t,e){return t=xo.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function C(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+xo.requote(t)+"(?:\\s+|$)","g")}function B(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){var n=(t=B(t).map(T)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function T(t){var e=E(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",C(i+" "+t))):n.setAttribute("class",C(i.replace(e," ")))}}function I(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function F(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function S(t){return"function"==typeof t?t:(t=xo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function M(t){return{__data__:t}}function U(t){return function(){return $o(this,t)}}function Q(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function L(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function R(t){return Do(t,Go),t}function k(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function O(){var t=this.__transition__;t&&++t.active}function P(t,e,n){function r(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}var i="__on"+t,o=t.indexOf("."),a=D;o>0&&(t=t.substring(0,o));var s=Xo.get(t);return s&&(t=s,a=H),o?e?function(){var o=a(e,Eo(arguments));r.call(this),this.addEventListener(t,this[i]=o,o.$=n),o._=e}:r:e?p:function(){var e,n=new RegExp("^__on([^.]+)"+xo.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}function D(t,e){return function(n){var r=xo.event;xo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{xo.event=r}}}function H(t,e){var n=D(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function z(){var t=".dragsuppress-"+ ++Yo,e="click"+t,n=xo.select(To).on("touchmove"+t,v).on("dragstart"+t,v).on("selectstart"+t,v);if(Wo){var r=No.style,i=r[Wo];r[Wo]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),Wo&&(r[Wo]=i),o&&(n.on(e,function(){v(),a()},!0),setTimeout(a,0))}}function K(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Jo<0&&(To.scrollX||To.scrollY)){var i=(n=xo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Jo=!(i.f||i.e),n.remove()}return Jo?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function $(){return xo.event.changedTouches[0].identifier}function V(){return xo.event.target}function j(){return To}function G(t){return t>0?1:t<0?-1:0}function q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function X(t){return t>1?0:t<-1?Zo:Math.acos(t)}function W(t){return t>1?ea:t<-1?-ea:Math.asin(t)}function Y(t){return((t=Math.exp(t))-1/t)/2}function J(t){return((t=Math.exp(t))+1/t)/2}function Z(t){return((t=Math.exp(2*t))-1)/(t+1)}function tt(t){return(t=Math.sin(t/2))*t}function et(){}function nt(t,e,n){return this instanceof nt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof nt?new nt(t.h,t.s,t.l):gt(""+t,vt,nt):new nt(t,e,n)}function rt(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new dt(i(t+120),i(t),i(t-120))}function it(t,e,n){return this instanceof it?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof it?new it(t.h,t.c,t.l):t instanceof at?ut(t.l,t.a,t.b):ut((t=mt((t=xo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new it(t,e,n)}function ot(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new at(n,Math.cos(t*=ia)*e,Math.sin(t)*e)}function at(t,e,n){return this instanceof at?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof at?new at(t.l,t.a,t.b):t instanceof it?ot(t.l,t.c,t.h):mt((t=dt(t)).r,t.g,t.b):new at(t,e,n)}function st(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=lt(i)*pa,r=lt(r)*Aa,o=lt(o)*ga,new dt(ht(3.2404542*i-1.5371385*r-.4985314*o),ht(-.969266*i+1.8760108*r+.041556*o),ht(.0556434*i-.2040259*r+1.0572252*o))}function ut(t,e,n){return t>0?new it(Math.atan2(n,e)*oa,Math.sqrt(e*e+n*n),t):new it(NaN,NaN,t)}function lt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ct(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ht(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function dt(t,e,n){return this instanceof dt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof dt?new dt(t.r,t.g,t.b):gt(""+t,dt,rt):new dt(t,e,n)}function ft(t){return new dt(t>>16,t>>8&255,255&t)}function pt(t){return ft(t)+""}function At(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function gt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(bt(i[0]),bt(i[1]),bt(i[2]))}return(o=ya.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.substring(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function vt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new nt(r,i,u)}function mt(t,e,n){var r=ct((.4124564*(t=yt(t))+.3575761*(e=yt(e))+.1804375*(n=yt(n)))/pa),i=ct((.2126729*t+.7151522*e+.072175*n)/Aa);return at(116*i-16,500*(r-i),200*(i-ct((.0193339*t+.119192*e+.9503041*n)/ga)))}function yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function _t(t){return"function"==typeof t?t:function(){return t}}function wt(t){return t}function xt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ct(e,n,t,r)}}function Ct(t,e,n,r){function i(){var t,e=u.status;if(!e&&u.responseText||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=xo.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!To.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=xo.event;xo.event=t;try{a.progress.call(o,u)}finally{xo.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Eo(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},xo.rebind(o,a,"on"),null==r?o:o.get(Et(r))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Bt(){var t=Nt(),e=Tt()-t;e>24?(isFinite(e)&&(clearTimeout(xa),xa=setTimeout(Bt,e)),wa=0):(wa=1,Ea(Bt))}function Nt(){var t=Date.now();for(Ca=ba;Ca;)t>=Ca.t&&(Ca.f=Ca.c(t-Ca.t)),Ca=Ca.n;return t}function Tt(){for(var t,e=ba,n=1/0;e;)e.f?e=t?t.n=e.n:ba=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return _a=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r?function(t){for(var e=t.length,i=[],o=0,a=r[0];e>0&&a>0;)i.push(t.substring(e-=a,e+a)),a=r[o=(o+1)%r.length];return i.reverse().join(n)}:wt;return function(t){var n=Na.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"",u=n[4]||"",l=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,A="",g="",v=!1;switch(d&&(d=+d.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="=",h&&(c-=Math.floor((c-1)/4))),f){case"n":h=!0,f="g";break;case"%":p=100,g="%",f="f";break;case"p":p=100,g="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(A="0"+f.toLowerCase());case"c":case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===u&&(A=i[0],g=i[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=Ta.get(f)||St;var m=l&&h;return function(t){var n=g;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):s;if(p<0){var u=xo.formatPrefix(t,d);t=u.scale(t),n=u.symbol+g}else t*=p;var y=(t=f(t,d)).lastIndexOf("."),b=y<0?t:t.substring(0,y),_=y<0?"":e+t.substring(y+1);!l&&h&&(b=o(b));var w=A.length+b.length+_.length+(m?0:i.length),x=w<c?new Array(w=c-w+1).join(r):"";return m&&(b=o(x+b)),i+=A,t=b+_,("<"===a?i+t+x:">"===a?x+i+t:"^"===a?x.substring(0,w>>=1)+i+t+x.substring(w):i+(m?t:x+t))+n}}}function St(t){return t+""}function Mt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ut(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Fa(n-1)),1),n}function o(t,n){return e(t=new Fa(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=Qt(t);return s.floor=s,s.round=Qt(r),s.ceil=Qt(i),s.offset=Qt(o),s.range=function(t,e,n){try{Fa=Mt;var r=new Mt;return r._=t,a(r,e,n)}finally{Fa=Date}},t}function Qt(t){return function(e,n){try{Fa=Mt;var r=new Mt;return r._=e,t(r,n)._}finally{Fa=Date}}}function Lt(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(i=Ma[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=b[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.substring(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&Fa!==Mt,o=new(i?Mt:Fa);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),i?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=_[a in Ma?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var r=t.dateTime,i=t.date,o=t.time,a=t.periods,s=t.days,u=t.shortDays,l=t.months,c=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(Fa=Mt);return e._=t,r(e)}finally{Fa=Date}}var r=e(t);return n.parse=function(t){try{Fa=Mt;var e=r.parse(t);return e&&e._}finally{Fa=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ee;var h=xo.map(),d=kt(s),f=Ot(s),p=kt(u),A=Ot(u),g=kt(l),v=Ot(l),m=kt(c),y=Ot(c);a.forEach(function(t,e){h.set(t.toLowerCase(),e)});var b={a:function(t){return u[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:e(r),d:function(t,e){return Rt(t.getDate(),e,2)},e:function(t,e){return Rt(t.getDate(),e,2)},H:function(t,e){return Rt(t.getHours(),e,2)},I:function(t,e){return Rt(t.getHours()%12||12,e,2)},j:function(t,e){return Rt(1+Ia.dayOfYear(t),e,3)},L:function(t,e){return Rt(t.getMilliseconds(),e,3)},m:function(t,e){return Rt(t.getMonth()+1,e,2)},M:function(t,e){return Rt(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return Rt(t.getSeconds(),e,2)},U:function(t,e){return Rt(Ia.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Rt(Ia.mondayOfYear(t),e,2)},x:e(i),X:e(o),y:function(t,e){return Rt(t.getFullYear()%100,e,2)},Y:function(t,e){return Rt(t.getFullYear()%1e4,e,4)},Z:Zt,"%":function(){return"%"}},_={a:function(t,e,n){p.lastIndex=0;var r=p.exec(e.substring(n));return r?(t.w=A.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){d.lastIndex=0;var r=d.exec(e.substring(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){m.lastIndex=0;var r=m.exec(e.substring(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){g.lastIndex=0;var r=g.exec(e.substring(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,r){return n(t,b.c.toString(),e,r)},d:Gt,e:Gt,H:Xt,I:Xt,j:qt,L:Jt,m:jt,M:Wt,p:function(t,e,n){var r=h.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:Yt,U:Dt,w:Pt,W:Ht,x:function(t,e,r){return n(t,b.x.toString(),e,r)},X:function(t,e,r){return n(t,b.X.toString(),e,r)},y:Kt,Y:zt,Z:$t,"%":te};return e}function Rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function kt(t){return new RegExp("^(?:"+t.map(xo.requote).join("|")+")","i")}function Ot(t){for(var e=new a,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Pt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ht(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function zt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.y=Vt(+r[0]),n+r[0].length):-1}function $t(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Vt(t){return t+(t>68?1900:2e3)}function jt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Xt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jt(t,e,n){Ua.lastIndex=0;var r=Ua.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zt(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(Lo(e)/60),i=Lo(e)%60;return n+Rt(r,"0",2)+Rt(i,"0",2)}function te(t,e,n){Qa.lastIndex=0;var r=Qa.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function ee(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ne(){}function re(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ie(t,e){t&&Oa.hasOwnProperty(t.type)&&Oa[t.type](t,e)}function oe(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ae(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)oe(t[n],e,1);e.polygonEnd()}function se(){function t(t,e){e=e*ia/2+Zo/4;var n=(t*=ia)-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=i*u+c*Math.cos(s),d=c*a*Math.sin(s);Da.add(Math.atan2(d,h)),r=t,i=u,o=l}var e,n,r,i,o;Ha.point=function(a,s){Ha.point=t,r=(e=a)*ia,i=Math.cos(s=(n=s)*ia/2+Zo/4),o=Math.sin(s)},Ha.lineEnd=function(){t(e,n)}}function ue(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function le(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ce(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function he(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function de(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function fe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function pe(t){return[Math.atan2(t[1],t[0]),W(t[2])]}function Ae(t,e){return Lo(t[0]-e[0])<na&&Lo(t[1]-e[1])<na}function ge(t,e){t*=ia;var n=Math.cos(e*=ia);ve(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ve(t,e,n){$a+=(t-$a)/++za,Va+=(e-Va)/za,ja+=(n-ja)/za}function me(){function t(t,i){t*=ia;var o=Math.cos(i*=ia),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);Ka+=l,Ga+=l*(e+(e=a)),qa+=l*(n+(n=s)),Xa+=l*(r+(r=u)),ve(e,n,r)}var e,n,r;Za.point=function(i,o){i*=ia;var a=Math.cos(o*=ia);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Za.point=t,ve(e,n,r)}}function ye(){Za.point=ge}function be(){function t(t,e){t*=ia;var n=Math.cos(e*=ia),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,d=Math.sqrt(l*l+c*c+h*h),f=r*a+i*s+o*u,p=d&&-X(f)/d,A=Math.atan2(d,f);Wa+=p*l,Ya+=p*c,Ja+=p*h,Ka+=A,Ga+=A*(r+(r=a)),qa+=A*(i+(i=s)),Xa+=A*(o+(o=u)),ve(r,i,o)}var e,n,r,i,o;Za.point=function(a,s){e=a,n=s,Za.point=t,a*=ia;var u=Math.cos(s*=ia);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),ve(r,i,o)},Za.lineEnd=function(){t(e,n),Za.lineEnd=ye,Za.point=ge}}function _e(){return!0}function we(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ae(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new Ce(n,t,null,!0),l=new Ce(n,null,u,!1);u.o=l,o.push(u),a.push(l),l=new Ce(r,null,u=new Ce(r,t,null,!1),!0),u.o=l,o.push(u),a.push(l)}}}),a.sort(e),xe(o),xe(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(s=(c=f.p.z).length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function xe(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ce(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ee(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);g.point(n[0],n[1])}function u(){m.point=s,g.lineStart()}function l(){m.point=a,g.lineEnd()}function c(t,e){A.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),A=[]}function d(){c(A[0][0],A[0][1]),b.lineEnd();var t,e=b.clean(),n=y.buffer(),r=n.length;if(A.pop(),p.push(A),A=null,r)if(1&e){var i,a=-1;if((r=(t=n[0]).length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Be))}var f,p,A,g=e(o),v=i.invert(r[0],r[1]),m={point:a,lineStart:u,lineEnd:l,polygonStart:function(){m.point=c,m.lineStart=h,m.lineEnd=d,f=[],p=[]},polygonEnd:function(){m.point=a,m.lineStart=u,m.lineEnd=l,f=xo.merge(f);var t=Ie(v,p);f.length?(_||(o.polygonStart(),_=!0),we(f,Te,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},y=Ne(),b=e(y),_=!1;return m}}function Be(t){return t.length>1}function Ne(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:p,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Te(t,e){return((t=t.x)[0]<0?t[1]-ea-na:ea-t[1])-((e=e.x)[0]<0?e[1]-ea-na:ea-e[1])}function Ie(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Da.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],d=h[0],f=h[1]/2+Zo/4,p=Math.sin(f),A=Math.cos(f),g=1;;){g===c&&(g=0);var v=(t=l[g])[0],m=t[1]/2+Zo/4,y=Math.sin(m),b=Math.cos(m),_=v-d,w=_>=0?1:-1,x=w*_,C=x>Zo,E=p*y;if(Da.add(Math.atan2(E*w*Math.sin(x),A*b+E*Math.cos(x))),o+=C?_+w*ta:_,C^d>=n^v>=n){var B=ce(ue(h),ue(t));fe(B);var N=ce(i,B);fe(N);var T=(C^_>=0?-1:1)*W(N[2]);(r>T||r===T&&(B[0]||B[1]))&&(a+=C^_>=0?1:-1)}if(!g++)break;d=v,p=y,A=b,h=t}}return(o<-na||o<na&&Da<0)^1&a}function Fe(t,e,n,r){var i,o,a=Math.sin(t-n);return Lo(a)>na?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Se(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t,e,n){var r=[1,0,0],o=ce(ue(t),ue(e)),a=le(o,o),s=o[0],u=a-s*s;if(!u)return!n&&t;var l=i*a/u,c=-i*s/u,h=ce(r,o),d=de(r,l);he(d,de(o,c));var f=h,p=le(d,f),A=le(f,f),g=p*p-A*(le(d,d)-1);if(!(g<0)){var v=Math.sqrt(g),m=de(f,(-p-v)/A);if(he(m,d),m=pe(m),!n)return m;var y,b=t[0],_=e[0],w=t[1],x=e[1];_<b&&(y=b,b=_,_=y);var C=_-b,E=Lo(C-Zo)<na,B=E||C<na;if(!E&&x<w&&(y=w,w=x,x=y),B?E?w+x>0^m[1]<(Lo(m[0]-b)<na?w:x):w<=m[1]&&m[1]<=x:C>Zo^(b<=m[0]&&m[0]<=_)){var N=de(f,(-p+v)/A);return he(N,d),[m,pe(N)]}}}function r(e,n){var r=o?t:Zo-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var i=Math.cos(t),o=i>0,a=Lo(i)>na;return Ee(e,function(t){var i,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var f,p=[h,d],A=e(h,d),g=o?A?0:r(h,d):A?r(h+(h<0?Zo:-Zo),d):0;if(!i&&(l=u=A)&&t.lineStart(),A!==u&&(f=n(i,p),(Ae(i,f)||Ae(p,f))&&(p[0]+=na,p[1]+=na,A=e(p[0],p[1]))),A!==u)c=0,A?(t.lineStart(),f=n(p,i),t.point(f[0],f[1])):(f=n(i,p),t.point(f[0],f[1]),t.lineEnd()),i=f;else if(a&&i&&o^A){var v;g&s||!(v=n(p,i,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!A||i&&Ae(i,p)||t.point(p[0],p[1]),i=p,u=A,s=g},lineEnd:function(){u&&t.lineEnd(),i=null},clean:function(){return c|(l&&u)<<1}}},on(t,6*ia),o?[0,-t]:[-Zo,t-Zo])}function Me(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=0,h=1,d=s.x-u,f=s.y-l;if(o=t-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=n-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return c>0&&(i.a={x:u+c*d,y:l+c*f}),h<1&&(i.b={x:u+h*d,y:l+h*f}),i}}}}}}function Ue(t,e,n,r){function i(r,i){return Lo(r[0]-t)<na?i>0?0:3:Lo(r[0]-n)<na?i>0?2:1:Lo(r[1]-e)<na?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=p.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=p[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&q(l,o,t)>0&&++e:o[1]<=r&&q(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==h);else l.point(s[0],s[1])}function c(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function h(t,e){c(t,e)&&s.point(t,e)}function d(t,e){var n=c(t=Math.max(-es,Math.min(es,t)),e=Math.max(-es,Math.min(es,e)));if(p&&A.push([t,e]),w)g=t,v=e,m=n,w=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&_)s.point(t,e);else{var r={a:{x:y,y:b},b:{x:t,y:e}};B(r)?(_||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),x=!1):n&&(s.lineStart(),s.point(t,e),x=!1)}y=t,b=e,_=n}var f,p,A,g,v,m,y,b,_,w,x,C=s,E=Ne(),B=Me(t,e,n,r),N={point:h,lineStart:function(){N.point=d,p&&p.push(A=[]),w=!0,_=!1,y=b=NaN},lineEnd:function(){f&&(d(g,v),m&&_&&E.rejoin(),f.push(E.buffer())),N.point=h,_&&s.lineEnd()},polygonStart:function(){s=E,f=[],p=[],x=!0},polygonEnd:function(){s=C,f=xo.merge(f);var e=u([t,r]),n=x&&e,i=f.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&we(f,o,e,l,s),s.polygonEnd()),f=p=A=null}};return N}}function Qe(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Le(t){var e=0,n=Zo/3,r=We(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Zo/180,n=t[1]*Zo/180):[e/Zo*180,n/Zo*180]},i}function Re(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,W((o-(t*t+n*n)*i*i)/(2*i))]},n}function ke(){function t(t,e){rs+=i*t-r*e,r=t,i=e}var e,n,r,i;us.point=function(o,a){us.point=t,e=r=o,n=i=a},us.lineEnd=function(){t(e,n)}}function Oe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Pe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Pe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Pe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function De(t,e){$a+=t,Va+=e,++ja}function He(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ga+=a*(e+t)/2,qa+=a*(n+r)/2,Xa+=a,De(e=t,n=r)}var e,n;cs.point=function(r,i){cs.point=t,De(e=r,n=i)}}function ze(){cs.point=De}function Ke(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ga+=a*(r+t)/2,qa+=a*(i+e)/2,Xa+=a,Wa+=(a=i*t-r*e)*(r+t),Ya+=a*(i+e),Ja+=3*a,De(r=t,i=e)}var e,n,r,i;cs.point=function(o,a){cs.point=t,De(e=r=o,n=i=a)},cs.lineEnd=function(){t(e,n)}}function $e(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,ta)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:p};return s}function Ve(t){function e(t){return(s?r:n)(t)}function n(e){return qe(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){y=NaN,C.point=o,e.lineStart()}function o(n,r){var o=ue([n,r]),a=t(n,r);i(y,b,m,_,w,x,y=a[0],b=a[1],m=n,_=o[0],w=o[1],x=o[2],s,e),e.point(y,b)}function a(){C.point=n,e.lineEnd()}function u(){r(),C.point=l,C.lineEnd=c}function l(t,e){o(h=t,d=e),f=y,p=b,A=_,g=w,v=x,C.point=o}function c(){i(y,b,m,_,w,x,f,p,h,A,g,v,s,e),C.lineEnd=a,a()}var h,d,f,p,A,g,v,m,y,b,_,w,x,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function i(e,n,r,s,u,l,c,h,d,f,p,A,g,v){var m=c-e,y=h-n,b=m*m+y*y;if(b>4*o&&g--){var _=s+f,w=u+p,x=l+A,C=Math.sqrt(_*_+w*w+x*x),E=Math.asin(x/=C),B=Lo(Lo(x)-1)<na||Lo(r-d)<na?(r+d)/2:Math.atan2(w,_),N=t(B,E),T=N[0],I=N[1],F=T-e,S=I-n,M=y*F-m*S;(M*M/b>o||Lo((m*F+y*S)/b-.5)>.3||s*f+u*p+l*A<a)&&(i(e,n,r,s,u,l,T,I,B,_/=C,w/=C,x,g,v),v.point(T,I),i(T,I,B,_,w,x,c,h,d,f,p,A,g,v))}}var o=.5,a=Math.cos(30*ia),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function je(t){var e=Ve(function(e,n){return t([e*oa,n*oa])});return function(t){return Ye(e(t))}}function Ge(t){this.stream=t}function qe(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Xe(t){return We(function(){return t})()}function We(t){function e(t){return t=s(t[0]*ia,t[1]*ia),[t[0]*d+u,l-t[1]*d]}function n(t){return(t=s.invert((t[0]-u)/d,(l-t[1])/d))&&[t[0]*oa,t[1]*oa]}function r(){s=Qe(a=tn(v,m,y),o);var t=o(A,g);return u=f-t[0]*d,l=p+t[1]*d,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=Ve(function(t,e){return t=o(t,e),[t[0]*d+u,l-t[1]*d]}),d=150,f=480,p=250,A=0,g=0,v=0,m=0,y=0,b=ts,_=wt,w=null,x=null;return e.stream=function(t){return c&&(c.valid=!1),c=Ye(b(a,h(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,ts):Se((w=+t)*ia),i()):w},e.clipExtent=function(t){return arguments.length?(x=t,_=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):wt,i()):x},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(A=t[0]%360*ia,g=t[1]%360*ia,r()):[A*oa,g*oa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*ia,m=t[1]%360*ia,y=t.length>2?t[2]%360*ia:0,r()):[v*oa,m*oa,y*oa]},xo.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function Ye(t){return qe(t,function(e,n){t.point(e*ia,n*ia)})}function Je(t,e){return[t,e]}function Ze(t,e){return[t>Zo?t-ta:t<-Zo?t+ta:t,e]}function tn(t,e,n){return t?e||n?Qe(nn(t),rn(e,n)):nn(t):e||n?rn(e,n):Ze}function en(t){return function(e,n){return e+=t,[e>Zo?e-ta:e<-Zo?e+ta:e,n]}}function nn(t){var e=en(t);return e.invert=en(-t),e}function rn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),W(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),W(c*r-s*i)]},n}function on(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=an(n,i),o=an(n,o),(a>0?i<o:i>o)&&(i+=a*ta)):(i=t+a*ta,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=pe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function an(t,e){var n=ue(e);n[0]-=t,fe(n);var r=X(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-na)%(2*Math.PI)}function sn(t,e,n){var r=xo.range(t,e-na,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function un(t,e,n){var r=xo.range(t,e-na,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function ln(t){return t.source}function cn(t){return t.target}function hn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),d=2*Math.asin(Math.sqrt(tt(r-e)+i*a*tt(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*oa,Math.atan2(a,Math.sqrt(r*r+i*i))*oa]}:function(){return[t*oa,e*oa]};return p.distance=d,p}function dn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function fn(t,e){function n(t,e){a>0?e<-ea+na&&(e=-ea+na):e>ea-na&&(e=ea-na);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Zo/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=G(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-ea]},n):An}function pn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return Lo(i)<na?Je:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-G(i)*Math.sqrt(t*t+n*n)]},n)}function An(t,e){return[t,Math.log(Math.tan(Zo/4+e/2))]}function gn(t){var e,n=Xe(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Zo*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function vn(t,e){return[Math.log(Math.tan(Zo/4+e/2)),-t]}function mn(t){return t[0]}function yn(t){return t[1]}function bn(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function _n(t,e){return t[0]-e[0]||t[1]-e[1]}function wn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function xn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,d=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+d*a,u+d*c]}function Cn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function En(){jn(this),this.edge=this.site=this.circle=null}function Bn(t){var e=Cs.pop()||new En;return e.site=t,e}function Nn(t){kn(t),_s.remove(t),Cs.push(t),jn(t)}function Tn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Nn(t);for(var u=o;u.circle&&Lo(n-u.circle.x)<na&&Lo(r-u.circle.cy)<na;)o=u.P,s.unshift(u),Nn(u),u=o;s.unshift(u),kn(u);for(var l=a;l.circle&&Lo(n-l.circle.x)<na&&Lo(r-l.circle.cy)<na;)a=l.N,s.push(l),Nn(l),l=a;s.push(l),kn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Kn(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Hn(u.site,l.site,null,i),Rn(u),Rn(l)}function In(t){for(var e,n,r,i,o=t.x,a=t.y,s=_s._;s;)if((r=Fn(s,a)-o)>na)s=s.L;else{if(!((i=o-Sn(s,a))>na)){r>-na?(e=s.P,n=s):i>-na?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Bn(t);if(_s.insert(e,u),e||n){if(e===n)return kn(e),n=Bn(e.site),_s.insert(u,n),u.edge=n.edge=Hn(e.site,u.site),Rn(e),void Rn(n);if(n){kn(e),kn(n);var l=e.site,c=l.x,h=l.y,d=t.x-c,f=t.y-h,p=n.site,A=p.x-c,g=p.y-h,v=2*(d*g-f*A),m=d*d+f*f,y=A*A+g*g,b={x:(g*m-f*y)/v+c,y:(d*y-A*m)/v+h};Kn(n.edge,l,p,b),u.edge=Hn(l,t,null,b),n.edge=Hn(t,p,null,b),Rn(e),Rn(n)}else u.edge=Hn(e.site,u.site)}}function Fn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,d=c/l;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function Sn(t,e){var n=t.N;if(n)return Fn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Mn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],A=bs,g=A.length;g--;)if((o=A[g])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(Lo(r-e)>na||Lo(i-n)>na)&&(s.splice(a,0,new $n(zn(o.site,c,Lo(r-h)<na&&p-i>na?{x:h,y:Lo(e-h)<na?n:p}:Lo(i-p)<na&&d-r>na?{x:Lo(n-p)<na?e:d,y:p}:Lo(r-d)<na&&i-f>na?{x:d,y:Lo(e-d)<na?n:f}:Lo(i-f)<na&&r-h>na?{x:Lo(n-f)<na?e:h,y:f}:null),o.site,null)),++u)}function Qn(t,e){return e.angle-t.angle}function Ln(){jn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Rn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=2*(u*(g=o.y-s)-l*c);if(!(h>=-ra)){var d=u*u+l*l,f=c*c+g*g,p=(g*d-l*f)/h,A=(u*f-c*d)/h,g=A+s,v=Es.pop()||new Ln;v.arc=t,v.site=i,v.x=p+a,v.y=g+Math.sqrt(p*p+A*A),v.cy=g,t.circle=v;for(var m=null,y=xs._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}xs.insert(m,v),m||(ws=v)}}}}function kn(t){var e=t.circle;e&&(e.P||(ws=e.N),xs.remove(e),Es.push(e),jn(e),t.circle=null)}function On(t){for(var e,n=ys,r=Me(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Pn(e=n[i],t)||!r(e)||Lo(e.a.x-e.b.x)<na&&Lo(e.a.y-e.b.y)<na)&&(e.a=e.b=null,n.splice(i,1))}function Pn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,A=h.y,g=(d+p)/2,v=(f+A)/2;if(A===f){if(g<a||g>=s)return;if(d>p){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(r=(d-p)/(A-f),i=v-r*g,r<-1||r>1)if(d>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(f<A){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Dn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Hn(t,e,n,r){var i=new Dn(t,e);return ys.push(i),n&&Kn(i,t,e,n),r&&Kn(i,e,t,r),bs[t.i].edges.push(new $n(i,t,e)),bs[e.i].edges.push(new $n(i,e,t)),i}function zn(t,e,n){var r=new Dn(t,null);return r.a=e,r.b=n,ys.push(r),r}function Kn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function $n(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Vn(){this._=null}function jn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function qn(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Xn(t){for(;t.L;)t=t.L;return t}function Wn(t,e){var n,r,i,o=t.sort(Yn).pop();for(ys=[],bs=new Array(t.length),_s=new Vn,xs=new Vn;;)if(i=ws,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(bs[o.i]=new Mn(o),In(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Tn(i.arc)}e&&(On(e),Un(e));var a={cells:bs,edges:ys};return _s=xs=ys=bs=null,a}function Yn(t,e){return e.y-t.y||e.x-t.x}function Jn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Zn(t){return t.x}function tr(t){return t.y}function er(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&er(t,u[0],n,r,a,s),u[1]&&er(t,u[1],a,r,i,s),u[2]&&er(t,u[2],n,s,a,o),u[3]&&er(t,u[3],a,s,i,o)}}function nr(t,e){t=xo.rgb(t),e=xo.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+At(Math.round(n+o*t))+At(Math.round(r+a*t))+At(Math.round(i+s*t))}}function rr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=ar(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function ir(t,e){return e-=t=+t,function(n){return t+e*n}}function or(t,e){var n,r,i,o=Ns.lastIndex=Ts.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Ns.exec(t))&&(r=Ts.exec(e));)(i=r.index)>o&&(i=e.substring(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ir(n,r)})),o=Ts.lastIndex;return o<e.length&&(i=e.substring(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function ar(t,e){for(var n,r=xo.interpolators.length;--r>=0&&!(n=xo.interpolators[r](t,e)););return n}function sr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(ar(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function ur(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function lr(t){return function(e){return 1-t(1-e)}}function cr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function hr(t){return t*t}function dr(t){return t*t*t}function fr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function pr(t){return 1-Math.cos(t*ea)}function Ar(t){return Math.pow(2,10*(t-1))}function gr(t){return 1-Math.sqrt(1-t*t)}function vr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function mr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function yr(t){var e=[t.a,t.b],n=[t.c,t.d],r=_r(e),i=br(e,n),o=_r(wr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*oa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*oa:0}function br(t,e){return t[0]*e[0]+t[1]*e[1]}function _r(t){var e=Math.sqrt(br(t,t));return e&&(t[0]/=e,t[1]/=e),e}function wr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function xr(t,e){var n,r=[],i=[],o=xo.transform(t),a=xo.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,d=a.skew,f=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:ir(s[0],u[0])},{i:3,x:ir(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:ir(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:ir(h,d)}):d&&r.push(r.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:ir(f[0],p[0])},{i:n-2,x:ir(f[1],p[1])})):1==p[0]&&1==p[1]||r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Cr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Er(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Br(t){for(var e=t.source,n=t.target,r=Tr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Nr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Tr(t,e){if(t===e)return t;for(var n=Nr(t),r=Nr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Ir(t){t.fixed|=2}function Fr(t){t.fixed&=-7}function Sr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Mr(t){t.fixed&=-5}function Ur(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(Ur(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qr(t,e){return xo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Dr,t}function Lr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Rr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function kr(t){return t.children}function Or(t){return t.value}function Pr(t,e){return e.value-t.value}function Dr(t){return xo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function Hr(t){return t.x}function zr(t){return t.y}function Kr(t,e,n){t.y0=e,t.y=n}function $r(t){return xo.range(t.length)}function Vr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function jr(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Gr(t){return t.reduce(qr,0)}function qr(t,e){return t+e[1]}function Xr(t,e){return Wr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Wr(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Yr(t){return[xo.min(t),xo.max(t)]}function Jr(t,e){return t.value-e.value}function Zr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ti(t,e){t._pack_next=e,e._pack_prev=t}function ei(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function ni(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-1/0,d=1/0,f=-1/0;if(n.forEach(ri),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(ai(r,i,o=n[2]),e(o),Zr(r,o),r._pack_prev=o,Zr(o,i),i=r._pack_next,a=3;a<l;a++){ai(r,i,o=n[a]);var p=0,A=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,A++)if(ei(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!ei(u,o);u=u._pack_prev,g++);p?(A<g||A==g&&i.r<r.r?ti(r,i=s):ti(r=u,i),a--):(Zr(r,o),i=o,e(o))}var v=(c+h)/2,m=(d+f)/2,y=0;for(a=0;a<l;a++)(o=n[a]).x-=v,o.y-=m,y=Math.max(y,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=y,n.forEach(ii)}}function ri(t){t._pack_next=t._pack_prev=t}function ii(t){delete t._pack_next,delete t._pack_prev}function oi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)oi(i[o],e,n,r)}function ai(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function si(t,e){return t.parent==e.parent?1:2}function ui(t){var e=t.children;return e.length?e[0]:t.t}function li(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ci(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function hi(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function di(t,e,n){return t.a.parent===e.parent?t.a:n}function fi(t){return 1+xo.max(t,function(t){return t.y})}function pi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ai(t){var e=t.children;return e&&e.length?Ai(e[0]):t}function gi(t){var e,n=t.children;return n&&(e=n.length)?gi(n[e-1]):t}function vi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function mi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function yi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function bi(t){return t.rangeExtent?t.rangeExtent():yi(t.range())}function _i(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function wi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function xi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ps}function Ci(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=xo.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Ei(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Ci:_i,u=r?Er:Cr;return a=i(t,e,u,n),s=i(e,t,u,ar),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(mr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Ii(t,e)},o.tickFormat=function(e,n){return Fi(t,e,n)},o.nice=function(e){return Ni(t,e),i()},o.copy=function(){return Ei(t,e,n,r)},i()}function Bi(t,e){return xo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ni(t,e){return wi(t,xi(Ti(t,e)[2]))}function Ti(t,e){null==e&&(e=10);var n=yi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ii(t,e){return xo.range.apply(xo,Ti(t,e))}function Fi(t,e,n){var r=Ti(t,e);if(n){var i=Na.exec(n);if(i.shift(),"s"===i[8]){var o=xo.formatPrefix(Math.max(Lo(r[0]),Lo(r[1])));return i[7]||(i[7]="."+Si(o.scale(r[2]))),i[8]="f",n=xo.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Mi(i[8],r)),n=i.join("")}else n=",."+Si(r[2])+"f";return xo.format(n)}function Si(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Mi(t,e){var n=Si(e[2]);return t in Ds?Math.abs(n-Si(Math.max(Lo(e[0]),Lo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ui(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=wi(r.map(i),n?Math:zs);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=yi(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(d=1;d<h;d++)a.push(o(l)*d);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var d=h-1;d>0;d--)a.push(o(l)*d);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return Hs;arguments.length<2?e=Hs:"function"!=typeof e&&(e=xo.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return Ui(t.copy(),e,n,r)},Bi(a,t)}function Qi(t,e,n){function r(e){return t(i(e))}var i=Li(e),o=Li(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Ii(n,t)},r.tickFormat=function(t,e){return Fi(n,t,e)},r.nice=function(t){return r.domain(Ni(n,t))},r.exponent=function(a){return arguments.length?(i=Li(e=a),o=Li(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Qi(t.copy(),e,n)},Bi(r,t)}function Li(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ri(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return xo.range(t.length).map(function(t){return e+n*t})}var i,o,s;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new a;for(var o,s=-1,u=r.length;++s<u;)i.has(o=r[s])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+a);return o=r(t.length<2?(u+l)/2:u+c*a/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],h=(i[1-l]-c)/(t.length-a+2*u);return o=r(c+h*u,h),l&&o.reverse(),s=h*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],h=i[1-l],d=Math.floor((h-c)/(t.length-a+2*u)),f=h-c-(t.length-a)*d;return o=r(c+Math.round(f/2),d),l&&o.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return yi(e.a[0])},n.copy=function(){return Ri(t,e)},n.domain(t)}function ki(n,r){function i(){var t=0,e=r.length;for(a=[];++t<e;)a[t-1]=xo.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return r[xo.bisect(a,t)]}var a;return o.domain=function(r){return arguments.length?(n=r.filter(e).sort(t),i()):n},o.range=function(t){return arguments.length?(r=t,i()):r},o.quantiles=function(){return a},o.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},o.copy=function(){return ki(n,r)},i()}function Oi(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return Oi(t,e,n)},i()}function Pi(t,e){function n(n){if(n<=n)return e[xo.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Pi(t,e)},n}function Di(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ii(t,e)},e.tickFormat=function(e,n){return Fi(t,e,n)},e.copy=function(){return Di(t)},e}function Hi(t){return t.innerRadius}function zi(t){return t.outerRadius}function Ki(t){return t.startAngle}function $i(t){return t.endAngle}function Vi(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,d=e.length,f=_t(n),p=_t(r);++h<d;)i.call(this,u=e[h],h)?c.push([+f.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=mn,r=yn,i=_e,o=ji,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Xs.get(t)||ji).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ji(t){return t.join("L")}function Gi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function qi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Xi(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ji(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Wi(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Yi(t){if(t.length<3)return ji(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Ji(Js,a),",",Ji(Js,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Zi(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ji(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Zi(t,e,n){t.push("C",Ji(Ws,e),",",Ji(Ws,n),",",Ji(Ys,e),",",Ji(Ys,n),",",Ji(Js,e),",",Ji(Js,n))}function to(t,e){return(e[1]-t[1])/(e[0]-t[0])}function eo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=to(i,o);++e<n;)r[e]=(a+(a=to(i=o,o=t[e+1])))/2;return r[e]=a,r}function no(t){for(var e,n,r,i,o=[],a=eo(t),s=-1,u=t.length-1;++s<u;)e=to(t[s],t[s+1]),Lo(e)<na?a[s]=a[s+1]=0:(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function ro(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]+Gs,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function io(t){function e(e){function u(){A.push("M",s(t(v),h),c,l(t(g.reverse()),h),"Z")}for(var d,f,p,A=[],g=[],v=[],m=-1,y=e.length,b=_t(n),_=_t(i),w=n===r?function(){return f}:_t(r),x=i===o?function(){return p}:_t(o);++m<y;)a.call(this,d=e[m],m)?(g.push([f=+b.call(this,d,m),p=+_.call(this,d,m)]),v.push([+w.call(this,d,m),+x.call(this,d,m)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),A.length?A.join(""):null}var n=mn,r=mn,i=0,o=yn,a=_e,s=ji,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Xs.get(t)||ji).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function oo(t){return t.radius}function ao(t){return[t.x,t.y]}function so(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+Gs;return[n*Math.cos(r),n*Math.sin(r)]}}function uo(){return 64}function lo(){return"circle"}function co(t){var e=Math.sqrt(t/Zo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ho(t,e){return Do(t,iu),t.id=e,t}function fo(t,e,n,r){var i=t.id;return L(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function po(t){return null==t&&(t=""),function(){this.textContent=t}}function Ao(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[n];if(!o){var s=r.time;o=i[n]={tween:new a,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,xo.timer(function(r){function a(r){if(i.active>n)return l();i.active=n,o.event&&o.event.start.call(t,c,e),o.tween.forEach(function(n,r){(r=r.call(t,c,e))&&A.push(r)}),xo.timer(function(){return p.c=u(r||1)?_e:u,1},0,s)}function u(r){if(i.active!==n)return l();for(var a=r/f,s=h(a),u=A.length;u>0;)A[--u].call(t,s);return a>=1?(o.event&&o.event.end.call(t,c,e),l()):void 0}function l(){return--i.count?delete i[n]:delete t.__transition__,1}var c=t.__data__,h=o.ease,d=o.delay,f=o.duration,p=Ca,A=[];if(p.t=d+s,d<=r)return a(r-d);p.c=a},0,s)}}function go(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function vo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function mo(t){return t.toISOString()}function yo(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=xo.bisect(fu,r);return i==fu.length?[e.year,Ti(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/fu[i-1]<fu[i]/r?i-1:i]:[gu,Ti(t,n)[2]]}return r.invert=function(e){return bo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(bo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,bo(+n+1),e).length}var o=r.domain(),a=yi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(wi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=bo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=bo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=yi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],bo(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return yo(t.copy(),e,n)},Bi(r,t)}function bo(t){return new Date(t)}function _o(t){return JSON.parse(t.responseText)}function wo(t){var e=Bo.createRange();return e.selectNode(Bo.body),e.createContextualFragment(t.responseText)}var xo={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Co=[].slice,Eo=function(t){return Co.call(t)},Bo=document,No=Bo.documentElement,To=window;try{Eo(No.childNodes)[0].nodeType}catch(t){Eo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Bo.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Io=To.Element.prototype,Fo=Io.setAttribute,So=Io.setAttributeNS,Mo=To.CSSStyleDeclaration.prototype,Uo=Mo.setProperty;Io.setAttribute=function(t,e){Fo.call(this,t,e+"")},Io.setAttributeNS=function(t,e,n){So.call(this,t,e,n+"")},Mo.setProperty=function(t,e,n){Uo.call(this,t,e+"",n)}}xo.ascending=t,xo.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},xo.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n<=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n<=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},xo.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n<=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n<=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},xo.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n<=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n<=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},xo.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},xo.mean=function(t,n){var r,i=0,o=t.length,a=-1,s=o;if(1===arguments.length)for(;++a<o;)e(r=t[a])?i+=r:--s;else for(;++a<o;)e(r=n.call(t,t[a],a))?i+=r:--s;return s?i/s:void 0},xo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},xo.median=function(n,r){return arguments.length>1&&(n=n.map(r)),(n=n.filter(e)).length?xo.quantile(n.sort(t),.5):void 0};var Qo=n(t);xo.bisectLeft=Qo.left,xo.bisect=xo.bisectRight=Qo.right,xo.bisector=function(e){return n(1===e.length?function(n,r){return t(e(n),r)}:e)},xo.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t},xo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},xo.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},xo.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=xo.min(arguments,r),n=new Array(e);++t<e;)for(var i,o=-1,a=n[t]=new Array(i);++o<i;)a[o]=arguments[o][t];return n},xo.transpose=function(t){return xo.zip.apply(xo,t)},xo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},xo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},xo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},xo.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var Lo=Math.abs;xo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,o=[],a=i(Lo(n)),s=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++s)>e;)o.push(r/a);else for(;(r=t+n*++s)<e;)o.push(r/a);return o},xo.map=function(t){var e=new a;if(t instanceof a)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},o(a,{has:s,get:function(t){return this[Ro+t]},set:function(t,e){return this[Ro+t]=e},remove:function(t){return(t=Ro+t)in this&&delete this[t]},keys:u,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:l,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===ko&&t.call(this,e.substring(1),this[e])}});var Ro="\0",ko=Ro.charCodeAt(0);xo.nest=function(){function t(e,s,u){if(u>=o.length)return r?r.call(i,s):n?s.sort(n):s;for(var l,c,h,d,f=-1,p=s.length,A=o[u++],g=new a;++f<p;)(d=g.get(l=A(c=s[f])))?d.push(c):g.set(l,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,u))}):(c={},h=function(n,r){c[n]=t(e,r,u)}),g.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],s=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(xo.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return s[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},xo.set=function(t){var e=new h;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},o(h,{has:s,add:function(t){return this[Ro+t]=!0,t},remove:function(t){return(t=Ro+t)in this&&delete this[t]},values:u,size:l,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===ko&&t.call(this,e.substring(1))}}),xo.behavior={},xo.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=d(t,e,e[n]);return t};var Oo=["webkit","ms","moz","Moz","o","O"];xo.dispatch=function(){for(var t=new A,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=g(t);return t},A.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},xo.event=null,xo.requote=function(t){return t.replace(Po,"\\$&")};var Po=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Do={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ho=function(t,e){return e.querySelector(t)},zo=function(t,e){return e.querySelectorAll(t)},Ko=No.matches||No[f(No,"matchesSelector")],$o=function(t,e){return Ko.call(t,e)};"function"==typeof Sizzle&&(Ho=function(t,e){return Sizzle(t,e)[0]||null},zo=Sizzle,$o=Sizzle.matchesSelector),xo.selection=function(){return qo};var Vo=xo.selection.prototype=[];Vo.select=function(t){var e,n,r,i,o=[];t=_(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return b(o)},Vo.selectAll=function(t){var e,n,r=[];t=w(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=Eo(t.call(n,n.__data__,s,i))),e.parentNode=n);return b(r)};var jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};xo.ns={prefix:jo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),jo.hasOwnProperty(n)?{space:jo[n],local:t}:t}},Vo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=xo.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},Vo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=B(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!E(t[i]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Vo.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(I(n,t[n],e));return this}if(r<2)return To.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(I(t,e,n))},Vo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Vo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Vo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Vo.append=function(t){return t=S(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Vo.insert=function(t,e){return t=S(t),e=_(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Vo.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Vo.data=function(t,e){function n(t,n){var r,i,o,s=t.length,h=n.length,d=Math.min(s,h),f=new Array(h),p=new Array(h),A=new Array(s);if(e){var g,v=new a,m=new a,y=[];for(r=-1;++r<s;)g=e.call(i=t[r],i.__data__,r),v.has(g)?A[r]=i:v.set(g,i),y.push(g);for(r=-1;++r<h;)g=e.call(n,o=n[r],r),(i=v.get(g))?(f[r]=i,i.__data__=o):m.has(g)||(p[r]=M(o)),m.set(g,o),v.remove(g);for(r=-1;++r<s;)v.has(y[r])&&(A[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=M(o);for(;r<h;++r)p[r]=M(n[r]);for(;r<s;++r)A[r]=t[r]}p.update=f,p.parentNode=f.parentNode=A.parentNode=t.parentNode,u.push(p),l.push(f),c.push(A)}var r,i,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++o<s;)(i=r[o])&&(t[o]=i.__data__);return t}var u=R([]),l=b([]),c=b([]);if("function"==typeof t)for(;++o<s;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<s;)n(r=this[o],t);return l.enter=function(){return u},l.exit=function(){return c},l},Vo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Vo.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=U(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return b(i)},Vo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Vo.sort=function(t){t=Q.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Vo.each=function(t){return L(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Vo.call=function(t){var e=Eo(arguments);return t.apply(e[0]=this,e),this},Vo.empty=function(){return!this.node()},Vo.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Vo.size=function(){var t=0;return this.each(function(){++t}),t};var Go=[];xo.selection.enter=R,xo.selection.enter.prototype=Go,Go.append=Vo.append,Go.empty=Vo.empty,Go.node=Vo.node,Go.call=Vo.call,Go.size=Vo.size,Go.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return b(a)},Go.insert=function(t,e){return arguments.length<2&&(e=k(this)),Vo.insert.call(this,t,e)},Vo.transition=function(){for(var t,e,n=tu||++ou,r=[],i=eu||{time:Date.now(),ease:fr,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(e=s[u])&&Ao(e,u,n,i),t.push(e)}return ho(r,n)},Vo.interrupt=function(){return this.each(O)},xo.select=function(t){var e=["string"==typeof t?Ho(t,Bo):t];return e.parentNode=No,b([e])},xo.selectAll=function(t){var e=Eo("string"==typeof t?zo(t,Bo):t);return e.parentNode=No,b([e])};var qo=xo.select(No);Vo.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(P(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(P(t,e,n))};var Xo=xo.map({mouseenter:"mouseover",mouseleave:"mouseout"});Xo.forEach(function(t){"on"+t in Bo&&Xo.remove(t)});var Wo="onselectstart"in Bo?null:f(No.style,"userSelect"),Yo=0;xo.mouse=function(t){return K(t,m())};var Jo=/WebKit/.test(To.navigator.userAgent)?-1:0;xo.touches=function(t,e){return arguments.length<2&&(e=m().touches),e?Eo(e).map(function(e){var n=K(t,e);return n.identifier=e.identifier,n}):[]},xo.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){var s,u=this,l=xo.event.target,c=u.parentNode,h=n.of(u,arguments),d=0,f=t(),p=".drag"+(null==f?"":"-"+f),A=xo.select(i()).on(o+p,function(){var t,n,r=e(c,f);r&&(t=r[0]-v[0],n=r[1]-v[1],d|=t|n,v=r,h({type:"drag",x:r[0]+s[0],y:r[1]+s[1],dx:t,dy:n}))}).on(a+p,function(){e(c,f)&&(A.on(o+p,null).on(a+p,null),g(d&&xo.event.target===l),h({type:"dragend"}))}),g=z(),v=e(c,f);r?(s=r.apply(u,arguments),s=[s.x-v[0],s.y-v[1]]):s=[0,0],h({type:"dragstart"})}}var n=y(t,"drag","dragstart","dragend"),r=null,i=e(p,xo.mouse,j,"mousemove","mouseup"),o=e($,xo.touch,V,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},xo.rebind(t,n,"on")};var Zo=Math.PI,ta=2*Zo,ea=Zo/2,na=1e-6,ra=na*na,ia=Zo/180,oa=180/Zo,aa=Math.SQRT2,sa=2;xo.interpolateZoom=function(t,e){function n(t){var e=t*v;if(g){var n=J(A),a=o/(sa*d)*(n*Z(aa*e+A)-Y(A));return[r+a*l,i+a*c,o*n/J(aa*e+A)]}return[r+t*l,i+t*c,o*Math.exp(aa*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,d=Math.sqrt(h),f=(u*u-o*o+4*h)/(2*o*sa*d),p=(u*u-o*o-4*h)/(2*u*sa*d),A=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(p*p+1)-p)-A,v=(g||Math.log(u/o))/aa;return n.duration=1e3*v,n},xo.behavior.zoom=function(){function t(t){t.on(N,l).on(ca+".zoom",h).on("dblclick.zoom",d).on(F,c)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function n(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function r(t){C.k=Math.max(B[0],Math.min(B[1],t))}function i(t,e){e=n(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function o(){_&&_.domain(b.range().map(function(t){return(t-C.x)/C.k}).map(b.invert)),x&&x.domain(w.range().map(function(t){return(t-C.y)/C.k}).map(w.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function u(t){t({type:"zoomend"})}function l(){var t=this,n=xo.event.target,r=S.of(t,arguments),o=0,l=xo.select(To).on(T,function(){o=1,i(xo.mouse(t),c),s(r)}).on(I,function(){l.on(T,null).on(I,null),h(o&&xo.event.target===n),u(r)}),c=e(xo.mouse(t)),h=z();O.call(t),a(r)}function c(){function t(){var t=xo.touches(f);return d=C.k,t.forEach(function(t){t.identifier in A&&(A[t.identifier]=e(t))}),t}function n(){var e=xo.event.target;xo.select(e).on(b,o).on(_,h),w.push(e);for(var n=xo.event.changedTouches,a=0,u=n.length;a<u;++a)A[n[a].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(c-m<500){var d=l[0],f=A[d.identifier];r(2*C.k),i(d,f),v(),s(p)}m=c}else if(l.length>1){var d=l[0],y=l[1],x=d[0]-y[0],E=d[1]-y[1];g=x*x+E*E}}function o(){for(var t,e,n,o,a=xo.touches(f),u=0,l=a.length;u<l;++u,o=null)if(n=a[u],o=A[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=g&&Math.sqrt(c/g);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*d)}m=null,i(t,e),s(p)}function h(){if(xo.event.touches.length){for(var e=xo.event.changedTouches,n=0,r=e.length;n<r;++n)delete A[e[n].identifier];for(var i in A)return void t()}xo.selectAll(w).on(y,null),x.on(N,l).on(F,c),E(),u(p)}var d,f=this,p=S.of(f,arguments),A={},g=0,y=".zoom-"+xo.event.changedTouches[0].identifier,b="touchmove"+y,_="touchend"+y,w=[],x=xo.select(f).on(N,null).on(F,n),E=z();O.call(f),n(),a(p)}function h(){var t=S.of(this,arguments);g?clearTimeout(g):(f=e(p=A||xo.mouse(this)),O.call(this),a(t)),g=setTimeout(function(){g=null,u(t)},50),v(),r(Math.pow(2,.002*ua())*C.k),i(p,f),s(t)}function d(){var t=S.of(this,arguments),n=xo.mouse(this),o=e(n),l=Math.log(C.k)/Math.LN2;a(t),r(Math.pow(2,xo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(t),u(t)}var f,p,A,g,m,b,_,w,x,C={x:0,y:0,k:1},E=[960,500],B=la,N="mousedown.zoom",T="mousemove.zoom",I="mouseup.zoom",F="touchstart.zoom",S=y(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=S.of(this,arguments),e=C;tu?xo.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=E[0],r=E[1],i=n/2,o=r/2,a=xo.interpolateZoom([(i-C.x)/C.k,(o-C.y)/C.k,n/C.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=C={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}}).each("end.zoom",function(){u(t)}):(this.__chart__=C,a(t),s(t),u(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},o(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},o(),t):C.k},t.scaleExtent=function(e){return arguments.length?(B=null==e?la:[+e[0],+e[1]],t):B},t.center=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.size=function(e){return arguments.length?(E=e&&[+e[0],+e[1]],t):E},t.x=function(e){return arguments.length?(_=e,b=e.copy(),C={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(x=e,w=e.copy(),C={x:0,y:0,k:1},t):x},xo.rebind(t,S,"on")};var ua,la=[0,1/0],ca="onwheel"in Bo?(ua=function(){return-xo.event.deltaY*(xo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Bo?(ua=function(){return xo.event.wheelDelta},"mousewheel"):(ua=function(){return-xo.event.detail},"MozMousePixelScroll");xo.color=et,et.prototype.toString=function(){return this.rgb()+""},xo.hsl=nt;var ha=nt.prototype=new et;ha.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,this.l/t)},ha.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new nt(this.h,this.s,t*this.l)},ha.rgb=function(){return rt(this.h,this.s,this.l)},xo.hcl=it;var da=it.prototype=new et;da.brighter=function(t){return new it(this.h,this.c,Math.min(100,this.l+fa*(arguments.length?t:1)))},da.darker=function(t){return new it(this.h,this.c,Math.max(0,this.l-fa*(arguments.length?t:1)))},da.rgb=function(){return ot(this.h,this.c,this.l).rgb()},xo.lab=at;var fa=18,pa=.95047,Aa=1,ga=1.08883,va=at.prototype=new et;va.brighter=function(t){return new at(Math.min(100,this.l+fa*(arguments.length?t:1)),this.a,this.b)},va.darker=function(t){return new at(Math.max(0,this.l-fa*(arguments.length?t:1)),this.a,this.b)},va.rgb=function(){return st(this.l,this.a,this.b)},xo.rgb=dt;var ma=dt.prototype=new et;ma.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new dt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new dt(i,i,i)},ma.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(t*this.r,t*this.g,t*this.b)},ma.hsl=function(){return vt(this.r,this.g,this.b)},ma.toString=function(){return"#"+At(this.r)+At(this.g)+At(this.b)};var ya=xo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ya.forEach(function(t,e){ya.set(t,ft(e))}),xo.functor=_t,xo.xhr=xt(wt),xo.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Ct(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(r=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;c<l;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.substring(e,c-s)}return t.substring(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,h=0;(r=n())!==a;){for(var d=[];r!==o&&r!==a;)d.push(r),r=n();e&&!(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new h,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},xo.csv=xo.dsv(",","text/csv"),xo.tsv=xo.dsv("\t","text/tab-separated-values"),xo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=m().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return K(t,r)};var ba,_a,wa,xa,Ca,Ea=To[f(To,"requestAnimationFrame")]||function(t){setTimeout(t,17)};xo.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,f:!1,n:null};_a?_a.n=i:ba=i,_a=i,wa||(xa=clearTimeout(xa),wa=1,Ea(Bt))},xo.timer.flush=function(){Nt(),Tt()},xo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ba=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*Lo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});xo.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=xo.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ba[8+n/3]};var Na=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ta=xo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=xo.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),Ia=xo.time={},Fa=Date;Mt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Sa.setUTCDate.apply(this._,arguments)},setDay:function(){Sa.setUTCDay.apply(this._,arguments)},setFullYear:function(){Sa.setUTCFullYear.apply(this._,arguments)},setHours:function(){Sa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Sa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Sa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Sa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Sa.setUTCSeconds.apply(this._,arguments)},setTime:function(){Sa.setTime.apply(this._,arguments)}};var Sa=Date.prototype;Ia.year=Ut(function(t){return(t=Ia.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ia.years=Ia.year.range,Ia.years.utc=Ia.year.utc.range,Ia.day=Ut(function(t){var e=new Fa(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ia.days=Ia.day.range,Ia.days.utc=Ia.day.utc.range,Ia.dayOfYear=function(t){var e=Ia.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ia[t]=Ut(function(t){return(t=Ia.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ia.year(t).getDay();return Math.floor((Ia.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ia[t+"s"]=n.range,Ia[t+"s"].utc=n.utc.range,Ia[t+"OfYear"]=function(t){var n=Ia.year(t).getDay();return Math.floor((Ia.dayOfYear(t)+(n+e)%7)/7)}}),Ia.week=Ia.sunday,Ia.weeks=Ia.sunday.range,Ia.weeks.utc=Ia.sunday.utc.range,Ia.weekOfYear=Ia.sundayOfYear;var Ma={"-":"",_:" ",0:"0"},Ua=/^\s*\d+/,Qa=/^%/;xo.locale=function(t){return{numberFormat:Ft(t),timeFormat:Lt(t)}};var La=xo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});xo.format=La.numberFormat,xo.geo={},ne.prototype={s:0,t:0,add:function(t){re(t,this.t,Ra),re(Ra.s,this.s,this),this.s?this.t+=Ra.t:this.s=Ra.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ra=new ne;xo.geo.stream=function(t,e){t&&ka.hasOwnProperty(t.type)?ka[t.type](t,e):ie(t,e)};var ka={Feature:function(t,e){ie(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ie(n[r].geometry,e)}},Oa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){oe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)oe(n[r],e,0)},Polygon:function(t,e){ae(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ae(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ie(n[r],e)}};xo.geo.area=function(t){return Pa=0,xo.geo.stream(t,Ha),Pa};var Pa,Da=new ne,Ha={sphere:function(){Pa+=4*Zo},point:p,lineStart:p,lineEnd:p,polygonStart:function(){Da.reset(),Ha.lineStart=se},polygonEnd:function(){var t=2*Da;Pa+=t<0?4*Zo+t:t,Ha.lineStart=Ha.lineEnd=Ha.point=p}};xo.geo.bounds=function(){function t(t,e){y.push(b=[c=t,d=t]),e<h&&(h=e),e>f&&(f=e)}function e(e,n){var r=ue([e*ia,n*ia]);if(v){var i=ce(v,r),o=ce([i[1],-i[0],0],i);fe(o),o=pe(o);var a=e-p,u=a>0?1:-1,l=o[0]*oa*u,A=Lo(a)>180;if(A^(u*p<l&&l<u*e))(g=o[1]*oa)>f&&(f=g);else if(l=(l+360)%360-180,A^(u*p<l&&l<u*e)){var g=-o[1]*oa;g<h&&(h=g)}else n<h&&(h=n),n>f&&(f=n);A?e<p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(e<c&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);v=r,p=e}function n(){_.point=e}function r(){b[0]=c,b[1]=d,_.point=t,v=null}function i(t,n){if(v){var r=t-p;m+=Lo(r)>180?r+(r>0?360:-360):r}else A=t,g=n;Ha.point(t,n),e(t,n)}function o(){Ha.lineStart()}function a(){i(A,g),Ha.lineEnd(),Lo(m)>na&&(c=-(d=180)),b[0]=c,b[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,A,g,v,m,y,b,_={point:t,lineStart:n,lineEnd:r,polygonStart:function(){_.point=i,_.lineStart=o,_.lineEnd=a,m=0,Ha.polygonStart()},polygonEnd:function(){Ha.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=r,Da<0?(c=-(d=180),h=-(f=90)):m>na?f=90:m<-na&&(h=-90),b[0]=c,b[1]=d}};return function(t){f=d=-(c=h=1/0),y=[],xo.geo.stream(t,_);var e=y.length;if(e){y.sort(u);for(var n=1,r=[p=y[0]];n<e;++n)l((o=y[n])[0],p)||l(o[1],p)?(s(p[0],o[1])>s(p[0],p[1])&&(p[1]=o[1]),s(o[0],p[1])>s(p[0],p[1])&&(p[0]=o[0])):r.push(p=o);for(var i,o,a=-1/0,n=0,p=r[e=r.length-1];n<=e;p=o,++n)o=r[n],(i=s(p[1],o[0]))>a&&(a=i,c=o[0],d=p[1])}return y=b=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),xo.geo.centroid=function(t){za=Ka=$a=Va=ja=Ga=qa=Xa=Wa=Ya=Ja=0,xo.geo.stream(t,Za);var e=Wa,n=Ya,r=Ja,i=e*e+n*n+r*r;return i<ra&&(e=Ga,n=qa,r=Xa,Ka<na&&(e=$a,n=Va,r=ja),(i=e*e+n*n+r*r)<ra)?[NaN,NaN]:[Math.atan2(n,e)*oa,W(r/Math.sqrt(i))*oa]};var za,Ka,$a,Va,ja,Ga,qa,Xa,Wa,Ya,Ja,Za={sphere:p,point:ge,lineStart:me,lineEnd:ye,polygonStart:function(){Za.lineStart=be},polygonEnd:function(){Za.lineStart=me}},ts=Ee(_e,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Zo:-Zo,u=Lo(o-n);Lo(u-Zo)<na?(t.point(n,r=(r+a)/2>0?ea:-ea),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Zo&&(Lo(n-i)<na&&(n-=i*na),Lo(o-s)<na&&(o-=s*na),r=Fe(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*ea,r.point(-Zo,i),r.point(0,i),r.point(Zo,i),r.point(Zo,0),r.point(Zo,-i),r.point(0,-i),r.point(-Zo,-i),r.point(-Zo,0),r.point(-Zo,i);else if(Lo(t[0]-e[0])>na){var o=t[0]<e[0]?Zo:-Zo;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Zo,-Zo/2]),es=1e9;xo.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Ue(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(xo.geo.conicEqualArea=function(){return Le(Re)}).raw=Re,xo.geo.albers=function(){return xo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},xo.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=xo.geo.albers(),a=xo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=xo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+na,h+.12*l+na],[c-.214*l-na,h+.234*l-na]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+na,h+.166*l+na],[c-.115*l-na,h+.234*l-na]]).stream(u).point,t},t.scale(1070)};var ns,rs,is,os,as,ss,us={point:p,lineStart:p,lineEnd:p,polygonStart:function(){rs=0,us.lineStart=ke},polygonEnd:function(){us.lineStart=us.lineEnd=us.point=p,ns+=Lo(rs/2)}},ls={point:function(t,e){t<is&&(is=t),t>as&&(as=t),e<os&&(os=e),e>ss&&(ss=e)},lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p},cs={point:De,lineStart:He,lineEnd:ze,polygonStart:function(){cs.lineStart=Ke},polygonEnd:function(){cs.point=De,cs.lineStart=He,cs.lineEnd=ze}};xo.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),xo.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return ns=0,xo.geo.stream(t,i(us)),ns},t.centroid=function(t){return $a=Va=ja=Ga=qa=Xa=Wa=Ya=Ja=0,xo.geo.stream(t,i(cs)),Ja?[Wa/Ja,Ya/Ja]:Xa?[Ga/Xa,qa/Xa]:ja?[$a/ja,Va/ja]:[NaN,NaN]},t.bounds=function(t){return as=ss=-(is=os=1/0),xo.geo.stream(t,i(ls)),[[is,os],[as,ss]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||je(t):wt,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Oe:new $e(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(xo.geo.albersUsa()).context(null)},xo.geo.transform=function(t){return{stream:function(e){var n=new Ge(e);for(var r in t)n[r]=t[r];return n}}},Ge.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},xo.geo.projection=Xe,xo.geo.projectionMutator=We,(xo.geo.equirectangular=function(){return Xe(Je)}).raw=Je.invert=Je,xo.geo.rotation=function(t){function e(e){return e=t(e[0]*ia,e[1]*ia),e[0]*=oa,e[1]*=oa,e}return t=tn(t[0]%360*ia,t[1]*ia,t.length>2?t[2]*ia:0),e.invert=function(e){return e=t.invert(e[0]*ia,e[1]*ia),e[0]*=oa,e[1]*=oa,e},e},Ze.invert=Je,xo.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=tn(-t[0]*ia,-t[1]*ia,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=oa,t[1]*=oa}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=on((e=+r)*ia,i*ia),t):e},t.precision=function(r){return arguments.length?(n=on(e*ia,(i=+r)*ia),t):i},t.angle(90)},xo.geo.distance=function(t,e){var n,r=(e[0]-t[0])*ia,i=t[1]*ia,o=e[1]*ia,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},xo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return xo.range(Math.ceil(o/g)*g,i,g).map(d).concat(xo.range(Math.ceil(l/v)*v,u,v).map(f)).concat(xo.range(Math.ceil(r/p)*p,n,p).filter(function(t){return Lo(t%g)>na}).map(c)).concat(xo.range(Math.ceil(s/A)*A,a,A).filter(function(t){return Lo(t%v)>na}).map(h))}var n,r,i,o,a,s,u,l,c,h,d,f,p=10,A=p,g=90,v=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(u).slice(1),d(i).reverse().slice(1),f(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(m)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],A=+e[1],t):[p,A]},t.precision=function(e){return arguments.length?(m=+e,c=sn(s,a,90),h=un(r,n,m),d=sn(l,u,90),f=un(o,i,m),t):m},t.majorExtent([[-180,-90+na],[180,90-na]]).minorExtent([[-180,-80-na],[180,80+na]])},xo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=ln,i=cn;return t.distance=function(){return xo.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},xo.geo.interpolate=function(t,e){return hn(t[0]*ia,t[1]*ia,e[0]*ia,e[1]*ia)},xo.geo.length=function(t){return hs=0,xo.geo.stream(t,ds),hs};var hs,ds={sphere:p,point:p,lineStart:function(){function t(t,i){var o=Math.sin(i*=ia),a=Math.cos(i),s=Lo((t*=ia)-e),u=Math.cos(s);hs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;ds.point=function(i,o){e=i*ia,n=Math.sin(o*=ia),r=Math.cos(o),ds.point=t},ds.lineEnd=function(){ds.point=ds.lineEnd=p}},lineEnd:p,polygonStart:p,polygonEnd:p},fs=dn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(xo.geo.azimuthalEqualArea=function(){return Xe(fs)}).raw=fs;var ps=dn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},wt);(xo.geo.azimuthalEquidistant=function(){return Xe(ps)}).raw=ps,(xo.geo.conicConformal=function(){return Le(fn)}).raw=fn,(xo.geo.conicEquidistant=function(){return Le(pn)}).raw=pn;var As=dn(function(t){return 1/t},Math.atan);(xo.geo.gnomonic=function(){return Xe(As)}).raw=As,An.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ea]},(xo.geo.mercator=function(){return gn(An)}).raw=An;var gs=dn(function(){return 1},Math.asin);(xo.geo.orthographic=function(){return Xe(gs)}).raw=gs;var vs=dn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(xo.geo.stereographic=function(){return Xe(vs)}).raw=vs,vn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ea]},(xo.geo.transverseMercator=function(){var t=gn(vn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=vn,xo.geom={},xo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=_t(n),o=_t(r),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(_n),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=bn(s),c=bn(u),h=c[0]===l[0],d=c[c.length-1]===l[l.length-1],f=[];for(e=l.length-1;e>=0;--e)f.push(t[s[l[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[s[c[e]][2]]);return f}var n=mn,r=yn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},xo.geom.polygon=function(t){return Do(t,ms),t};var ms=xo.geom.polygon.prototype=[];ms.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ms.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},ms.clip=function(t){for(var e,n,r,i,o,a,s=Cn(t),u=-1,l=this.length-Cn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)wn(a=e[n],c,i)?(wn(o,c,i)||t.push(xn(o,a,c,i)),t.push(a)):wn(o,c,i)&&t.push(xn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var ys,bs,_s,ws,xs,Cs=[],Es=[];Mn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Qn),e.length},$n.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Vn.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Xn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Gn(this,n),n=(t=n).U),n.C=!1,r.C=!0,qn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(qn(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Xn(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Gn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,qn(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Gn(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,qn(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Gn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,qn(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},xo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return Wn(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site;(e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/na)*na,y:Math.round(a(t,e)/na)*na,i:e}})}var r=mn,i=yn,o=r,a=i,s=Bs;return t?e(t):(e.links=function(t){return Wn(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return Wn(n(t)).cells.forEach(function(n,r){for(var i,o=n.site,a=n.edges.sort(Qn),s=-1,u=a.length,l=a[u-1].edge,c=l.l===o?l.r:l.l;++s<u;)l,i=c,c=(l=a[s].edge).l===o?l.r:l.l,r<i.i&&r<c.i&&Jn(o,i,c)<0&&e.push([t[r],t[i.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=_t(r=t),e):r},e.y=function(t){return arguments.length?(a=_t(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?Bs:t,e):s===Bs?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Bs?null:s&&s[1]},e)};var Bs=[[-1e6,-1e6],[1e6,1e6]];xo.geom.delaunay=function(t){return xo.geom.voronoi().triangles(t)},xo.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(Lo(u-n)+Lo(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,d=r>=c,f=(d<<1)+h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),h?i=l:s=l,d?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,d,f,p,A,g,v,m,y=_t(s),b=_t(u);if(null!=e)A=e,g=n,v=r,m=i;else if(v=m=-(A=g=1/0),h=[],d=[],p=t.length,a)for(f=0;f<p;++f)(c=t[f]).x<A&&(A=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>m&&(m=c.y),h.push(c.x),d.push(c.y);else for(f=0;f<p;++f){var _=+y(c=t[f],f),w=+b(c,f);_<A&&(A=_),w<g&&(g=w),_>v&&(v=_),w>m&&(m=w),h.push(_),d.push(w)}var x=v-A,C=m-g;x>C?m=g+x:v=A+C;var E={leaf:!0,nodes:[],point:null,x:null,y:null};if(E.add=function(t){o(E,t,+y(t,++f),+b(t,f),A,g,v,m)},E.visit=function(t){er(t,E,A,g,v,m)},f=-1,null==e){for(;++f<p;)o(E,t[f],h[f],d[f],A,g,v,m);--f}else t.forEach(E.add);return h=d=t=c=null,E}var a,s=mn,u=yn;return(a=arguments.length)?(s=Zn,u=tr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},xo.interpolateRgb=nr,xo.interpolateObject=rr,xo.interpolateNumber=ir,xo.interpolateString=or;var Ns=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ts=new RegExp(Ns.source,"g");xo.interpolate=ar,xo.interpolators=[function(t,e){var n=typeof e;return("string"===n?ya.has(e)||/^(#|rgb\(|hsl\()/.test(e)?nr:or:e instanceof et?nr:Array.isArray(e)?sr:"object"===n&&isNaN(e)?rr:ir)(t,e)}],xo.interpolateArray=sr;var Is=function(){return wt},Fs=xo.map({linear:Is,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return hr},cubic:function(){return dr},sin:function(){return pr},exp:function(){return Ar},circle:function(){return gr},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/ta*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*ta/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return vr}}),Ss=xo.map({in:wt,out:lr,"in-out":cr,"out-in":function(t){return cr(lr(t))}});xo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=Fs.get(n)||Is,r=Ss.get(r)||wt,ur(r(n.apply(null,Co.call(arguments,1))))},xo.interpolateHcl=function(t,e){t=xo.hcl(t),e=xo.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ot(n+o*t,r+a*t,i+s*t)+""}},xo.interpolateHsl=function(t,e){t=xo.hsl(t),e=xo.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return rt(n+o*t,r+a*t,i+s*t)+""}},xo.interpolateLab=function(t,e){t=xo.lab(t),e=xo.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return st(n+o*t,r+a*t,i+s*t)+""}},xo.interpolateRound=mr,xo.transform=function(t){var e=Bo.createElementNS(xo.ns.prefix.svg,"g");return(xo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new yr(n?n.matrix:Ms)})(t)},yr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ms={a:1,b:0,c:0,d:1,e:0,f:0};xo.interpolateTransform=xr,xo.layout={},xo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Br(t[n]));return e}},xo.layout.chord=function(){function t(){var t,l,h,d,f,p={},A=[],g=xo.range(o),v=[];for(n=[],r=[],t=0,d=-1;++d<o;){for(l=0,f=-1;++f<o;)l+=i[d][f];A.push(l),v.push(xo.range(o)),t+=l}for(a&&g.sort(function(t,e){return a(A[t],A[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(ta-c*o)/t,l=0,d=-1;++d<o;){for(h=l,f=-1;++f<o;){var m=g[d],y=v[m][f],b=i[m][y],_=l,w=l+=b*t;p[m+"-"+y]={index:m,subindex:y,startAngle:_,endAngle:w,value:b}}r[m]={index:m,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var x=p[d+"-"+f],C=p[f+"-"+d];(x.value||C.value)&&n.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},xo.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/g<u){if(u<p){l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<p){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=xo.event.x,t.py=xo.event.y,s.resume()}var n,r,i,o,a,s={},u=xo.dispatch("start","tick","end"),l=[1,1],c=.9,h=Us,d=Qs,f=-30,p=Ls,A=.1,g=.64,v=[],m=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,d,p,g,y,b,_=v.length,w=m.length;for(n=0;n<w;++n)h=(s=m[n]).source,(p=(y=(d=s.target).x-h.x)*y+(b=d.y-h.y)*b)&&(y*=p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,b*=p,d.x-=y*(g=h.weight/(d.weight+h.weight)),d.y-=b*g,h.x+=y*(g=1-g),h.y+=b*g);if((g=r*A)&&(y=l[0]/2,b=l[1]/2,n=-1,g))for(;++n<_;)(s=v[n]).x+=(y-s.x)*g,s.y+=(b-s.y)*g;if(f)for(Ur(e=xo.geom.quadtree(v),r,a),n=-1;++n<_;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<_;)(s=v[n]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(m=t,s):m},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(A=+t,s):A},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),xo.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;s<u;++s)n[s]=[];for(s=0;s<l;++s){var i=m[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=v.length,c=m.length,p=l[0],A=l[1];for(e=0;e<u;++e)(r=v[e]).index=e,r.weight=0;for(e=0;e<c;++e)"number"==typeof(r=m[e]).source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<u;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",A)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;e<c;++e)i[e]=+h.call(this,m[e],e);else for(e=0;e<c;++e)i[e]=h;if(o=[],"function"==typeof d)for(e=0;e<c;++e)o[e]=+d.call(this,m[e],e);else for(e=0;e<c;++e)o[e]=d;if(a=[],"function"==typeof f)for(e=0;e<u;++e)a[e]=+f.call(this,v[e],e);else for(e=0;e<u;++e)a[e]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=xo.behavior.drag().origin(wt).on("dragstart.force",Ir).on("drag.force",e).on("dragend.force",Fr)),!arguments.length)return n;this.on("mouseover.force",Sr).on("mouseout.force",Mr).call(n)},xo.rebind(s,u,"on")};var Us=20,Qs=1,Ls=1/0;xo.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return Rr(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=Pr,n=kr,r=Or;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Lr(e,function(t){t.children&&(t.value=0)}),Rr(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},xo.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=xo.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qr(n,r)},xo.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/xo.sum(a),l=xo.range(o.length);null!=n&&l.sort(n===Rs?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return l.forEach(function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),c}var e=Number,n=Rs,r=0,i=ta;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var Rs={};xo.layout.stack=function(){function t(s,u){var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=xo.permute(l,h),c=xo.permute(c,h);var d,f,p,A=r.call(t,c,u),g=l.length,v=l[0].length;for(f=0;f<v;++f)for(i.call(t,l[0][f],p=A[f],c[0][f][1]),d=1;d<g;++d)i.call(t,l[d][f],p+=c[d-1][f][1],c[d][f][1]);return s}var e=wt,n=$r,r=Vr,i=Kr,o=Hr,a=zr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ks.get(e)||$r,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Os.get(e)||Vr,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var ks=xo.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(jr),o=t.map(Gr),a=xo.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return xo.range(t.length).reverse()},default:$r}),Os=xo.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=u=l=0,n=1;n<d;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<d;++n)f[n]-=l;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Vr});xo.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,d=l.length,f=h.length-1,p=e?1:1/d;++o<f;)(a=u[o]=[]).dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<d;)(s=l[o])>=c[0]&&s<=c[1]&&((a=u[xo.bisect(h,s,1,f)-1]).y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=Yr,i=Xr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=_t(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Wr(t,e)}:_t(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},xo.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Rr(s,function(t){t.r=+c(t.value)}),Rr(s,ni),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;Rr(s,function(t){t.r+=h}),Rr(s,ni),Rr(s,function(t){t.r-=h})}return oi(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=xo.layout.hierarchy().sort(Jr),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qr(t,n)},xo.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],d=e(h);if(Rr(d,n),d.parent.m=-d.z,Lr(d,r),l)Lr(h,o);else{var f=h,p=h,A=h;Lr(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>A.depth&&(A=t)});var g=s(f,p)/2-f.x,v=u[0]/(p.x+s(p,f)/2+g),m=u[1]/(A.depth||1);Lr(h,function(t){t.x=(t.x+g)*v,t.y=t.depth*m})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){hi(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,h=a.m,d=u.m;a=li(a),i=ui(i),a&&i;)u=ui(u),(o=li(o)).a=t,(r=a.z+h-i.z-l+s(a._,i._))>0&&(ci(di(a,t,n),t,r),l+=r,c+=r),h+=a.m,l+=i.m,d+=u.m,c+=o.m;a&&!li(o)&&(o.t=a,o.m+=h-c),i&&!ui(u)&&(u.t=i,u.m+=l-d,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=xo.layout.hierarchy().sort(null).value(null),s=si,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Qr(t,a)},xo.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;Rr(u,function(t){var e=t.children;e&&e.length?(t.x=pi(e),t.y=fi(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Ai(u),h=gi(u),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return Rr(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(f-d)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=xo.layout.hierarchy().sort(null).value(null),n=si,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qr(t,e)},xo.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],d=o.slice(),p=1/0,A="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(d,l.dx*l.dy/n.value),c.area=0;(u=d.length)>0;)c.push(a=d[u-1]),c.area+=a.area,"squarify"!==f||(s=r(c,A))<=p?(d.pop(),p=s):(c.area-=c.pop().area,i(c,A,l,!1),A=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,A,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),d&&(a=i),i}var a,s=xo.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=vi,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){return mi(e,t)}if(!arguments.length)return c;var n;return h=null==(c=t)?vi:"function"==(n=typeof t)?function(e){var n=t.call(o,e,e.depth);return null==n?vi(e):mi(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(d=t,a=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},Qr(o,s)},xo.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=xo.random.normal.apply(xo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=xo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},xo.scale={};var Ps={floor:wt,ceil:wt};xo.scale.linear=function(){return Ei([0,1],[0,1],ar,!1)};var Ds={s:1,g:1,p:1,r:1,e:1};xo.scale.log=function(){return Ui(xo.scale.linear().domain([0,1]),10,!0,[1,10])};var Hs=xo.format(".0e"),zs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};xo.scale.pow=function(){return Qi(xo.scale.linear(),1,[0,1])},xo.scale.sqrt=function(){return xo.scale.pow().exponent(.5)},xo.scale.ordinal=function(){return Ri([],{t:"range",a:[[]]})},xo.scale.category10=function(){return xo.scale.ordinal().range(Ks)},xo.scale.category20=function(){return xo.scale.ordinal().range($s)},xo.scale.category20b=function(){return xo.scale.ordinal().range(Vs)},xo.scale.category20c=function(){return xo.scale.ordinal().range(js)};var Ks=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pt),$s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pt),Vs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pt),js=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pt);xo.scale.quantile=function(){return ki([],[])},xo.scale.quantize=function(){return Oi(0,1,[0,1])},xo.scale.threshold=function(){return Pi([.5],[0,1])},xo.scale.identity=function(){return Di([0,1])},xo.svg={},xo.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+Gs,s=i.apply(this,arguments)+Gs,u=(s<a&&(u=a,a=s,s=u),s-a),l=u<Zo?"0":"1",c=Math.cos(a),h=Math.sin(a),d=Math.cos(s),f=Math.sin(s);return u>=qs?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*d+","+o*f+"L"+t*d+","+t*f+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*h+"Z":"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*d+","+o*f+"L0,0Z"}var e=Hi,n=zi,r=Ki,i=$i;return t.innerRadius=function(n){return arguments.length?(e=_t(n),t):e},t.outerRadius=function(e){return arguments.length?(n=_t(e),t):n},t.startAngle=function(e){return arguments.length?(r=_t(e),t):r},t.endAngle=function(e){return arguments.length?(i=_t(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+Gs;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Gs=-ea,qs=ta-na;xo.svg.line=function(){return Vi(wt)};var Xs=xo.map({linear:ji,"linear-closed":function(t){return ji(t)+"Z"},step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Gi,"step-after":qi,basis:Yi,"basis-open":function(t){if(t.length<4)return ji(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Ji(Js,o)+","+Ji(Js,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Zi(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Ji(Js,a),",",Ji(Js,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Zi(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=l/n,(r=t[l])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Yi(t)},cardinal:function(t,e){return t.length<3?ji(t):t[0]+Xi(t,Wi(t,e))},"cardinal-open":function(t,e){return t.length<4?ji(t):t[1]+Xi(t.slice(1,t.length-1),Wi(t,e))},"cardinal-closed":function(t,e){return t.length<3?ji(t):t[0]+Xi((t.push(t[0]),t),Wi([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ji(t):t[0]+Xi(t,no(t))}});Xs.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ws=[0,2/3,1/3,0],Ys=[0,1/3,2/3,0],Js=[0,1/6,2/3,1/6];xo.svg.line.radial=function(){var t=Vi(ro);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Gi.reverse=qi,qi.reverse=Gi,xo.svg.area=function(){return io(wt)},xo.svg.area.radial=function(){var t=io(ro);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},xo.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+Gs,c=l.call(t,i,r)+Gs;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Zo)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=ln,a=cn,s=oo,u=Ki,l=$i;return t.radius=function(e){return arguments.length?(s=_t(e),t):s},t.source=function(e){return arguments.length?(o=_t(e),t):o},t.target=function(e){return arguments.length?(a=_t(e),t):a},t.startAngle=function(e){return arguments.length?(u=_t(e),t):u},t.endAngle=function(e){return arguments.length?(l=_t(e),t):l},t},xo.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(r))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=ln,n=cn,r=ao;return t.source=function(n){return arguments.length?(e=_t(n),t):e},t.target=function(e){return arguments.length?(n=_t(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},xo.svg.diagonal.radial=function(){var t=xo.svg.diagonal(),e=ao,n=t.projection;return t.projection=function(t){return arguments.length?n(so(e=t)):e},t},xo.svg.symbol=function(){function t(t,r){return(Zs.get(e.call(this,t,r))||co)(n.call(this,t,r))}var e=lo,n=uo;return t.type=function(n){return arguments.length?(e=_t(n),t):e},t.size=function(e){return arguments.length?(n=_t(e),t):n},t};var Zs=xo.map({circle:co,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ru)),n=e*ru;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/nu),n=e*nu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/nu),n=e*nu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});xo.svg.symbolTypes=Zs.keys();var tu,eu,nu=Math.sqrt(3),ru=Math.tan(30*ia),iu=[],ou=0;iu.call=Vo.call,iu.empty=Vo.empty,iu.node=Vo.node,iu.size=Vo.size,xo.transition=function(t){return arguments.length?tu?t.transition():t:qo.transition()},xo.transition.prototype=iu,iu.select=function(t){var e,n,r,i=this.id,o=[];t=_(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),Ao(n,l,i,r.__transition__[i]),e.push(n)):e.push(null)}return ho(o,i)},iu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=w(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],h=-1,d=c.length;++h<d;)if(r=c[h]){o=r.__transition__[a],n=t.call(r,r.__data__,h,u),s.push(e=[]);for(var f=-1,p=n.length;++f<p;)(i=n[f])&&Ao(i,f,a,o),e.push(i)}return ho(s,a)},iu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=U(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var s=0,u=(n=this[o]).length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return ho(i,this.id)},iu.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):L(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},iu.attr=function(t,e){function n(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?xr:ar,o=xo.ns.qualify(t);return fo(this,"attr."+t,e,o.local?function(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(o.space,o.local);return n!==t&&(e=i(n,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}:function(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(o);return n!==t&&(e=i(n,t),function(t){this.setAttribute(o,e(t))})})})},iu.attrTween=function(t,e){var n=xo.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},iu.style=function(t,e,n){function r(){this.style.removeProperty(t)}var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return fo(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var r,i=To.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=ar(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},iu.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,To.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},iu.text=function(t){return fo(this,"text",t,po)},iu.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},iu.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=xo.ease.apply(xo,arguments)),L(this,function(n){n.__transition__[e].ease=t}))},iu.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:L(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},iu.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:L(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},iu.each=function(t,e){var n=this.id;if(arguments.length<2){var r=eu,i=tu;tu=n,L(this,function(e,r,i){eu=e.__transition__[n],t.call(e,e.__data__,r,i)}),eu=r,tu=i}else L(this,function(r){var i=r.__transition__[n];(i.event||(i.event=xo.dispatch("start","end"))).on(t,e)});return this},iu.transition=function(){for(var t,e,n,r,i=this.id,o=++ou,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l=0,c=(e=this[s]).length;l<c;l++)(n=e[l])&&((r=Object.create(n.__transition__[i])).delay+=r.duration,Ao(n,l,o,r)),t.push(n)}return ho(a,o)},xo.svg.axis=function(){function t(t){t.each(function(){var t,l=xo.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):wt:e,p=l.selectAll(".tick").data(d,h),A=p.enter().insert("g",".domain").attr("class","tick").style("opacity",na),g=xo.transition(p.exit()).style("opacity",na).remove(),v=xo.transition(p.order()).style("opacity",1),m=bi(h),y=l.selectAll(".domain").data([0]),b=(y.enter().append("path").attr("class","domain"),xo.transition(y));A.append("line"),A.append("text");var _=A.select("line"),w=v.select("line"),x=p.select("text").text(f),C=A.select("text"),E=v.select("text");switch(r){case"bottom":t=go,_.attr("y2",i),C.attr("y",Math.max(i,0)+a),w.attr("x2",0).attr("y2",i),E.attr("x",0).attr("y",Math.max(i,0)+a),x.attr("dy",".71em").style("text-anchor","middle"),b.attr("d","M"+m[0]+","+o+"V0H"+m[1]+"V"+o);break;case"top":t=go,_.attr("y2",-i),C.attr("y",-(Math.max(i,0)+a)),w.attr("x2",0).attr("y2",-i),E.attr("x",0).attr("y",-(Math.max(i,0)+a)),x.attr("dy","0em").style("text-anchor","middle"),b.attr("d","M"+m[0]+","+-o+"V0H"+m[1]+"V"+-o);break;case"left":t=vo,_.attr("x2",-i),C.attr("x",-(Math.max(i,0)+a)),w.attr("x2",-i).attr("y2",0),E.attr("x",-(Math.max(i,0)+a)).attr("y",0),x.attr("dy",".32em").style("text-anchor","end"),b.attr("d","M"+-o+","+m[0]+"H0V"+m[1]+"H"+-o);break;case"right":t=vo,_.attr("x2",i),C.attr("x",Math.max(i,0)+a),w.attr("x2",i).attr("y2",0),E.attr("x",Math.max(i,0)+a).attr("y",0),x.attr("dy",".32em").style("text-anchor","start"),b.attr("d","M"+o+","+m[0]+"H0V"+m[1]+"H"+o)}if(h.rangeBand){var B=h,N=B.rangeBand()/2;c=h=function(t){return B(t)+N}}else c.rangeBand?c=h:g.call(t,h);A.call(t,c),v.call(t,h)})}var e,n=xo.scale.linear(),r=au,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in su?e+"":au,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var au="bottom",su={top:1,right:1,bottom:1,left:1};xo.svg.brush=function(){function t(o){o.each(function(){var o=xo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(p,wt);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return uu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,h=xo.transition(o),d=xo.transition(a);u&&(c=bi(u),d.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),l&&(c=bi(l),d.attr("y",c[0]).attr("height",c[1]-c[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){var t=xo.mouse(y),i=!1;m&&(t[0]+=m[0],t[1]+=m[1]),B||(xo.event.altKey?(g||(g=[(c[0]+c[1])/2,(h[0]+h[1])/2]),T[0]=c[+(t[0]<g[0])],T[1]=h[+(t[1]<g[1])]):g=null),C&&p(t,u,0)&&(n(w),i=!0),E&&p(t,l,1)&&(r(w),i=!0),i&&(e(w),_({type:"brush",mode:B?"move":"resize"}))}function p(t,e,n){var r,i,s=bi(e),u=s[0],l=s[1],p=T[n],A=n?h:c,v=A[1]-A[0];if(B&&(u-=p,l-=v+p),r=(n?f:d)?Math.max(u,Math.min(l,t[n])):t[n],B?i=(r+=p)+v:(g&&(p=Math.max(u,Math.min(l,2*g[n]-r))),p<r?(i=r,r=p):i=p),A[0]!=r||A[1]!=i)return n?a=null:o=null,A[0]=r,A[1]=i,!0}function A(){i(),w.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),xo.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),_({type:"brushend"})}var g,m,y=this,b=xo.select(xo.event.target),_=s.of(y,arguments),w=xo.select(y),x=b.datum(),C=!/^(n|s)$/.test(x)&&u,E=!/^(e|w)$/.test(x)&&l,B=b.classed("extent"),N=z(),T=xo.mouse(y),I=xo.select(To).on("keydown.brush",function(){32==xo.event.keyCode&&(B||(g=null,T[0]-=c[1],T[1]-=h[1],B=2),v())}).on("keyup.brush",function(){32==xo.event.keyCode&&2==B&&(T[0]+=c[1],T[1]+=h[1],B=0,v())});if(xo.event.changedTouches?I.on("touchmove.brush",i).on("touchend.brush",A):I.on("mousemove.brush",i).on("mouseup.brush",A),w.interrupt().selectAll("*").interrupt(),B)T[0]=c[0]-T[0],T[1]=h[0]-T[1];else if(x){var F=+/w$/.test(x),S=+/^n/.test(x);m=[c[1-F]-T[0],h[1-S]-T[1]],T[0]=c[F],T[1]=h[S]}else xo.event.altKey&&(g=T.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),xo.select("body").style("cursor",b.style("cursor")),_({type:"brushstart"}),i()}var o,a,s=y(t,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],h=[0,0],d=!0,f=!0,p=lu[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:h,i:o,j:a},n=this.__chart__||e;this.__chart__=e,tu?xo.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=sr(c,e.x),r=sr(h,e.y);return o=a=null,function(i){c=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,p=lu[!u<<1|!l],t):u},t.y=function(e){return arguments.length?(l=e,p=lu[!u<<1|!l],t):l},t.clamp=function(e){return arguments.length?(u&&l?(d=!!e[0],f=!!e[1]):u?d=!!e:l&&(f=!!e),t):u&&l?[d,f]:u?d:l?f:null},t.extent=function(e){var n,r,i,s,d;return arguments.length?(u&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(d=n,n=r,r=d),n==c[0]&&r==c[1]||(c=[n,r])),l&&(i=e[0],s=e[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),s<i&&(d=i,i=s,s=d),i==h[0]&&s==h[1]||(h=[i,s])),t):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(d=n,n=r,r=d))),l&&(a?(i=a[0],s=a[1]):(i=h[0],s=h[1],l.invert&&(i=l.invert(i),s=l.invert(s)),s<i&&(d=i,i=s,s=d))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],h=[0,0],o=a=null),t},t.empty=function(){return!!u&&c[0]==c[1]||!!l&&h[0]==h[1]},xo.rebind(t,s,"on")};var uu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],cu=Ia.format=La.timeFormat,hu=cu.utc,du=hu("%Y-%m-%dT%H:%M:%S.%LZ");cu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?mo:du,mo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},mo.toString=du.toString,Ia.second=Ut(function(t){return new Fa(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ia.seconds=Ia.second.range,Ia.seconds.utc=Ia.second.utc.range,Ia.minute=Ut(function(t){return new Fa(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ia.minutes=Ia.minute.range,Ia.minutes.utc=Ia.minute.utc.range,Ia.hour=Ut(function(t){var e=t.getTimezoneOffset()/60;return new Fa(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ia.hours=Ia.hour.range,Ia.hours.utc=Ia.hour.utc.range,Ia.month=Ut(function(t){return(t=Ia.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ia.months=Ia.month.range,Ia.months.utc=Ia.month.utc.range;var fu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],pu=[[Ia.second,1],[Ia.second,5],[Ia.second,15],[Ia.second,30],[Ia.minute,1],[Ia.minute,5],[Ia.minute,15],[Ia.minute,30],[Ia.hour,1],[Ia.hour,3],[Ia.hour,6],[Ia.hour,12],[Ia.day,1],[Ia.day,2],[Ia.week,1],[Ia.month,1],[Ia.month,3],[Ia.year,1]],Au=cu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",_e]]),gu={range:function(t,e,n){return xo.range(Math.ceil(t/n)*n,+e,n).map(bo)},floor:wt,ceil:wt};pu.year=Ia.year,Ia.scale=function(){return yo(xo.scale.linear(),pu,Au)};var vu=pu.map(function(t){return[t[0].utc,t[1]]}),mu=hu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",_e]]);vu.year=Ia.year.utc,Ia.scale.utc=function(){return yo(xo.scale.linear(),vu,mu)},xo.text=xt(function(t){return t.responseText}),xo.json=function(t,e){return Ct(t,"application/json",_o,e)},xo.html=function(t,e){return Ct(t,"text/html",wo,e)},xo.xml=xt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(xo):"object"==typeof module&&module.exports&&(module.exports=xo),this.d3=xo}();